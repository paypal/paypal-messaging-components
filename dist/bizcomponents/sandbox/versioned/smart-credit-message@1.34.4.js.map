{"version":3,"sources":["webpack://crc/webpack/bootstrap","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/node.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/constants.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/renderers/dom.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/util.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/renderers/html.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/locale.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/order.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/params.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/defaults.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/env.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/fpti.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/funding.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/platform.js","webpack://crc/./node_modules/@krakenjs/grumbler-scripts/node_modules/@babel/runtime/helpers/esm/extends.js","webpack://crc/./node_modules/@krakenjs/belter/src/device.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/util.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/weakmap.js","webpack://crc/./node_modules/@krakenjs/belter/src/util.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/native.js","webpack://crc/./node_modules/@krakenjs/belter/src/constants.js","webpack://crc/./node_modules/@krakenjs/belter/src/dom.js","webpack://crc/./node_modules/@krakenjs/belter/src/storage.js","webpack://crc/./node_modules/@krakenjs/belter/src/experiment.js","webpack://crc/./node_modules/@krakenjs/belter/src/http.js","webpack://crc/./node_modules/@krakenjs/grumbler-scripts/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/utils.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/exceptions.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/flush.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/promise.js","webpack://crc/./node_modules/core-js-pure/internals/global.js","webpack://crc/./node_modules/core-js-pure/internals/function-uncurry-this.js","webpack://crc/./node_modules/core-js-pure/internals/fails.js","webpack://crc/./node_modules/core-js-pure/internals/is-callable.js","webpack://crc/./node_modules/@krakenjs/cross-domain-utils/src/constants.js","webpack://crc/./node_modules/@krakenjs/cross-domain-utils/src/utils.js","webpack://crc/./node_modules/core-js-pure/internals/well-known-symbol.js","webpack://crc/./node_modules/core-js-pure/internals/descriptors.js","webpack://crc/./node_modules/core-js-pure/internals/export.js","webpack://crc/./node_modules/@paypal/sdk-client/src/global.js","webpack://crc/./node_modules/@paypal/sdk-client/src/config.js","webpack://crc/./node_modules/@paypal/sdk-client/src/script.js","webpack://crc/./node_modules/@paypal/sdk-client/src/logger.js","webpack://crc/./node_modules/@paypal/sdk-client/src/domains.js","webpack://crc/./node_modules/@paypal/sdk-client/src/api.js","webpack://crc/./node_modules/@paypal/sdk-client/src/events.js","webpack://crc/./src/utils/sdk.js","webpack://crc/./src/utils/functional.js","webpack://crc/./node_modules/core-js-pure/stable/array/includes.js","webpack://crc/./node_modules/core-js-pure/internals/is-object.js","webpack://crc/./node_modules/core-js-pure/stable/object/entries.js","webpack://crc/./node_modules/core-js-pure/internals/function-call.js","webpack://crc/./node_modules/core-js-pure/internals/has-own-property.js","webpack://crc/./node_modules/core-js-pure/stable/array/from.js","webpack://crc/./node_modules/core-js-pure/stable/array/find.js","webpack://crc/./node_modules/core-js-pure/internals/object-define-property.js","webpack://crc/./src/utils/miscellaneous.js","webpack://crc/./src/utils/constants.js","webpack://crc/./node_modules/core-js-pure/internals/an-object.js","webpack://crc/./node_modules/core-js-pure/internals/to-object.js","webpack://crc/./node_modules/core-js-pure/internals/to-indexed-object.js","webpack://crc/./node_modules/core-js-pure/internals/path.js","webpack://crc/./node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://crc/./node_modules/core-js-pure/internals/length-of-array-like.js","webpack://crc/./node_modules/core-js-pure/stable/string/starts-with.js","webpack://crc/./src/utils/debug.js","webpack://crc/./node_modules/core-js-pure/internals/get-built-in.js","webpack://crc/./node_modules/core-js-pure/internals/classof-raw.js","webpack://crc/./node_modules/core-js-pure/internals/function-bind-context.js","webpack://crc/./node_modules/core-js-pure/internals/iterators.js","webpack://crc/./node_modules/core-js-pure/internals/entry-unbind.js","webpack://crc/./node_modules/core-js-pure/internals/require-object-coercible.js","webpack://crc/./node_modules/core-js-pure/internals/is-pure.js","webpack://crc/./node_modules/core-js-pure/internals/classof.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/constants.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/config.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/util.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/logger.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/http.js","webpack://crc/./src/utils/elements.js","webpack://crc/./node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://crc/./node_modules/core-js-pure/internals/function-bind-native.js","webpack://crc/./node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://crc/./node_modules/core-js-pure/internals/a-callable.js","webpack://crc/./node_modules/core-js-pure/internals/to-string.js","webpack://crc/./node_modules/core-js-pure/internals/object-keys.js","webpack://crc/./node_modules/core-js-pure/internals/hidden-keys.js","webpack://crc/./node_modules/core-js-pure/stable/object/assign.js","webpack://crc/./node_modules/core-js-pure/internals/internal-state.js","webpack://crc/./node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://crc/./node_modules/core-js-pure/internals/indexed-object.js","webpack://crc/./node_modules/core-js-pure/internals/to-property-key.js","webpack://crc/./node_modules/core-js-pure/internals/get-method.js","webpack://crc/./node_modules/core-js-pure/internals/shared-store.js","webpack://crc/./node_modules/core-js-pure/internals/to-integer-or-infinity.js","webpack://crc/./node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://crc/./node_modules/core-js-pure/internals/shared-key.js","webpack://crc/./node_modules/core-js-pure/stable/string/includes.js","webpack://crc/./node_modules/core-js-pure/internals/try-to-string.js","webpack://crc/./node_modules/core-js-pure/internals/uid.js","webpack://crc/./node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://crc/./node_modules/core-js-pure/internals/object-create.js","webpack://crc/./node_modules/core-js-pure/internals/define-built-in.js","webpack://crc/./node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://crc/./node_modules/core-js-pure/internals/get-iterator-method.js","webpack://crc/./node_modules/core-js-pure/internals/object-is-prototype-of.js","webpack://crc/./node_modules/core-js-pure/internals/define-iterator.js","webpack://crc/./node_modules/core-js-pure/internals/array-iteration.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://crc/./node_modules/core-js-pure/internals/is-symbol.js","webpack://crc/./node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://crc/./node_modules/core-js-pure/internals/native-symbol.js","webpack://crc/./node_modules/core-js-pure/internals/shared.js","webpack://crc/./node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://crc/./node_modules/core-js-pure/internals/document-create-element.js","webpack://crc/./node_modules/core-js-pure/internals/v8-prototype-define-bug.js","webpack://crc/./node_modules/core-js-pure/internals/array-includes.js","webpack://crc/./node_modules/core-js-pure/internals/to-length.js","webpack://crc/./node_modules/core-js-pure/internals/array-species-create.js","webpack://crc/./node_modules/core-js-pure/internals/is-array.js","webpack://crc/./node_modules/core-js-pure/internals/is-constructor.js","webpack://crc/./node_modules/core-js-pure/internals/inspect-source.js","webpack://crc/./node_modules/core-js-pure/internals/not-a-regexp.js","webpack://crc/./node_modules/core-js-pure/internals/correct-is-regexp-logic.js","webpack://crc/./node_modules/core-js-pure/internals/iterators-core.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://crc/./node_modules/core-js-pure/stable/array/flat-map.js","webpack://crc/./node_modules/core-js-pure/internals/object-keys-internal.js","webpack://crc/./node_modules/core-js-pure/internals/to-absolute-index.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.iterator.js","webpack://crc/./node_modules/core-js-pure/internals/iterator-close.js","webpack://crc/./node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://crc/./node_modules/core-js-pure/internals/create-property.js","webpack://crc/./node_modules/core-js-pure/internals/get-iterator.js","webpack://crc/./node_modules/core-js-pure/es/object/entries.js","webpack://crc/./node_modules/core-js-pure/modules/es.object.entries.js","webpack://crc/./node_modules/core-js-pure/internals/function-apply.js","webpack://crc/./node_modules/core-js-pure/internals/to-primitive.js","webpack://crc/./node_modules/core-js-pure/internals/engine-v8-version.js","webpack://crc/./node_modules/core-js-pure/internals/engine-user-agent.js","webpack://crc/./node_modules/core-js-pure/internals/ordinary-to-primitive.js","webpack://crc/./node_modules/core-js-pure/internals/set-global.js","webpack://crc/./node_modules/core-js-pure/internals/is-forced.js","webpack://crc/./node_modules/core-js-pure/internals/object-to-array.js","webpack://crc/./node_modules/core-js-pure/es/array/find.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.find.js","webpack://crc/./node_modules/core-js-pure/internals/array-species-constructor.js","webpack://crc/./node_modules/core-js-pure/es/array/includes.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.includes.js","webpack://crc/./node_modules/core-js-pure/es/string/includes.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.includes.js","webpack://crc/./node_modules/core-js-pure/internals/is-regexp.js","webpack://crc/./node_modules/core-js-pure/es/object/assign.js","webpack://crc/./node_modules/core-js-pure/modules/es.object.assign.js","webpack://crc/./node_modules/core-js-pure/internals/object-assign.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-own-property-symbols.js","webpack://crc/./node_modules/core-js-pure/es/array/from.js","webpack://crc/./node_modules/core-js-pure/internals/string-multibyte.js","webpack://crc/./node_modules/core-js-pure/internals/native-weak-map.js","webpack://crc/./node_modules/core-js-pure/internals/function-name.js","webpack://crc/./node_modules/core-js-pure/internals/create-iterator-constructor.js","webpack://crc/./node_modules/core-js-pure/internals/object-define-properties.js","webpack://crc/./node_modules/core-js-pure/internals/html.js","webpack://crc/./node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://crc/./node_modules/core-js-pure/internals/object-to-string.js","webpack://crc/./node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://crc/./node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.from.js","webpack://crc/./node_modules/core-js-pure/internals/array-from.js","webpack://crc/./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js","webpack://crc/./node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://crc/./node_modules/core-js-pure/es/array/flat-map.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.flat-map.js","webpack://crc/./node_modules/core-js-pure/internals/flatten-into-array.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.unscopables.flat-map.js","webpack://crc/./node_modules/core-js-pure/es/string/starts-with.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.starts-with.js","webpack://crc/./src/utils/activeTags.js","webpack://crc/./src/utils/performance.js","webpack://crc/./src/components/message/index.js","webpack://crc/./src/components/message/Message.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","hasOwnProperty","p","s","renderChildren","children","renderer","result","renderedChild","render","Array","isArray","subchild","push","ElementNode","props","type","onRender","this","el","FragmentNode","TextNode","text","ComponentNode","component","renderComponent","child","normalizeChildren","length","normalizeChild","toString","TypeError","node","element","ELEMENT_DEFAULT_XML_NAMESPACE","ATTRIBUTE_DEFAULT_XML_NAMESPACE","createTextElement","doc","createTextNode","addProps","keys","prop","val","match","addEventListener","slice","toLowerCase","xmlNamespace","setAttributeNS","setAttribute","tagName","id","replace","charAt","Math","floor","random","ADD_CHILDREN","firstChild","Error","win","contentWindow","document","docElement","documentElement","removeChild","dom","appendChild","addChildren","html","ELEMENT_PROP","innerHTML","window","querySelectorAll","script","parentNode","newScript","createElement","textContent","replaceChild","fixScripts","opts","domRenderer","xmlNamespaceDomRenderer","childNode","createElementNS","createElementWithXMLNamespace","SELF_CLOSING_TAGS","br","htmlEncode","htmlRenderer","concat","join","renderedProps","filter","map","renderedChildren","COUNTRY","AD","AE","AG","AI","AL","AM","AN","AO","AR","AT","AU","AW","AZ","BA","BB","BE","BF","BG","BH","BI","BJ","BM","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CD","CG","CH","CI","CK","CL","CM","CN","CO","CR","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GI","GL","GM","GN","GP","GR","GT","GW","GY","HK","HN","HR","HU","ID","IE","IL","IN","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KY","KZ","LA","LC","LI","LK","LS","LT","LU","LV","MA","MC","MD","ME","MG","MH","MK","ML","MN","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PL","PM","PN","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","ST","SV","SZ","TC","TD","TG","TH","TJ","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","VA","VC","VE","VG","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW","LANG","CS","DA","EL","EN","HE","JA","KO","SQ","TL","VI","ZH","ZH_HANT","COUNTRY_LANGS","INTENT","CAPTURE","AUTHORIZE","ORDER","TOKENIZE","SUBSCRIPTION","SDK_SETTINGS","NAMESPACE","CLIENT_TOKEN","MERCHANT_ID","PARTNER_ATTRIBUTION_ID","STAGE_HOST","API_STAGE_HOST","CSP_NONCE","ENABLE_3DS","SDK_INTEGRATION_SOURCE","USER_ID_TOKEN","AMOUNT","CLIENT_METADATA_ID","PAGE_TYPE","USER_EXPERIENCE_FLOW","POPUPS_DISABLED","SDK_QUERY_KEYS","COMPONENTS","ENV","DEBUG","CACHEBUST","CLIENT_ID","LOCALE","CURRENCY","COMMIT","VAULT","BUYER_COUNTRY","ENABLE_FUNDING","DISABLE_FUNDING","DISABLE_CARD","INTEGRATION_DATE","STAGE_ALIAS","CDN_REGISTRY","VERSION","QUERY_BOOL","TRUE","FALSE","UNKNOWN","PROTOCOL","HTTP","HTTPS","PAGE_TYPES","HOME","PRODUCT","CART","CHECKOUT","PRODUCT_LISTING","SEARCH_RESULTS","PRODUCT_DETAILS","MINI_CART","DEFAULT_CURRENCY","DEFAULT_INTENT","DEFAULT_SALE_COMMIT","DEFAULT_NONSALE_COMMIT","DEFAULT_VAULT","LOCAL","STAGE","SANDBOX","PRODUCTION","TEST","FPTI_KEY","FEED","STATE","TRANSITION","PAGE","BUTTON_TYPE","SESSION_UID","BUTTON_SESSION_UID","TOKEN","CONTEXT_ID","CONTEXT_TYPE","REFERER","MERCHANT_DOMAIN","PAY_ID","SELLER_ID","DATA_SOURCE","BUTTON_SOURCE","ERROR_CODE","ERROR_DESC","PAGE_LOAD_TIME","EXPERIMENT_NAME","TREATMENT_NAME","TRANSITION_TIME","FUNDING_LIST","FUNDING_COUNT","CHOSEN_FUNDING","BUTTON_LAYOUT","INTEGRATION_IDENTIFIER","SDK_NAME","SDK_VERSION","SDK_ENVIRONMENT","MOBILE_APP_VERSION","MOBILE_BUNDLE_IDENTIFIER","USER_AGENT","USER_ACTION","CONTEXT_CORRID","SDK_CACHE","SDK_LOAD_TIME","IS_VAULT","RESPONSE_DURATION","PAYMENT_FLOW","BUTTON_VERSION","FI_LIST","CHOSEN_FI_TYPE","SELECTED_FI","POTENTIAL_PAYMENT_METHODS","PAY_NOW","STICKINESS_ID","TIMESTAMP","OPTION_SELECTED","USER_IDENTITY_METHOD","FIELDS_COMPONENT_SESSION_ID","CPL_COMP_METRICS","CPL_CHUNK_METRICS","CPL_QUERY_METRICS","FPTI_USER_ACTION","CONTINUE","FPTI_DATA_SOURCE","PAYMENTS_SDK","FPTI_FEED","FPTI_SDK_NAME","CARD","VISA","MASTERCARD","AMEX","DISCOVER","HIPER","ELO","JCB","CUP","PLATFORM","DESKTOP","MOBILE","_extends","assign","target","arguments","source","apply","isDevice","userAgent","navigator","mockUserAgent","isIE","documentMode","Boolean","test","isIEIntranet","status","err","safeIndexOf","collection","item","objectIDs","CrossDomainSafeWeakMap","weakmap","values","WeakMap","freeze","testWeakMap","testKey","set","hasNativeWeakMap","_cleanupClosedWindows","isWindow","isWindowClosed","delete","splice","isSafeToReadWrite","entry","writable","index","has","undefined","getOrSet","getFunctionName","fn","__name__","displayName","setFunctionName","base64encode","str","btoa","encodeURIComponent","p1","String","fromCharCode","parseInt","Buffer","from","base64decode","atob","decodeURIComponent","charCodeAt","uniqueID","chars","Date","toISOString","getGlobal","global","__GLOBAL__","serializeArgs","args","JSON","stringify","subkey","obj","uid","getObjectID","passed","Element","nodeType","style","ownerDocument","_","isElement","getEmptyObject","memoizeGlobalIndex","memoizeGlobalIndexValidFrom","memoize","method","options","simpleCache","thisCache","thisNamespace","cacheTime","time","memoizeIndex","memoizedFunction","cache","cacheKey","cacheResult","now","reset","inlineMemoize","logic","__inline_memoize_cache__","noop","stringifyError","level","stack","message","indexOf","newErr","stringifyErrorMessage","defaultMessage","svgToBase64","svg","objFilter","promiseDebounce","delay","promise","timeout","clearTimeout","localPromise","ZalgoPromise","setTimeout","try","then","resolve","reject","safeInterval","loop","cancel","eventEmitter","triggered","handlers","emitter","on","eventName","handler","handlerList","cancelled","once","listener","trigger","promises","all","triggerOnce","capitalizeFirstLetter","string","toUpperCase","debounce","clear","ATTRIBUTES","UID","isDocumentReady","body","readyState","isDocumentInteractive","urlEncode","waitForWindowReady","parseQuery","queryString","params","split","pair","extendQuery","originalQuery","extendUrl","url","originalUrl","originalHash","query","hash","hashString","getPerformance","performance","timing","connectEnd","navigationStart","abs","isBrowser","location","getScript","host","path","reverse","scripts","getElementsByTagName","src","isLocalStorageEnabled","localStorage","setItem","getItem","removeItem","getBrowserLocales","nav","locales","languages","language","userLanguage","locale","country","lang","destroyElement","getResourceLoadTime","getEntries","entries","duration","interval","setInterval","clearInterval","currentScript","getCurrentScript","getStackTrace","stackDetails","exec","scriptLocation","inferCurrentScript","currentUID","getCurrentScriptUID","getAttribute","hashedString","total","strHashStr","dataset","getStorage","lifetime","accessedStorage","STORAGE_KEY","newStateID","getState","storage","localStorageEnabled","rawStorage","parse","getID","getSession","session","__session__","created","guid","isStateFresh","getSessionState","state","getSessionID","getBelterExperimentStorage","isEventUnique","loggedBeacons","getRandomInteger","range","experiment","group","sample","logTreatment","logCheckpoint","sticky","throttle","throttlePercentiles","getThrottlePercentile","treatment","started","forced","exp","isEnabled","isDisabled","getTreatment","log","checkpoint","payload","logStart","logComplete","headerBuilders","request","headers","json","data","normalizedHeaders","builtHeaders","headerBuilder","xhr","XMLHttpRequest","responseHeaders","rawHeaders","trim","parseHeaders","getAllResponseHeaders","contentType","isJSON","responseBody","responseText","evt","open","setRequestHeader","ontimeout","send","_objectWithoutPropertiesLoose","excluded","sourceKeys","isPromise","Promise","Window","constructor","flushPromise","dispatchedErrors","possiblyUnhandledPromiseHandlers","activeCount","flushActive","startActive","endActive","resolved","rejected","errorHandled","error","dispatching","isAsync","res","dispatch","j","dispatchPossiblyUnhandledError","asyncReject","chain","firstPromise","secondPromise","onSuccess","onError","promiseResult","catch","finally","onFinally","toPromise","lazy","count","results","prom","awaitPromises","items","onPossiblyUnhandledException","context","flush","check","it","globalThis","self","Function","NATIVE_BIND","require","FunctionPrototype","prototype","uncurryThis","argument","IE_WIN_ACCESS_ERROR","getActualProtocol","protocol","getProtocol","mockDomain","isAboutProtocol","canReadFromWindow","getActualDomain","parent","getParent","getDomain","domain","isSameDomain","desc","getOwnPropertyDescriptor","isMockProtocol","isActuallySameDomain","assertSameDomain","iframeWindows","iframeFrames","allowMock","closed","mockclosed","top","iframeIndex","frame","contains","isFrameWindowClosed","linkFrameWindow","cleanIframes","__cross_domain_utils_window_check__","isCurrentDomain","shared","hasOwn","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","symbolFor","createWellKnownSymbol","withoutSetter","description","fails","isCallable","f","isForced","createNonEnumerableProperty","wrapConstructor","NativeConstructor","Wrapper","a","b","USE_NATIVE","VIRTUAL_PROTOTYPE","sourceProperty","targetProperty","nativeProperty","resultProperty","descriptor","TARGET","GLOBAL","STATIC","stat","PROTO","proto","nativeSource","targetPrototype","noTargetGet","wrap","sham","real","getPayPalDomain","__PAYPAL_DOMAIN__","getSDKScript","__SDK_HOST__","__PATH__","attributes","attr","getLogger","Logger","clientID","info","basicAuth","__PAYPAL_API_DOMAIN__","Authorization","grant_type","access_token","getNamespace","querySelector","getLibraryVersion","__MESSAGES__","isZoidComponent","stringStartsWith","getBelterStorage","getOrCreateStorageID","isStorageFresh","getDeviceID","messagingDeviceID","isScriptBeingDestroyed","__ENV__","Map","partial","intialArgs","nextArgs","curry","arity","curried","toObject","DESCRIPTORS","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","O","P","Attributes","current","configurable","createState","initialState","objectAssign","withCredentials","xhttp","onreadystatechange","reduce","accumulator","header","stringIncludes","objectEntries","forEach","parseObjFromEncoding","encodedStr","binary","bytes","Uint8Array","decodedStr","Uint16Array","buffer","createEvent","Event","event","initEvent","dynamicImport","getCurrentTime","getTime","getEventListenerPassiveOptionIfSupported","viewport","head","content","__pp_prev_content__","__pp_prev_overflow__","overflow","__pp_prev_msOverflowStyle__","msOverflowStyle","setProperty","passiveIfSupported","passive","getStandardProductOffer","offer","isObject","requireObjectCoercible","IndexedObject","definePropertyModule","createPropertyDescriptor","toLength","ppDebug","inZoid","debugObj","search","console","warn","aFunction","variable","namespace","stringSlice","aCallable","that","getBuiltIn","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","CORRECT_ARGUMENTS","tag","tryGet","callee","LOG_LEVEL","INFO","WARN","ERROR","AUTO_FLUSH_LEVEL","LOG_LEVEL_PRIORITY","DEFAULT_LOG_LEVEL","sendBeacon","useBlob","blob","Blob","e","extendIfDefined","prefix","logLevel","transport","httpWin","enableSendBeacon","beaconResult","hasHeaders","canUseSendBeacon","isAmplitude","getHTTPTransport","amplitudeApiKey","flushInterval","events","tracking","payloadBuilders","metaBuilders","trackingBuilders","print","warning","immediateFlush","meta","builder","api_key","event_type","transition_name","event_properties","logger","logPayload","timestamp","enqueue","addBuilder","builders","debug","track","trackingPayload","addPayloadBuilder","addMetaBuilder","addTrackingBuilder","addHeaderBuilder","setTransport","newTransport","configure","getWindowFromElement","defaultView","HTMLElement","nodeName","container","className","getElementsByClassName","elem","insertBefore","span","appendImage","alt","srcset","logo","Image","dimensions","width","height","svgWrapper","canvas","elementContains","parentEl","childEl","Node","ELEMENT_NODE","parentBounds","left","bottom","innerHeight","right","innerWidth","getBoundingClientRect","childBounds","elementOutside","getRoot","baseElement","elementWindow","domPath","offsetHeight","computedRoot","arrayFind","elements","root","bitmap","tryToString","classof","internalObjectKeys","enumBugKeys","NATIVE_WEAK_MAP","sharedKey","hiddenKeys","store","wmget","wmhas","wmset","metadata","facade","enforce","getterFor","TYPE","$propertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","toPrimitive","isSymbol","func","setGlobal","ceil","number","postfix","activeXDocument","definePropertiesModule","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","display","F","Properties","TAG","SET_METHOD","getMethod","Iterators","ITERATOR","isPrototypeOf","$","IS_PURE","FunctionName","createIteratorConstructor","getPrototypeOf","setPrototypeOf","setToStringTag","defineBuiltIn","IteratorsCore","PROPER_FUNCTION_NAME","PROPER","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","IteratorPrototype","BUGGY_SAFARI_ITERATORS","returnThis","Iterable","NAME","IteratorConstructor","next","DEFAULT","IS_SET","FORCED","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","lengthOfArrayLike","arraySpeciesCreate","createMethod","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","$this","callbackfn","specificCreate","boundFunction","some","every","find","findIndex","filterReject","propertyIsEnumerableModule","toIndexedObject","$Symbol","iterator","V8_VERSION","getOwnPropertySymbols","symbol","version","copyright","license","EXISTS","toAbsoluteIndex","IS_INCLUDES","fromIndex","includes","toIntegerOrInfinity","min","arraySpeciesConstructor","originalArray","inspectSource","empty","construct","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","called","functionToString","isRegExp","MATCH","METHOD_NAME","regexp","error1","error2","PrototypeOfArrayIteratorPrototype","arrayIterator","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","names","max","integer","InternalStateModule","defineIterator","setInternalState","getInternalState","iterated","point","done","kind","innerResult","innerError","ArrayPrototype","propertyKey","getIteratorMethod","usingIterator","iteratorMethod","$entries","Reflect","ordinaryToPrimitive","TO_PRIMITIVE","input","pref","exoticToPrim","process","Deno","versions","v8","valueOf","replacement","feature","detection","normalize","POLYFILL","NATIVE","objectKeys","TO_ENTRIES","entryUnbind","$find","addToUnscopables","SKIPS_HOLES","isConstructor","SPECIES","C","$includes","notARegExp","correctIsRegExpLogic","stringIndexOf","searchString","getOwnPropertySymbolsModule","$assign","A","B","chr","T","argumentsLength","S","CONVERT_TO_STRING","pos","first","second","position","size","codeAt","getDescriptor","ENUMERABLE_NEXT","defineProperties","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","checkCorrectnessOfIteration","iterable","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIterator","arrayLike","IS_CONSTRUCTOR","mapfn","mapping","step","iteratorClose","ENTRIES","SAFE_CLOSING","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","flattenIntoArray","flatMap","sourceLen","original","start","depth","mapper","thisArg","targetIndex","sourceIndex","mapFn","un$StartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","getTagSize","classList","visibleElement","arrayFrom","getComputedStyle","getPropertyValue","getActiveTags","subHeadline","disclaimer","getRequestDuration","validateMetric","metric","requests","entryType","requestStart","responseStart","setupMessage","markup","parentStyles","warnings","xprops","onClick","onReady","onHover","onMarkup","onProps","resize","parentDeviceID","deviceID","messageRequestId","dimensionsRef","amount","currency","buyerCountry","ignoreCache","payerId","clientId","merchantId","setProps","serverData","setServerData","handleHover","button","background","padding","border","outline","textAlign","align","fontFamily","fontSize","activeTags","requestDuration","styles","focus","env","features","stageTag","newMessageRequestId","message_request_id","buyer_country","ignore_cache","credit_type","payer_id","client_id","merchant_id","acc","origin","resData","encodedData","buttonWidth","offsetWidth","buttonHeight","createMessage"],"mappings":"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CLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KAC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","file":"smart-credit-message.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 226);\n","/* @flow */\n\nimport { NODE_TYPE } from './constants';\n\nexport type NodePropsType = {\n    [string] : any // eslint-disable-line flowtype/no-weak-types\n};\n\nexport type EmptyProps = {||};\n\nexport type NodeRenderer<N, O> = (N) => O;\nexport type NodeRendererFactory<L, N, O> = (L) => NodeRenderer<N, O>;\n\ntype Primitive = string | boolean | number;\ntype NullablePrimitive = Primitive | null | void;\n\nexport type NodeType = ElementNode | TextNode | FragmentNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildNodeType = ElementNode | TextNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildType = ChildNodeType | Primitive | $ReadOnlyArray<ChildType>;\nexport type ChildrenType = $ReadOnlyArray<ChildNodeType>;\nexport type NullableChildType = $ReadOnlyArray<ChildType> | ChildNodeType | NullablePrimitive;\nexport type NullableChildrenType = $ReadOnlyArray<NullableChildrenType | ChildNodeType | NullablePrimitive>;\n\nexport type ComponentFunctionType<P> = (P, ChildrenType) => NullableChildType;\n\nexport type CreateElementNode = <P>(string, P, ...NullableChildrenType) => ElementNode; // eslint-disable-line no-undef, no-use-before-define\nexport type CreateComponentNode = <P>(ComponentFunctionType<P>, P, ...NullableChildrenType) => ComponentNode<*>; // eslint-disable-line no-undef, no-use-before-define\nexport type CreateNullComponentNode = <P>(ComponentFunctionType<P>, null, ...NullableChildrenType) => ComponentNode<*>; // eslint-disable-line no-undef, no-use-before-define\n\nexport type CreateNode = CreateNullComponentNode & CreateComponentNode & CreateElementNode;\n\nfunction renderChildren<T>(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>, renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> { // eslint-disable-line no-use-before-define\n    const result = [];\n\n    for (const child of children) {\n        const renderedChild = child.render(renderer);\n\n        if (!renderedChild) {\n            continue;\n        } else if (Array.isArray(renderedChild)) {\n            for (const subchild of renderedChild) {\n                if (subchild) {\n                    result.push(subchild);\n                }\n            }\n        } else {\n            result.push(renderedChild);\n        }\n    }\n\n    return result;\n}\n\nexport class ElementNode {\n    type : (typeof NODE_TYPE.ELEMENT) = NODE_TYPE.ELEMENT;\n\n    name : string;\n    props : NodePropsType;\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>; // eslint-disable-line no-use-before-define\n    onRender : ?<T>(T) => void; // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.name = name;\n        this.props = props || {};\n        this.children = children;\n\n        const onRender = this.props.onRender;\n        if (typeof onRender === 'function') {\n            this.onRender = onRender;\n            delete props.onRender;\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        const el = renderer(this);\n        if (this.onRender) {\n            this.onRender(el);\n        }\n        return el;\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class FragmentNode {\n    type : (typeof NODE_TYPE.FRAGMENT) = NODE_TYPE.FRAGMENT;\n\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>; // eslint-disable-line no-use-before-define\n\n    constructor(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.children = children;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class TextNode {\n    type : (typeof NODE_TYPE.TEXT) = NODE_TYPE.TEXT;\n\n    text : string;\n\n    constructor(text : string) {\n        this.text = text;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nexport class ComponentNode<P = null> {\n    type : (typeof NODE_TYPE.COMPONENT) = NODE_TYPE.COMPONENT;\n\n    component : ComponentFunctionType<NodePropsType>;\n    props : NodePropsType;\n    // eslint-disable-next-line no-use-before-define\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>;\n\n    constructor(component : ComponentFunctionType<NodePropsType>, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) {\n        this.component = component;\n        this.props = props || {};\n        this.children = children;\n\n        this.props.children = children;\n    }\n\n    renderComponent(renderer : NodeRenderer<*, *>) : * {\n        const child = normalizeChild(this.component(this.props, this.children)); // eslint-disable-line no-use-before-define\n        if (child) {\n            return child.render(renderer);\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nfunction normalizeChildren(children : NullableChildrenType) : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> {\n    const result = [];\n\n    for (const child of children) {\n        if (!child) {\n            continue;\n        } else if (typeof child === 'string' || typeof child === 'number') {\n            result.push(new TextNode(child.toString()));\n        } else if (typeof child === 'boolean') {\n            continue;\n        } else if (Array.isArray(child)) {\n            for (const subchild of normalizeChildren(child)) {\n                result.push(subchild);\n            }\n        } else if (child && (child.type === NODE_TYPE.ELEMENT || child.type === NODE_TYPE.TEXT || child.type === NODE_TYPE.COMPONENT)) {\n            result.push(child);\n        } else {\n            throw new TypeError(`Unrecognized node type: ${ typeof child }`);\n        }\n    }\n\n    return result;\n}\n\nfunction normalizeChild(child) : ElementNode | TextNode | ComponentNode<*> | FragmentNode | void {\n    const children = normalizeChildren(Array.isArray(child) ? child : [ child ]);\n\n    if (children.length === 1) {\n        return children[0];\n    } else if (children.length > 1) {\n        return new FragmentNode(children);\n    }\n}\n\nexport const node : CreateNode = <P>(element, props : P, ...children) => {\n    children = normalizeChildren(children);\n\n    if (typeof element === 'string') {\n        // $FlowFixMe\n        return new ElementNode(element, props, children);\n    }\n\n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return new ComponentNode<*>(element, props, children);\n    }\n\n    throw new TypeError(`Expected jsx element to be a string or a function`);\n};\n\nexport const Fragment : ComponentFunctionType<null> = (props, children) => {\n    return children;\n};\n","/* @flow */\n\nexport const NODE_TYPE = {\n    ELEMENT:   ('element' : 'element'),\n    TEXT:      ('text' : 'text'),\n    COMPONENT: ('component' : 'component'),\n    FRAGMENT:  ('fragment' : 'fragment')\n};\n","/* @flow */\n\nimport { ComponentNode, TextNode, type NodeRenderer, ElementNode } from '../node';\nimport { NODE_TYPE } from '../constants';\nimport { uniqueID } from '../util';\n\ntype DomNodeRenderer = NodeRenderer<ElementNode, HTMLElement>;\ntype DomTextRenderer = NodeRenderer<TextNode, Text>;\ntype DomComponentRenderer = NodeRenderer<ComponentNode<*>, HTMLElement | TextNode | $ReadOnlyArray<HTMLElement | TextNode> | void>;\ntype DomRenderer = DomComponentRenderer & DomNodeRenderer & DomTextRenderer;\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    SVG:     'svg',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    ID:         'id',\n    INNER_HTML: 'innerHTML',\n    EL:         'el',\n    XLINK_HREF: 'xlink:href'\n};\n\nconst ELEMENT_DEFAULT_XML_NAMESPACE : {| [$Values<typeof ELEMENT_TAG>] : string |} = {\n    [ ELEMENT_TAG.SVG ]: 'http://www.w3.org/2000/svg'\n};\n\nconst ATTRIBUTE_DEFAULT_XML_NAMESPACE : {| [$Values<typeof ELEMENT_PROP>] : string |} = {\n    [ ELEMENT_PROP.XLINK_HREF ]: 'http://www.w3.org/1999/xlink'\n};\n\nfunction fixScripts(el : HTMLElement | Element, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\nfunction createElement(doc : Document, node : ElementNode) : HTMLElement | Element {\n    if (node.props[ELEMENT_PROP.EL]) {\n        return node.props[ELEMENT_PROP.EL];\n    } else {\n        return doc.createElement(node.name);\n    }\n}\n\nfunction createElementWithXMLNamespace(doc : Document, node : ElementNode, xmlNamespace : string) : HTMLElement | Element {\n    return doc.createElementNS(xmlNamespace, node.name);\n}\n\nfunction createTextElement(doc : Document, node : TextNode) : Text {\n    return doc.createTextNode(node.text);\n}\n\nfunction addProps(el : HTMLElement | Element, node) {\n    const props = node.props;\n\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (prop.match(/^on[A-Z][a-z]/) && typeof val === 'function') {\n            el.addEventListener(prop.slice(2).toLowerCase(), val);\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            const xmlNamespace = ATTRIBUTE_DEFAULT_XML_NAMESPACE[prop];\n            if (xmlNamespace) {\n                el.setAttributeNS(xmlNamespace, prop, val.toString());\n            } else {\n                el.setAttribute(prop, val.toString());\n            }\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n        }\n    }\n\n    if (el.tagName.toLowerCase() === ELEMENT_TAG.IFRAME && !props.id) {\n        el.setAttribute(ELEMENT_PROP.ID, `jsx-iframe-${ uniqueID() }`);\n    }\n}\nconst ADD_CHILDREN : { [string] : (HTMLElement | Element, ElementNode, DomNodeRenderer) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.ELEMENT) || firstChild.name !== ELEMENT_TAG.HTML) {\n            throw new Error(`Expected only single html element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child : HTMLElement = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.TEXT)) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.text;\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: (el, node, renderer) => {\n        for (const child of node.renderChildren(renderer)) {\n            el.appendChild(child);\n        }\n    }\n};\n\nfunction addChildren(el : HTMLElement | Element, node : ElementNode, doc : Document, renderer : DomNodeRenderer) {\n    if (node.props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (node.children.length) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = node.props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (node.name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[node.name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement(el, node, renderer);\n    }\n}\n\ntype DomOptions = {|\n    doc? : Document\n|};\n\nconst getDefaultDomOptions = () : DomOptions => {\n    // $FlowFixMe\n    return {};\n};\n\nexport function dom(opts? : DomOptions = getDefaultDomOptions()) : DomRenderer {\n    const { doc = document } = opts;\n    \n    const xmlNamespaceDomRenderer = (node : ElementNode, xmlNamespace : string) : HTMLElement => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(childNode => xmlNamespaceDomRenderer(childNode, xmlNamespace));\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const el = createElementWithXMLNamespace(doc, node, xmlNamespace);\n            addProps(el, node);\n            addChildren(el, node, doc, childNode => xmlNamespaceDomRenderer(childNode, xmlNamespace));\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n    \n    const domRenderer : DomRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(domRenderer);\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const xmlNamespace = ELEMENT_DEFAULT_XML_NAMESPACE[node.name.toLowerCase()];\n\n            if (xmlNamespace) {\n                // $FlowFixMe\n                return xmlNamespaceDomRenderer(node, xmlNamespace);\n            }\n\n            const el = createElement(doc, node);\n            addProps(el, node);\n            addChildren(el, node, doc, domRenderer);\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return domRenderer;\n}\n","/* @flow */\n\nconst ALPHA_CHARS = '0123456789abcdef';\n\nexport function uniqueID() : string {\n    return 'xxxxxxxxxx'.replace(/./g, () => ALPHA_CHARS.charAt(Math.floor(Math.random() * ALPHA_CHARS.length)));\n}\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function isDefined(val : any) : boolean %checks {\n    return (val !== null && typeof val !== 'undefined');\n}\n","/* @flow */\n/* eslint unicorn/prefer-spread: off */\n\nimport { ComponentNode, TextNode, ElementNode, type NodePropsType, type NodeRenderer } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype HTMLRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, string>;\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nconst SELF_CLOSING_TAGS = {\n    br: true\n};\n\nfunction htmlEncode(text : string) : string {\n    return text\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        if (val === '') {\n            return htmlEncode(key);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport function html() : HTMLRenderer {\n\n    const htmlRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return [].concat(node.renderComponent(htmlRenderer)).join('');\n        }\n\n        if (node.type === NODE_TYPE.ELEMENT) {\n            const renderedProps = propsToHTML(node.props);\n\n            if (SELF_CLOSING_TAGS[node.name]) {\n                return `<${ node.name }${ renderedProps } />`;\n            } else {\n                const renderedChildren = (typeof node.props[ELEMENT_PROP.INNER_HTML] === 'string')\n                    ? node.props[ELEMENT_PROP.INNER_HTML]\n                    : node.renderChildren(htmlRenderer).join('');\n\n                return `<${ node.name }${ renderedProps }>${ renderedChildren }</${ node.name }>`;\n            }\n        }\n\n        if (node.type === NODE_TYPE.TEXT) {\n            return htmlEncode(node.text);\n        }\n\n        throw new TypeError(`Unhandleable node: ${ node.type }`);\n    };\n\n    return htmlRenderer;\n}\n","/* @flow */\n/* eslint max-lines: 0 */\n\nexport const COUNTRY = {\n    AD: ('AD' : 'AD'),\n    AE: ('AE' : 'AE'),\n    AG: ('AG' : 'AG'),\n    AI: ('AI' : 'AI'),\n    AL: ('AL' : 'AL'),\n    AM: ('AM' : 'AM'),\n    AN: ('AN' : 'AN'),\n    AO: ('AO' : 'AO'),\n    AR: ('AR' : 'AR'),\n    AT: ('AT' : 'AT'),\n    AU: ('AU' : 'AU'),\n    AW: ('AW' : 'AW'),\n    AZ: ('AZ' : 'AZ'),\n    BA: ('BA' : 'BA'),\n    BB: ('BB' : 'BB'),\n    BE: ('BE' : 'BE'),\n    BF: ('BF' : 'BF'),\n    BG: ('BG' : 'BG'),\n    BH: ('BH' : 'BH'),\n    BI: ('BI' : 'BI'),\n    BJ: ('BJ' : 'BJ'),\n    BM: ('BM' : 'BM'),\n    BN: ('BN' : 'BN'),\n    BO: ('BO' : 'BO'),\n    BR: ('BR' : 'BR'),\n    BS: ('BS' : 'BS'),\n    BT: ('BT' : 'BT'),\n    BW: ('BW' : 'BW'),\n    BY: ('BY' : 'BY'),\n    BZ: ('BZ' : 'BZ'),\n    CA: ('CA' : 'CA'),\n    CD: ('CD' : 'CD'),\n    CG: ('CG' : 'CG'),\n    CH: ('CH' : 'CH'),\n    CI: ('CI' : 'CI'),\n    CK: ('CK' : 'CK'),\n    CL: ('CL' : 'CL'),\n    CM: ('CM' : 'CM'),\n    CN: ('CN' : 'CN'),\n    CO: ('CO' : 'CO'),\n    CR: ('CR' : 'CR'),\n    CV: ('CV' : 'CV'),\n    CY: ('CY' : 'CY'),\n    CZ: ('CZ' : 'CZ'),\n    DE: ('DE' : 'DE'),\n    DJ: ('DJ' : 'DJ'),\n    DK: ('DK' : 'DK'),\n    DM: ('DM' : 'DM'),\n    DO: ('DO' : 'DO'),\n    DZ: ('DZ' : 'DZ'),\n    EC: ('EC' : 'EC'),\n    EE: ('EE' : 'EE'),\n    EG: ('EG' : 'EG'),\n    ER: ('ER' : 'ER'),\n    ES: ('ES' : 'ES'),\n    ET: ('ET' : 'ET'),\n    FI: ('FI' : 'FI'),\n    FJ: ('FJ' : 'FJ'),\n    FK: ('FK' : 'FK'),\n    FM: ('FM' : 'FM'),\n    FO: ('FO' : 'FO'),\n    FR: ('FR' : 'FR'),\n    GA: ('GA' : 'GA'),\n    GB: ('GB' : 'GB'),\n    GD: ('GD' : 'GD'),\n    GE: ('GE' : 'GE'),\n    GF: ('GF' : 'GF'),\n    GI: ('GI' : 'GI'),\n    GL: ('GL' : 'GL'),\n    GM: ('GM' : 'GM'),\n    GN: ('GN' : 'GN'),\n    GP: ('GP' : 'GP'),\n    GR: ('GR' : 'GR'),\n    GT: ('GT' : 'GT'),\n    GW: ('GW' : 'GW'),\n    GY: ('GY' : 'GY'),\n    HK: ('HK' : 'HK'),\n    HN: ('HN' : 'HN'),\n    HR: ('HR' : 'HR'),\n    HU: ('HU' : 'HU'),\n    ID: ('ID' : 'ID'),\n    IE: ('IE' : 'IE'),\n    IL: ('IL' : 'IL'),\n    IN: ('IN' : 'IN'),\n    IS: ('IS' : 'IS'),\n    IT: ('IT' : 'IT'),\n    JM: ('JM' : 'JM'),\n    JO: ('JO' : 'JO'),\n    JP: ('JP' : 'JP'),\n    KE: ('KE' : 'KE'),\n    KG: ('KG' : 'KG'),\n    KH: ('KH' : 'KH'),\n    KI: ('KI' : 'KI'),\n    KM: ('KM' : 'KM'),\n    KN: ('KN' : 'KN'),\n    KR: ('KR' : 'KR'),\n    KW: ('KW' : 'KW'),\n    KY: ('KY' : 'KY'),\n    KZ: ('KZ' : 'KZ'),\n    LA: ('LA' : 'LA'),\n    LC: ('LC' : 'LC'),\n    LI: ('LI' : 'LI'),\n    LK: ('LK' : 'LK'),\n    LS: ('LS' : 'LS'),\n    LT: ('LT' : 'LT'),\n    LU: ('LU' : 'LU'),\n    LV: ('LV' : 'LV'),\n    MA: ('MA' : 'MA'),\n    MC: ('MC' : 'MC'),\n    MD: ('MD' : 'MD'),\n    ME: ('ME' : 'ME'),\n    MG: ('MG' : 'MG'),\n    MH: ('MH' : 'MH'),\n    MK: ('MK' : 'MK'),\n    ML: ('ML' : 'ML'),\n    MN: ('MN' : 'MN'),\n    MQ: ('MQ' : 'MQ'),\n    MR: ('MR' : 'MR'),\n    MS: ('MS' : 'MS'),\n    MT: ('MT' : 'MT'),\n    MU: ('MU' : 'MU'),\n    MV: ('MV' : 'MV'),\n    MW: ('MW' : 'MW'),\n    MX: ('MX' : 'MX'),\n    MY: ('MY' : 'MY'),\n    MZ: ('MZ' : 'MZ'),\n    NA: ('NA' : 'NA'),\n    NC: ('NC' : 'NC'),\n    NE: ('NE' : 'NE'),\n    NF: ('NF' : 'NF'),\n    NG: ('NG' : 'NG'),\n    NI: ('NI' : 'NI'),\n    NL: ('NL' : 'NL'),\n    NO: ('NO' : 'NO'),\n    NP: ('NP' : 'NP'),\n    NR: ('NR' : 'NR'),\n    NU: ('NU' : 'NU'),\n    NZ: ('NZ' : 'NZ'),\n    OM: ('OM' : 'OM'),\n    PA: ('PA' : 'PA'),\n    PE: ('PE' : 'PE'),\n    PF: ('PF' : 'PF'),\n    PG: ('PG' : 'PG'),\n    PH: ('PH' : 'PH'),\n    PL: ('PL' : 'PL'),\n    PM: ('PM' : 'PM'),\n    PN: ('PN' : 'PN'),\n    PT: ('PT' : 'PT'),\n    PW: ('PW' : 'PW'),\n    PY: ('PY' : 'PY'),\n    QA: ('QA' : 'QA'),\n    RE: ('RE' : 'RE'),\n    RO: ('RO' : 'RO'),\n    RS: ('RS' : 'RS'),\n    RU: ('RU' : 'RU'),\n    RW: ('RW' : 'RW'),\n    SA: ('SA' : 'SA'),\n    SB: ('SB' : 'SB'),\n    SC: ('SC' : 'SC'),\n    SE: ('SE' : 'SE'),\n    SG: ('SG' : 'SG'),\n    SH: ('SH' : 'SH'),\n    SI: ('SI' : 'SI'),\n    SJ: ('SJ' : 'SJ'),\n    SK: ('SK' : 'SK'),\n    SL: ('SL' : 'SL'),\n    SM: ('SM' : 'SM'),\n    SN: ('SN' : 'SN'),\n    SO: ('SO' : 'SO'),\n    SR: ('SR' : 'SR'),\n    ST: ('ST' : 'ST'),\n    SV: ('SV' : 'SV'),\n    SZ: ('SZ' : 'SZ'),\n    TC: ('TC' : 'TC'),\n    TD: ('TD' : 'TD'),\n    TG: ('TG' : 'TG'),\n    TH: ('TH' : 'TH'),\n    TJ: ('TJ' : 'TJ'),\n    TM: ('TM' : 'TM'),\n    TN: ('TN' : 'TN'),\n    TO: ('TO' : 'TO'),\n    TR: ('TR' : 'TR'),\n    TT: ('TT' : 'TT'),\n    TV: ('TV' : 'TV'),\n    TW: ('TW' : 'TW'),\n    TZ: ('TZ' : 'TZ'),\n    UA: ('UA' : 'UA'),\n    UG: ('UG' : 'UG'),\n    US: ('US' : 'US'),\n    UY: ('UY' : 'UY'),\n    VA: ('VA' : 'VA'),\n    VC: ('VC' : 'VC'),\n    VE: ('VE' : 'VE'),\n    VG: ('VG' : 'VG'),\n    VN: ('VN' : 'VN'),\n    VU: ('VU' : 'VU'),\n    WF: ('WF' : 'WF'),\n    WS: ('WS' : 'WS'),\n    YE: ('YE' : 'YE'),\n    YT: ('YT' : 'YT'),\n    ZA: ('ZA' : 'ZA'),\n    ZM: ('ZM' : 'ZM'),\n    ZW: ('ZW' : 'ZW')\n};\n\nexport const LANG = {\n    AR:      ('ar' : 'ar'),\n    BG:      ('bg' : 'bg'),\n    CS:      ('cs' : 'cs'),\n    DA:      ('da' : 'da'),\n    DE:      ('de' : 'de'),\n    EL:      ('el' : 'el'),\n    EN:      ('en' : 'en'),\n    ES:      ('es' : 'es'),\n    ET:      ('et' : 'et'),\n    FI:      ('fi' : 'fi'),\n    FR:      ('fr' : 'fr'),\n    HE:      ('he' : 'he'),\n    HU:      ('hu' : 'hu'),\n    ID:      ('id' : 'id'),\n    IT:      ('it' : 'it'),\n    JA:      ('ja' : 'ja'),\n    KO:      ('ko' : 'ko'),\n    LT:      ('lt' : 'lt'),\n    LV:      ('lv' : 'lv'),\n    MS:      ('ms' : 'ms'),\n    NL:      ('nl' : 'nl'),\n    NO:      ('no' : 'no'),\n    PL:      ('pl' : 'pl'),\n    PT:      ('pt' : 'pt'),\n    RO:      ('ro' : 'ro'),\n    RU:      ('ru' : 'ru'),\n    SI:      ('si' : 'si'),\n    SK:      ('sk' : 'sk'),\n    SL:      ('sl' : 'sl'),\n    SQ:      ('sq' : 'sq'),\n    SV:      ('sv' : 'sv'),\n    TH:      ('th' : 'th'),\n    TL:      ('tl' : 'tl'),\n    TR:      ('tr' : 'tr'),\n    VI:      ('vi' : 'vi'),\n    ZH:      ('zh' : 'zh'),\n    ZH_HANT: ('zh_Hant' : 'zh_Hant')\n};\n\nexport type CountryLangs = {|\n    AD : 'en' | 'fr' | 'es' | 'zh',\n    AE : 'en' | 'fr' | 'es' | 'zh' | 'ar',\n    AG : 'en' | 'fr' | 'es' | 'zh',\n    AI : 'en' | 'fr' | 'es' | 'zh',\n    AL : 'sq' | 'en',\n    AM : 'en' | 'fr' | 'es' | 'zh',\n    AN : 'en' | 'fr' | 'es' | 'zh',\n    AO : 'en' | 'fr' | 'es' | 'zh',\n    AR : 'es' | 'en',\n    AT : 'de' | 'en',\n    AU : 'en',\n    AW : 'en' | 'fr' | 'es' | 'zh',\n    AZ : 'en' | 'fr' | 'es' | 'zh',\n    BA : 'en',\n    BB : 'en' | 'fr' | 'es' | 'zh',\n    BE : 'en' | 'nl' | 'fr',\n    BF : 'fr' | 'en' | 'es' | 'zh',\n    BG : 'bg' | 'en',\n    BH : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    BI : 'fr' | 'en' | 'es' | 'zh',\n    BJ : 'fr' | 'en' | 'es' | 'zh',\n    BM : 'en' | 'fr' | 'es' | 'zh',\n    BN : 'ms' | 'en',\n    BO : 'es' | 'en' | 'fr' | 'zh',\n    BR : 'pt' | 'en',\n    BS : 'en' | 'fr' | 'es' | 'zh',\n    BT : 'en',\n    BW : 'en' | 'fr' | 'es' | 'zh',\n    BY : 'en',\n    BZ : 'en' | 'es' | 'fr' | 'zh',\n    CA : 'en' | 'fr',\n    CD : 'fr' | 'en' | 'es' | 'zh',\n    CG : 'en' | 'fr' | 'es' | 'zh',\n    CH : 'de' | 'fr' | 'en',\n    CI : 'fr' | 'en',\n    CK : 'en' | 'fr' | 'es' | 'zh',\n    CL : 'es' | 'en' | 'fr' | 'zh',\n    CM : 'fr' | 'en',\n    CN : 'zh',\n    CO : 'es' | 'en' | 'fr' | 'zh',\n    CR : 'es' | 'en' | 'fr' | 'zh',\n    CV : 'en' | 'fr' | 'es' | 'zh',\n    CY : 'en',\n    CZ : 'cs' | 'en',\n    DE : 'de' | 'en',\n    DJ : 'fr' | 'en' | 'es' | 'zh',\n    DK : 'da' | 'en',\n    DM : 'en' | 'fr' | 'es' | 'zh',\n    DO : 'es' | 'en' | 'fr' | 'zh',\n    DZ : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    EC : 'es' | 'en' | 'fr' | 'zh',\n    EE : 'et' | 'en' | 'ru',\n    EG : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    ER : 'en' | 'fr' | 'es' | 'zh',\n    ES : 'es' | 'en',\n    ET : 'en' | 'fr' | 'es' | 'zh',\n    FI : 'fi' | 'en',\n    FJ : 'en' | 'fr' | 'es' | 'zh',\n    FK : 'en' | 'fr' | 'es' | 'zh',\n    FM : 'en',\n    FO : 'da' | 'en' | 'fr' | 'es' | 'zh',\n    FR : 'fr' | 'en',\n    GA : 'fr' | 'en' | 'es' | 'zh',\n    GB : 'en',\n    GD : 'en' | 'fr' | 'es' | 'zh',\n    GE : 'en' | 'fr' | 'es' | 'zh',\n    GF : 'en' | 'fr' | 'es' | 'zh',\n    GI : 'en' | 'fr' | 'es' | 'zh',\n    GL : 'da' | 'en' | 'fr' | 'es' | 'zh',\n    GM : 'en' | 'fr' | 'es' | 'zh',\n    GN : 'fr' | 'en' | 'es' | 'zh',\n    GP : 'en' | 'fr' | 'es' | 'zh',\n    GR : 'el' | 'en',\n    GT : 'es' | 'en' | 'fr' | 'zh',\n    GW : 'en' | 'fr' | 'es' | 'zh',\n    GY : 'en' | 'fr' | 'es' | 'zh',\n    HK : 'en' | 'zh_Hant',\n    HN : 'es' | 'en' | 'fr' | 'zh',\n    HR : 'en',\n    HU : 'hu' | 'en',\n    ID : 'id' | 'en',\n    IE : 'en' | 'fr' | 'es' | 'zh',\n    IL : 'he' | 'en',\n    IN : 'en',\n    IS : 'en',\n    IT : 'it' | 'en',\n    JM : 'en' | 'es' | 'fr' | 'zh',\n    JO : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    JP : 'ja' | 'en',\n    KE : 'en' | 'fr' | 'es' | 'zh',\n    KG : 'en' | 'fr' | 'es' | 'zh',\n    KH : 'en',\n    KI : 'en' | 'fr' | 'es' | 'zh',\n    KM : 'fr' | 'en' | 'es' | 'zh',\n    KN : 'en' | 'fr' | 'es' | 'zh',\n    KR : 'ko' | 'en',\n    KW : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    KY : 'en' | 'fr' | 'es' | 'zh',\n    KZ : 'en' | 'fr' | 'es' | 'zh',\n    LA : 'en',\n    LC : 'en' | 'fr' | 'es' | 'zh',\n    LI : 'en' | 'fr' | 'es' | 'zh',\n    LK : 'si' | 'en',\n    LS : 'en' | 'fr' | 'es' | 'zh',\n    LT : 'lt' | 'en' | 'ru' | 'zh',\n    LU : 'en' | 'de' | 'fr' | 'es' | 'zh',\n    LV : 'lv' | 'en' | 'ru',\n    MA : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    MC : 'fr' | 'en',\n    MD : 'en',\n    ME : 'en',\n    MG : 'en' | 'fr' | 'es' | 'zh',\n    MH : 'en' | 'fr' | 'es' | 'zh',\n    MK : 'en',\n    ML : 'fr' | 'en' | 'es' | 'zh',\n    MN : 'en',\n    MQ : 'en' | 'fr' | 'es' | 'zh',\n    MR : 'en' | 'fr' | 'es' | 'zh',\n    MS : 'en' | 'fr' | 'es' | 'zh',\n    MT : 'en',\n    MU : 'en' | 'fr' | 'es' | 'zh',\n    MV : 'en',\n    MW : 'en' | 'fr' | 'es' | 'zh',\n    MX : 'es' | 'en',\n    MY : 'ms' | 'en',\n    MZ : 'en' | 'fr' | 'es' | 'zh',\n    NA : 'en' | 'fr' | 'es' | 'zh',\n    NC : 'en' | 'fr' | 'es' | 'zh',\n    NE : 'fr' | 'en' | 'es' | 'zh',\n    NF : 'en' | 'fr' | 'es' | 'zh',\n    NG : 'en',\n    NI : 'es' | 'en' | 'fr' | 'zh',\n    NL : 'nl' | 'en',\n    NO : 'no' | 'en',\n    NP : 'en',\n    NR : 'en' | 'fr' | 'es' | 'zh',\n    NU : 'en' | 'fr' | 'es' | 'zh',\n    NZ : 'en' | 'fr' | 'es' | 'zh',\n    OM : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    PA : 'es' | 'en' | 'fr' | 'zh',\n    PE : 'es' | 'en' | 'fr' | 'zh',\n    PF : 'en' | 'fr' | 'es' | 'zh',\n    PG : 'en' | 'fr' | 'es' | 'zh',\n    PH : 'tl' | 'en',\n    PL : 'pl' | 'en',\n    PM : 'en' | 'fr' | 'es' | 'zh',\n    PN : 'en' | 'fr' | 'es' | 'zh',\n    PT : 'pt' | 'en',\n    PW : 'en' | 'fr' | 'es' | 'zh',\n    PY : 'es' | 'en',\n    QA : 'en' | 'fr' | 'es' | 'zh' | 'ar',\n    RE : 'en' | 'fr' | 'es' | 'zh',\n    RO : 'ro' | 'en',\n    RS : 'en' | 'fr' | 'es' | 'zh',\n    RU : 'ru' | 'en',\n    RW : 'fr' | 'en' | 'es' | 'zh',\n    SA : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    SB : 'en' | 'fr' | 'es' | 'zh',\n    SC : 'fr' | 'en' | 'es' | 'zh',\n    SE : 'sv' | 'en',\n    SG : 'en',\n    SH : 'en' | 'fr' | 'es' | 'zh',\n    SI : 'sl' | 'en',\n    SJ : 'en' | 'fr' | 'es' | 'zh',\n    SK : 'sk' | 'en',\n    SL : 'en' | 'fr' | 'es' | 'zh',\n    SM : 'en' | 'fr' | 'es' | 'zh',\n    SN : 'fr' | 'en' | 'es' | 'zh',\n    SO : 'en' | 'fr' | 'es' | 'zh',\n    SR : 'en' | 'fr' | 'es' | 'zh',\n    ST : 'en' | 'fr' | 'es' | 'zh',\n    SV : 'es' | 'en' | 'fr' | 'zh',\n    SZ : 'en' | 'fr' | 'es' | 'zh',\n    TC : 'en' | 'fr' | 'es' | 'zh',\n    TD : 'fr' | 'en' | 'es' | 'zh',\n    TG : 'fr' | 'en' | 'es' | 'zh',\n    TH : 'th' | 'en',\n    TJ : 'en' | 'fr' | 'es' | 'zh',\n    TM : 'en' | 'fr' | 'es' | 'zh',\n    TN : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    TO : 'en',\n    TR : 'tr' | 'en',\n    TT : 'en' | 'fr' | 'es' | 'zh',\n    TV : 'en' | 'fr' | 'es' | 'zh',\n    TW : 'zh_Hant' | 'en',\n    TZ : 'en' | 'fr' | 'es' | 'zh',\n    UA : 'en' | 'ru' | 'fr' | 'es' | 'zh',\n    UG : 'en' | 'fr' | 'es' | 'zh',\n    US : 'en' | 'fr' | 'es' | 'zh',\n    UY : 'es' | 'en' | 'fr' | 'zh',\n    VA : 'en' | 'fr' | 'es' | 'zh',\n    VC : 'en' | 'fr' | 'es' | 'zh',\n    VE : 'es' | 'en' | 'fr' | 'zh',\n    VG : 'en' | 'fr' | 'es' | 'zh',\n    VN : 'vi' | 'en',\n    VU : 'en' | 'fr' | 'es' | 'zh',\n    WF : 'en' | 'fr' | 'es' | 'zh',\n    WS : 'en',\n    YE : 'ar' | 'en' | 'fr' | 'es' | 'zh',\n    YT : 'en' | 'fr' | 'es' | 'zh',\n    ZA : 'en' | 'fr' | 'es' | 'zh',\n    ZM : 'en' | 'fr' | 'es' | 'zh',\n    ZW : 'en'\n|};\n\ntype CountryMap = {\n    [ $Values<typeof COUNTRY> ] : $ReadOnlyArray<$Values<typeof LANG>>\n};\n\nexport const COUNTRY_LANGS : CountryMap = {\n    AD: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AE: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH, LANG.AR ],\n    AG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AI: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AL: [ LANG.SQ, LANG.EN ],\n    AM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AN: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AO: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AR: [ LANG.ES, LANG.EN ],\n    AT: [ LANG.DE, LANG.EN ],\n    AU: [ LANG.EN ],\n    AW: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    AZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BA: [ LANG.EN ],\n    BB: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BE: [ LANG.EN, LANG.NL, LANG.FR ],\n    BF: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    BG: [ LANG.BG, LANG.EN ],\n    BH: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BI: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    BJ: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    BM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BN: [ LANG.MS, LANG.EN ],\n    BO: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    BR: [ LANG.PT, LANG.EN ],\n    BS: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BT: [ LANG.EN ],\n    BW: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    BY: [ LANG.EN ],\n    BZ: [ LANG.EN, LANG.ES, LANG.FR, LANG.ZH ],\n    CA: [ LANG.EN, LANG.FR ],\n    CD: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    CG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    CH: [ LANG.DE, LANG.FR, LANG.EN ],\n    CI: [ LANG.FR, LANG.EN ],\n    CK: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    CL: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    CM: [ LANG.FR, LANG.EN ],\n    CN: [ LANG.ZH ],\n    CO: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    CR: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    CV: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    CY: [ LANG.EN ],\n    CZ: [ LANG.CS, LANG.EN ],\n    DE: [ LANG.DE, LANG.EN ],\n    DJ: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    DK: [ LANG.DA, LANG.EN ],\n    DM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    DO: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    DZ: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    EC: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    EE: [ LANG.ET, LANG.EN, LANG.RU ],\n    EG: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ER: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ES: [ LANG.ES, LANG.EN ],\n    ET: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    FI: [ LANG.FI, LANG.EN ],\n    FJ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    FK: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    FM: [ LANG.EN ],\n    FO: [ LANG.DA, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    FR: [ LANG.FR, LANG.EN ],\n    GA: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    GB: [ LANG.EN ],\n    GD: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GE: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GF: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GI: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GL: [ LANG.DA, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GN: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    GP: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GR: [ LANG.EL, LANG.EN ],\n    GT: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    GW: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    GY: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    HK: [ LANG.EN, LANG.ZH_HANT, LANG.ZH ],\n    HN: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    HR: [ LANG.EN ],\n    HU: [ LANG.HU, LANG.EN ],\n    ID: [ LANG.ID, LANG.EN ],\n    IE: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    IL: [ LANG.HE, LANG.EN ],\n    IN: [ LANG.EN ],\n    IS: [ LANG.EN ],\n    IT: [ LANG.IT, LANG.EN ],\n    JM: [ LANG.EN, LANG.ES, LANG.FR, LANG.ZH ],\n    JO: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    JP: [ LANG.JA, LANG.EN ],\n    KE: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KH: [ LANG.EN ],\n    KI: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KM: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    KN: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KR: [ LANG.KO, LANG.EN ],\n    KW: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KY: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    KZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    LA: [ LANG.EN ],\n    LC: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    LI: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    LK: [ LANG.SI, LANG.EN ],\n    LS: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    LT: [ LANG.LT, LANG.EN, LANG.RU, LANG.ZH ],\n    LU: [ LANG.EN, LANG.DE, LANG.FR, LANG.ES, LANG.ZH ],\n    LV: [ LANG.LV, LANG.EN, LANG.RU ],\n    MA: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MC: [ LANG.FR, LANG.EN ],\n    MD: [ LANG.EN ],\n    ME: [ LANG.EN ],\n    MG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MH: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MK: [ LANG.EN ],\n    ML: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    MN: [ LANG.EN ],\n    MQ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MR: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MS: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MT: [ LANG.EN ],\n    MU: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MV: [ LANG.EN ],\n    MW: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    MX: [ LANG.ES, LANG.EN ],\n    MY: [ LANG.MS, LANG.EN ],\n    MZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NA: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NC: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NE: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    NF: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NG: [ LANG.EN ],\n    NI: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    NL: [ LANG.NL, LANG.EN ],\n    NO: [ LANG.NO, LANG.EN ],\n    NP: [ LANG.EN ],\n    NR: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NU: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    NZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    OM: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PA: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    PE: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    PF: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PH: [ LANG.TL, LANG.EN ],\n    PL: [ LANG.PL, LANG.EN ],\n    PM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PN: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PT: [ LANG.PT, LANG.EN ],\n    PW: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    PY: [ LANG.ES, LANG.EN ],\n    QA: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH, LANG.AR ],\n    RE: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    RO: [ LANG.RO, LANG.EN ],\n    RS: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    RU: [ LANG.RU, LANG.EN ],\n    RW: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    SA: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SB: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SC: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    SE: [ LANG.SV, LANG.EN ],\n    SG: [ LANG.EN ],\n    SH: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SI: [ LANG.SL, LANG.EN ],\n    SJ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SK: [ LANG.SK, LANG.EN ],\n    SL: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SN: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    SO: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SR: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ST: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    SV: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    SZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TC: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TD: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    TG: [ LANG.FR, LANG.EN, LANG.ES, LANG.ZH ],\n    TH: [ LANG.TH, LANG.EN ],\n    TJ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TN: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TO: [ LANG.EN ],\n    TR: [ LANG.TR, LANG.EN ],\n    TT: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TV: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    TW: [ LANG.ZH_HANT, LANG.ZH, LANG.EN ],\n    TZ: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    UA: [ LANG.EN, LANG.RU, LANG.FR, LANG.ES, LANG.ZH ],\n    UG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    US: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    UY: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    VA: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    VC: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    VE: [ LANG.ES, LANG.EN, LANG.FR, LANG.ZH ],\n    VG: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    VN: [ LANG.VI, LANG.EN ],\n    VU: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    WF: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    WS: [ LANG.EN ],\n    YE: [ LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    YT: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ZA: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ZM: [ LANG.EN, LANG.FR, LANG.ES, LANG.ZH ],\n    ZW: [ LANG.EN ]\n};\n\nexport type LocaleType = {|\n    country : $Values<typeof COUNTRY>,\n    lang : $Values<typeof LANG>\n|};\n","/* @flow */\n\nexport const INTENT = {\n    CAPTURE:      ('capture' : 'capture'),\n    AUTHORIZE:    ('authorize' : 'authorize'),\n    ORDER:        ('order' : 'order'),\n    TOKENIZE:     ('tokenize' : 'tokenize'),\n    SUBSCRIPTION: ('subscription' : 'subscription')\n};\n\nexport const COMMIT = {\n    TRUE:  (true : true),\n    FALSE: (false : false)\n};\n\nexport const VAULT = {\n    TRUE:  (true : true),\n    FALSE: (false : false)\n};\n\nexport const CURRENCY = {\n    AED: ('AED' : 'AED'),\n    ALL: ('ALL' : 'ALL'),\n    ANG: ('ANG' : 'ANG'),\n    AOA: ('AOA' : 'AOA'),\n    AUD: ('AUD' : 'AUD'),\n    AWG: ('AWG' : 'AWG'),\n    BAM: ('BAM' : 'BAM'),\n    BBD: ('BBD' : 'BBD'),\n    BGN: ('BGN' : 'BGN'),\n    BIF: ('BIF' : 'BIF'),\n    BMD: ('BMD' : 'BMD'),\n    BND: ('BND' : 'BND'),\n    BOB: ('BOB' : 'BOB'),\n    BRL: ('BRL' : 'BRL'),\n    BSD: ('BSD' : 'BSD'),\n    BTN: ('BTN' : 'BTN'),\n    CAD: ('CAD' : 'CAD'),\n    CDF: ('CDF' : 'CDF'),\n    CHF: ('CHF' : 'CHF'),\n    CLP: ('CLP' : 'CLP'),\n    COP: ('COP' : 'COP'),\n    CRC: ('CRC' : 'CRC'),\n    CVE: ('CVE' : 'CVE'),\n    CZK: ('CZK' : 'CZK'),\n    DJF: ('DJF' : 'DJF'),\n    DKK: ('DKK' : 'DKK'),\n    DOP: ('DOP' : 'DOP'),\n    DZD: ('DZD' : 'DZD'),\n    EGP: ('EGP' : 'EGP'),\n    ETB: ('ETB' : 'ETB'),\n    EUR: ('EUR' : 'EUR'),\n    FJD: ('FJD' : 'FJD'),\n    FKP: ('FKP' : 'FKP'),\n    GBP: ('GBP' : 'GBP'),\n    GIP: ('GIP' : 'GIP'),\n    GMD: ('GMD' : 'GMD'),\n    GNF: ('GNF' : 'GNF'),\n    GTQ: ('GTQ' : 'GTQ'),\n    GYD: ('GYD' : 'GYD'),\n    HKD: ('HKD' : 'HKD'),\n    HNL: ('HNL' : 'HNL'),\n    HRK: ('HRK' : 'HRK'),\n    HUF: ('HUF' : 'HUF'),\n    IDR: ('IDR' : 'IDR'),\n    ILS: ('ILS' : 'ILS'),\n    INR: ('INR' : 'INR'),\n    ISK: ('ISK' : 'ISK'),\n    JMD: ('JMD' : 'JMD'),\n    JPY: ('JPY' : 'JPY'),\n    KES: ('KES' : 'KES'),\n    KMF: ('KMF' : 'KMF'),\n    KRW: ('KRW' : 'KRW'),\n    KYD: ('KYD' : 'KYD'),\n    LAK: ('LAK' : 'LAK'),\n    LKR: ('LKR' : 'LKR'),\n    MDL: ('MDL' : 'MDL'),\n    MGA: ('MGA' : 'MGA'),\n    MKD: ('MKD' : 'MKD'),\n    MNT: ('MNT' : 'MNT'),\n    MRO: ('MRO' : 'MRO'),\n    MUR: ('MUR' : 'MUR'),\n    MVR: ('MVR' : 'MVR'),\n    MXN: ('MXN' : 'MXN'),\n    MYR: ('MYR' : 'MYR'),\n    NAD: ('NAD' : 'NAD'),\n    NIO: ('NIO' : 'NIO'),\n    NOK: ('NOK' : 'NOK'),\n    NPR: ('NPR' : 'NPR'),\n    NZD: ('NZD' : 'NZD'),\n    PEN: ('PEN' : 'PEN'),\n    PGK: ('PGK' : 'PGK'),\n    PHP: ('PHP' : 'PHP'),\n    PLN: ('PLN' : 'PLN'),\n    PYG: ('PYG' : 'PYG'),\n    QAR: ('QAR' : 'QAR'),\n    RON: ('RON' : 'RON'),\n    RSD: ('RSD' : 'RSD'),\n    RUB: ('RUB' : 'RUB'),\n    SAR: ('SAR' : 'SAR'),\n    SBD: ('SBD' : 'SBD'),\n    SCR: ('SCR' : 'SCR'),\n    SEK: ('SEK' : 'SEK'),\n    SGD: ('SGD' : 'SGD'),\n    SHP: ('SHP' : 'SHP'),\n    SLL: ('SLL' : 'SLL'),\n    SOS: ('SOS' : 'SOS'),\n    SRD: ('SRD' : 'SRD'),\n    SZL: ('SZL' : 'SZL'),\n    THB: ('THB' : 'THB'),\n    TJS: ('TJS' : 'TJS'),\n    TOP: ('TOP' : 'TOP'),\n    TTD: ('TTD' : 'TTD'),\n    TWD: ('TWD' : 'TWD'),\n    TZS: ('TZS' : 'TZS'),\n    USD: ('USD' : 'USD'),\n    UYU: ('UYU' : 'UYU'),\n    VND: ('VND' : 'VND'),\n    VUV: ('VUV' : 'VUV'),\n    WST: ('WST' : 'WST'),\n    XAF: ('XAF' : 'XAF'),\n    XCD: ('XCD' : 'XCD'),\n    YER: ('YER' : 'YER')\n};\n","/* @flow */\n\nexport const SDK_PATH = '/sdk/js';\n\nexport const SDK_SETTINGS = {\n    NAMESPACE:              ('data-namespace' : 'data-namespace'),\n    CLIENT_TOKEN:           ('data-client-token' : 'data-client-token'),\n    MERCHANT_ID:            ('data-merchant-id' : 'data-merchant-id'),\n    PARTNER_ATTRIBUTION_ID: ('data-partner-attribution-id' : 'data-partner-attribution-id'),\n    STAGE_HOST:             ('data-stage-host' : 'data-stage-host'),\n    API_STAGE_HOST:         ('data-api-stage-host' : 'data-api-stage-host'),\n    CSP_NONCE:              ('data-csp-nonce' : 'data-csp-nonce'),\n    ENABLE_3DS:             ('data-enable-3ds' : 'data-enable-3ds'),\n    SDK_INTEGRATION_SOURCE: ('data-sdk-integration-source' : 'data-sdk-integration-source'),\n    USER_ID_TOKEN:          ('data-user-id-token' : 'data-user-id-token'),\n    AMOUNT:                 ('data-amount' : 'data-amount'),\n    CLIENT_METADATA_ID:     ('data-client-metadata-id' : 'data-client-metadata-id'),\n    PAGE_TYPE:              ('data-page-type' : 'data-page-type'),\n    USER_EXPERIENCE_FLOW:   ('data-user-experience-flow' : 'data-user-experience-flow'),\n    POPUPS_DISABLED:        ('data-popups-disabled' : 'data-popups-disabled')\n};\n\nexport const SDK_QUERY_KEYS = {\n    COMPONENTS: ('components' : 'components'),\n\n    ENV:       ('env' : 'env'),\n    DEBUG:     ('debug' : 'debug'),\n    CACHEBUST: ('cachebust' : 'cachebust'),\n\n    CLIENT_ID:   ('client-id' : 'client-id'),\n    MERCHANT_ID: ('merchant-id' : 'merchant-id'),\n\n    LOCALE: ('locale' : 'locale'),\n\n    CURRENCY: ('currency' : 'currency'),\n    INTENT:   ('intent' : 'intent'),\n    COMMIT:   ('commit' : 'commit'),\n    VAULT:    ('vault' : 'vault'),\n\n    BUYER_COUNTRY: ('buyer-country' : 'buyer-country'),\n\n    ENABLE_FUNDING:  ('enable-funding' : 'enable-funding'),\n    DISABLE_FUNDING: ('disable-funding' : 'disable-funding'),\n    DISABLE_CARD:    ('disable-card' : 'disable-card'),\n\n    INTEGRATION_DATE: ('integration-date' : 'integration-date'),\n    STAGE_HOST:       ('stage-host' : 'stage-host'),\n    STAGE_ALIAS:      ('stage-alias' : 'stage-alias'),\n    CDN_REGISTRY:     ('cdn-registry' : 'cdn-registry'),\n    VERSION:          ('version' : 'version')\n};\n\nexport const COMPONENTS = {\n    BUTTONS:       ('buttons' : 'buttons'),\n    HOSTED_FIELDS: ('hosted-fields' : 'hosted-fields')\n};\n\nexport const DEBUG = {\n    TRUE:  (true : true),\n    FALSE: (false : false)\n};\n\nexport const QUERY_BOOL = {\n    TRUE:  ('true' : 'true'),\n    FALSE: ('false' : 'false')\n};\n\nexport const UNKNOWN = ('unknown' : 'unknown');\n\nexport const PROTOCOL = {\n    HTTP:  ('http' : 'http'),\n    HTTPS: ('https' : 'https')\n};\n\nexport const PAGE_TYPES = {\n    HOME:               ('home' : 'home'),\n    PRODUCT:            ('product' : 'product'),\n    CART:               ('cart' : 'cart'),\n    CHECKOUT:           ('checkout' : 'checkout'),\n    PRODUCT_LISTING:    ('product-listing' : 'product-listing'),\n    SEARCH_RESULTS:     ('search-results' : 'search-results'),\n    PRODUCT_DETAILS:    ('product-details' : 'product-details'),\n    MINI_CART:          ('mini-cart' : 'mini-cart')\n};\n\nexport const MERCHANT_ID_MAX = 10;\n","/* @flow */\n\nimport { COUNTRY } from './locale';\nimport { CURRENCY, INTENT, COMMIT, VAULT } from './order';\nimport { COMPONENTS, DEBUG } from './params';\n\nexport const DEFAULT_COUNTRY = COUNTRY.US;\nexport const DEFAULT_CURRENCY = CURRENCY.USD;\nexport const DEFAULT_INTENT = INTENT.CAPTURE;\nexport const DEFAULT_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_SALE_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_NONSALE_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_VAULT = VAULT.FALSE;\nexport const DEFAULT_COMPONENTS = COMPONENTS.BUTTONS;\nexport const DEFAULT_DEBUG = DEBUG.FALSE;\n","/* @flow */\n\nexport const ENV = {\n    LOCAL:      ('local' : 'local'),\n    STAGE:      ('stage' : 'stage'),\n    SANDBOX:    ('sandbox' : 'sandbox'),\n    PRODUCTION: ('production' : 'production'),\n    TEST:       ('test' : 'test')\n};\n\nexport const MOBILE_ENV = {\n    ANDROID:    ('android' : 'android'),\n    IOS:        ('iOS' : 'iOS')\n};\n","/* @flow */\n\nexport const FPTI_KEY = {\n    FEED:                           ('feed_name' : 'feed_name'),\n    STATE:                          ('state_name' : 'state_name'),\n    TRANSITION:                     ('transition_name' : 'transition_name'),\n    PAGE:                           ('page_name' : 'page_name'),\n    BUTTON_TYPE:                    ('button_type' : 'button_type'),\n    SESSION_UID:                    ('page_session_id' : 'page_session_id'),\n    BUTTON_SESSION_UID:             ('button_session_id' : 'button_session_id'),\n    TOKEN:                          ('token' : 'token'),\n    CONTEXT_ID:                     ('context_id' : 'context_id'),\n    CONTEXT_TYPE:                   ('context_type' : 'context_type'),\n    REFERER:                        ('referer_url' : 'referer_url'),\n    MERCHANT_DOMAIN:                ('merchant_domain' : 'merchant_domain'),\n    PAY_ID:                         ('pay_id' : 'pay_id'),\n    SELLER_ID:                      ('seller_id' : 'seller_id'),\n    CLIENT_ID:                      ('client_id' : 'client_id'),\n    DATA_SOURCE:                    ('serverside_data_source' : 'serverside_data_source'),\n    BUTTON_SOURCE:                  ('button_source' : 'button_source'),\n    ERROR_CODE:                     ('ext_error_code' : 'ext_error_code'),\n    ERROR_DESC:                     ('ext_error_desc' : 'ext_error_desc'),\n    PAGE_LOAD_TIME:                 ('page_load_time' : 'page_load_time'),\n    EXPERIMENT_NAME:                ('pxp_exp_id' : 'pxp_exp_id'),\n    TREATMENT_NAME:                 ('pxp_trtmnt_id' : 'pxp_trtmnt_id'),\n    TRANSITION_TIME:                ('transition_time' : 'transition_time'),\n    FUNDING_LIST:                   ('eligible_payment_methods' : 'eligible_payment_methods'),\n    FUNDING_COUNT:                  ('eligible_payment_count' : 'eligible_payment_count'),\n    CHOSEN_FUNDING:                 ('selected_payment_method' : 'selected_payment_method'),\n    BUTTON_LAYOUT:                  ('button_layout' : 'button_layout'),\n    VERSION:                        ('checkoutjs_version' : 'checkoutjs_version'),\n    LOCALE:                         ('locale' : 'locale'),\n    BUYER_COUNTRY:                  ('buyer_cntry' : 'buyer_cntry'),\n    INTEGRATION_IDENTIFIER:         ('integration_identifier' : 'integration_identifier'),\n    PARTNER_ATTRIBUTION_ID:         ('bn_code' : 'bn_code'),\n    PAGE_TYPE:                      ('pp_placement' : 'pp_placement'),\n    SDK_NAME:                       ('sdk_name' : 'sdk_name'),\n    SDK_VERSION:                    ('sdk_version' : 'sdk_version'),\n    SDK_ENVIRONMENT:                ('sdk_environment' : 'sdk_environment'),\n    MOBILE_APP_VERSION:             ('mobile_app_version' : 'mobile_app_version'),\n    MOBILE_BUNDLE_IDENTIFIER:       ('mapv' : 'mapv'),\n    USER_AGENT:                     ('user_agent' : 'user_agent'),\n    USER_ACTION:                    ('user_action' : 'user_action'),\n    CONTEXT_CORRID:                 ('context_correlation_id' : 'context_correlation_id'),\n    SDK_CACHE:                      ('sdk_cache' : 'sdk_cache'),\n    SDK_LOAD_TIME:                  ('sdk_load_time' : 'sdk_load_time'),\n    IS_VAULT:                       ('is_vault' : 'is_vault'),\n    DISABLE_FUNDING:                ('disable_funding' : 'disable_funding'),\n    DISABLE_CARD:                   ('disable_card' : 'disable_card'),\n    RESPONSE_DURATION:              ('response_duration' : 'response_duration'),\n    SDK_INTEGRATION_SOURCE:         ('sdk_integration_source' : 'sdk_integration_source'),\n    PAYMENT_FLOW:                   ('payment_flow' : 'payment_flow'),\n    BUTTON_VERSION:                 ('button_version' : 'button_version'),\n    FI_LIST:                        ('fi_list' : 'fi_list'),\n    CHOSEN_FI_TYPE:                 ('chosen_fi_type' : 'chosen_fi_type'),\n    SELECTED_FI:                    ('merchant_selected_funding_source' : 'merchant_selected_funding_source'),\n    POTENTIAL_PAYMENT_METHODS:      ('potential_payment_methods' : 'potential_payment_methods'),\n    PAY_NOW:                        ('pay_now' : 'pay_now'),\n    STICKINESS_ID:                  ('stickiness_id' : 'stickiness_id'),\n    TIMESTAMP:                      ('t' : 't'),\n    OPTION_SELECTED:                ('optsel' : 'optsel'),\n    USER_IDENTITY_METHOD:           ('user_identity_method' : 'user_identity_method'),\n    FIELDS_COMPONENT_SESSION_ID:    ('fields_component_session_id' : 'fields_component_session_id'),\n    CPL_COMP_METRICS:               ('cpl_comp_metrics' : 'cpl_comp_metrics'),\n    CPL_CHUNK_METRICS:              ('cpl_chunk_metrics' : 'cpl_chunk_metrics'),\n    CPL_QUERY_METRICS:              ('cpl_query_metrics' : 'cpl_query_metrics')\n};\n\nexport const FPTI_USER_ACTION = {\n    COMMIT:   ('commit' : 'commit'),\n    CONTINUE: ('continue' : 'continue')\n};\n\n\nexport const FPTI_DATA_SOURCE = {\n    PAYMENTS_SDK: ('checkout' : 'checkout')\n};\n\nexport const FPTI_FEED = {\n    PAYMENTS_SDK: ('payments_sdk' : 'payments_sdk')\n};\n\nexport const FPTI_SDK_NAME = {\n    PAYMENTS_SDK: ('payments_sdk' : 'payments_sdk')\n};\n","/* @flow */\n\nexport const FUNDING = {\n    PAYPAL:           ('paypal' : 'paypal'),\n    VENMO:            ('venmo' : 'venmo'),\n    APPLEPAY:         ('applepay' : 'applepay'),\n    ITAU:             ('itau' : 'itau'),\n    CREDIT:           ('credit' : 'credit'),\n    PAYLATER:         ('paylater' : 'paylater'),\n    CARD:             ('card' : 'card'),\n    IDEAL:            ('ideal' : 'ideal'),\n    SEPA:             ('sepa' : 'sepa'),\n    BANCONTACT:       ('bancontact' : 'bancontact'),\n    GIROPAY:          ('giropay' : 'giropay'),\n    SOFORT:           ('sofort' : 'sofort'),\n    EPS:              ('eps' : 'eps'),\n    MYBANK:           ('mybank' : 'mybank'),\n    P24:              ('p24' : 'p24'),\n    VERKKOPANKKI:     ('verkkopankki' : 'verkkopankki'),\n    PAYU:             ('payu' : 'payu'),\n    BLIK:             ('blik' : 'blik'),\n    TRUSTLY:          ('trustly' : 'trustly'),\n    ZIMPLER:          ('zimpler' : 'zimpler'),\n    MAXIMA:           ('maxima' : 'maxima'),\n    OXXO:             ('oxxo' : 'oxxo'),\n    BOLETO:           ('boleto' : 'boleto'),\n    WECHATPAY:        ('wechatpay' : 'wechatpay'),\n    MERCADOPAGO:      ('mercadopago' : 'mercadopago'),\n    MULTIBANCO:       ('multibanco' : 'multibanco'),\n    PAY_UPON_INVOICE: ('PayUponInvoice', 'PayUponInvoice')\n};\n\nexport const FUNDING_BRAND_LABEL = {\n    PAYPAL:         ('PayPal' : 'PayPal'),\n    CREDIT:         ('PayPal Credit' : 'PayPal Credit')\n};\n\nexport const CARD = {\n    VISA:        ('visa' : 'visa'),\n    MASTERCARD:  ('mastercard' : 'mastercard'),\n    AMEX:        ('amex' : 'amex'),\n    DISCOVER:    ('discover' : 'discover'),\n    HIPER:       ('hiper' : 'hiper'),\n    ELO:         ('elo' : 'elo'),\n    JCB:         ('jcb' : 'jcb'),\n    CUP:         ('cup' : 'cup')\n};\n\nexport const WALLET_INSTRUMENT = {\n    BALANCE: ('balance' : 'balance'),\n    CARD:    ('card' : 'card'),\n    BANK:    ('bank' : 'bank'),\n    CREDIT:  ('credit' : 'credit')\n};\n\nexport const FUNDING_PRODUCTS = {\n    PAY_IN_3: ('payIn3' : 'payIn3'),\n    PAY_IN_4: ('payIn4' : 'payIn4'),\n    PAYLATER:     ('paylater' : 'paylater'),\n    CREDIT:   ('credit' : 'credit')\n};\n","/* @flow */\n\nexport const PLATFORM = {\n    DESKTOP: ('desktop' : 'desktop'),\n    MOBILE:  ('mobile' : 'mobile')\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","/* @flow */\nimport { sfvcScreens } from './screenHeights';\n\nexport function getUserAgent() : string {\n    return window.navigator.mockUserAgent || window.navigator.userAgent;\n}\n\nconst TABLET_PATTERN = /ip(a|ro)d|silk|xoom|playbook|tablet|kindle|Nexus 7|GT-P10|SC-01C|SHW-M180S|SM-T320|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook|FOLIO|MB511.*RUTEM|Mac OS.*Silk/i;\n\nexport function isDevice(userAgent? : string = getUserAgent()) : boolean {\n    if (userAgent.match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function isTablet(userAgent? : string = getUserAgent()) : boolean {\n    return TABLET_PATTERN.test(userAgent);\n}\n\nexport function isWebView() : boolean {\n    const userAgent = getUserAgent();\n    return (/(iPhone|iPod|iPad|Macintosh).*AppleWebKit(?!.*Safari)|.*WKWebView/i).test(userAgent) ||\n        (/\\bwv\\b/).test(userAgent) ||\n    (/Android.*Version\\/(\\d)\\.(\\d)/i).test(userAgent);\n}\n\nexport function isStandAlone() : boolean {\n    return (window.navigator.standalone === true || window.matchMedia('(display-mode: standalone)').matches);\n}\n\nexport function isFacebookWebView(ua? : string = getUserAgent()) : boolean {\n    return (/FBAN/).test(ua) || (/FBAV/).test(ua);\n}\n\nexport function isFirefox(ua? : string = getUserAgent()) : boolean {\n    return (/Firefox/i).test(ua);\n}\n\nexport function isFirefoxIOS(ua? : string = getUserAgent()) : boolean {\n    return (/FxiOS/i).test(ua);\n}\n\nexport function isEdgeIOS(ua? : string = getUserAgent()) : boolean {\n    return (/EdgiOS/i).test(ua);\n}\n\nexport function isOperaMini(ua? : string = getUserAgent()) : boolean {\n    return (/Opera Mini/i).test(ua);\n}\n\nexport function isAndroid(ua? : string = getUserAgent()) : boolean {\n    return (/Android/).test(ua);\n}\n\nexport function isIos(ua? : string = getUserAgent()) : boolean {\n    return (/iPhone|iPod|iPad/).test(ua);\n}\n\nexport function isIOS14(ua? : string = getUserAgent()) : boolean {\n    return (/iPhone.*OS.*(1)?(?:(1)[0-4]| [0-9])_/).test(ua);\n}\n\nexport function isGoogleSearchApp(ua? : string = getUserAgent()) : boolean {\n    return (/\\bGSA\\b/).test(ua);\n}\n\nexport function isQQBrowser(ua? : string = getUserAgent()) : boolean {\n    return (/QQBrowser/).test(ua);\n}\n\nexport function isIosWebview(ua? : string = getUserAgent()) : boolean {\n    if (isIos(ua)) {\n        if (isGoogleSearchApp(ua)) {\n            return true;\n        }\n        return (/.+AppleWebKit(?!.*Safari)|.*WKWebView/).test(ua);\n    }\n    return false;\n}\n\nexport function isSFVC(ua? : string = getUserAgent()) : boolean {\n    if (isIos(ua)) {\n        const height = window.innerHeight;\n        const scale = Math.round(window.screen.width / window.innerWidth * 100) / 100;\n        const computedHeight = Math.round(height * scale);\n\n        let device = null;\n        if (isIOS14(ua)) {\n            device = sfvcScreens[window.outerHeight];\n        } else {\n            if (scale !== 1) {\n                return true;\n            }\n\n            device = sfvcScreens[window.outerHeight];\n        }\n\n        if (!device) {\n            return true;\n        }\n\n        if (scale > 1 && device.zoomHeight && device.zoomHeight[scale]) {\n            return device.zoomHeight[scale].indexOf(computedHeight) !== -1;\n        } else {\n            return device.textSizeHeights.indexOf(computedHeight) !== -1 ||\n                   device.textSizeHeightsNoTabs.indexOf(computedHeight) !== -1;\n        }\n    }\n    return false;\n}\n\nexport function isSFVCorSafari(ua? : string = getUserAgent()) : boolean {\n    if (isIos(ua)) {\n        const sfvc = isSFVC(ua);\n\n        const device = isIOS14(ua)\n            ? sfvcScreens[window.outerHeight]\n            : null;\n\n        if (!device) {\n            return false;\n        }\n\n        const height = window.innerHeight;\n        const scale = Math.round(window.screen.width / window.innerWidth * 100) / 100;\n\n        const computedHeight = Math.round(height * scale);\n        const possibleSafariSizes = device.maybeSafari;\n\n        let maybeSafari = false;\n        if (scale > 1 &&\n            possibleSafariSizes[scale] &&\n            possibleSafariSizes[scale].indexOf(computedHeight) !== -1) {\n                \n            maybeSafari = true;\n        }\n\n        return sfvc || maybeSafari;\n    }\n    return false;\n}\n\nexport function isAndroidWebview(ua? : string = getUserAgent()) : boolean {\n    if (isAndroid(ua)) {\n        return (/Version\\/[\\d.]+/).test(ua) && !isOperaMini(ua);\n    }\n    return false;\n}\n\nexport function isIE() : boolean {\n\n    if (window.document.documentMode) {\n        return true;\n    }\n\n    return Boolean(\n        window.navigator &&\n        window.navigator.userAgent &&\n        (/Edge|MSIE|rv:11/i).test(window.navigator.userAgent)\n    );\n}\n\nexport function isIECompHeader() : boolean {\n    const mHttp = window.document.querySelector('meta[http-equiv=\"X-UA-Compatible\"]');\n    const mContent = window.document.querySelector('meta[content=\"IE=edge\"]');\n    if (mHttp && mContent) {\n        return true;\n    }\n    return false;\n}\n\nexport function isElectron() : boolean {\n    if (typeof process !== 'undefined' && process.versions && process.versions.electron) {\n        return true;\n    }\n    return false;\n}\n\nexport function isIEIntranet() : boolean {\n\n    // This status check only works for older versions of IE with document.documentMode set\n\n    if (window.document.documentMode) {\n        try {\n            const status = window.status;\n\n            window.status = 'testIntranetMode';\n\n            if (window.status === 'testIntranetMode') {\n                window.status = status;\n\n                return true;\n            }\n\n            return false;\n\n        } catch (err) {\n\n            return false;\n        }\n    }\n\n    return false;\n}\n\nexport function isMacOsCna() : boolean {\n    const userAgent = getUserAgent();\n    return (/Macintosh.*AppleWebKit(?!.*Safari)/i).test(userAgent);\n}\n\nexport function supportsPopups(ua? : string = getUserAgent()) : boolean {\n    return !(isIosWebview(ua) || isAndroidWebview(ua) || isOperaMini(ua) ||\n        isFirefoxIOS(ua) || isEdgeIOS(ua) || isFacebookWebView(ua) || isQQBrowser(ua) || isElectron() || isMacOsCna() || isStandAlone());\n}\n\nexport function isChrome(ua? : string = getUserAgent()) : boolean {\n    return (/Chrome|Chromium|CriOS/).test(ua) && !(/SamsungBrowser|Silk|EdgA/).test(ua);\n}\n\nexport function isSafari(ua? : string = getUserAgent()) : boolean {\n    return (/Safari/).test(ua) && !isChrome(ua) && !(/Silk|FxiOS|EdgiOS/).test(ua);\n}\n\nexport function isApplePaySupported() : boolean {\n    try {\n        if (window.ApplePaySession && window.ApplePaySession.supportsVersion(3) && window.ApplePaySession.canMakePayments()) {\n            return true;\n        }\n    } catch (e) {\n        return false;\n    }\n\n    return false;\n}\n","/* @flow */\n\nexport function safeIndexOf<T>(collection : $ReadOnlyArray<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function noop(...args : $ReadOnlyArray<mixed>) {\n    // pass\n}\n","/* @flow */\n\nimport { isWindow, isWindowClosed } from '@krakenjs/cross-domain-utils/src';\n\nimport { hasNativeWeakMap } from './native';\nimport { noop, safeIndexOf } from './util';\n\nexport class CrossDomainSafeWeakMap<K : Object, V : mixed> {\n\n    name : string;\n    weakmap : ?WeakMap<K, V>;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    keys : Array<K>;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    values : Array<V>;\n\n    constructor() {\n        // eslint-disable-next-line no-bitwise\n        this.name = `__weakmap_${ Math.random() * 1e9 >>> 0 }__`;\n\n        if (hasNativeWeakMap()) {\n            try {\n                this.weakmap = new WeakMap();\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this.keys  = [];\n        this.values = [];\n    }\n\n    _cleanupClosedWindows() {\n\n        const weakmap = this.weakmap;\n        const keys = this.keys;\n\n        for (let i = 0; i < keys.length; i++) {\n            const value = keys[i];\n\n            if (isWindow(value) && isWindowClosed(value)) {\n\n                if (weakmap) {\n                    try {\n                        weakmap.delete(value);\n                    } catch (err) {\n                        // pass\n                    }\n                }\n\n                keys.splice(i, 1);\n                this.values.splice(i, 1);\n\n                i -= 1;\n            }\n        }\n    }\n\n    isSafeToReadWrite(key : K) : boolean {\n\n        if (isWindow(key)) {\n            return false;\n        }\n\n        try {\n            noop(key && key.self);\n            noop(key && key[this.name]);\n        } catch (err) {\n            return false;\n        }\n\n        return true;\n    }\n\n    set(key : K, value : V) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.set(key, value);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const name = this.name;\n                const entry = key[name];\n\n                if (entry && entry[0] === key) {\n                    entry[1] = value;\n                } else {\n                    Object.defineProperty(key, name, {\n                        value:    [ key, value ],\n                        writable: true\n                    });\n                }\n\n                return;\n\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const values = this.values;\n        const index = safeIndexOf(keys, key);\n\n        if (index === -1) {\n            keys.push(key);\n            values.push(value);\n        } else {\n            values[index] = value;\n        }\n    }\n\n    get(key : K) : V | void {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return weakmap.get(key);\n                }\n\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    return entry[1];\n                }\n\n                return;\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const index = safeIndexOf(keys, key);\n\n        if (index === -1) {\n            return;\n        }\n\n        return this.values[index];\n    }\n\n    delete(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.delete(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    entry[0] = entry[1] = undefined;\n                }\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const index = safeIndexOf(keys, key);\n\n        if (index !== -1) {\n            keys.splice(index, 1);\n            this.values.splice(index, 1);\n        }\n    }\n\n    has(key : K) : boolean {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return true;\n                }\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    return true;\n                }\n\n                return false;\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const index = safeIndexOf(this.keys, key);\n        return index !== -1;\n    }\n\n    getOrSet(key : K, getter : () => V) : V {\n        if (this.has(key)) {\n            // $FlowFixMe\n            return this.get(key);\n        }\n\n        const value = getter();\n        this.set(key, value);\n        return value;\n    }\n}\n","\n/* @flow */\n/* eslint max-lines: 0 */\n\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { WeakMap } from '@krakenjs/cross-domain-safe-weakmap/src';\n\nimport type { CancelableType } from './types';\n\nexport function isElement(element : mixed) : boolean {\n    let passed = false;\n\n    try {\n        if (element instanceof window.Element) {\n            passed = true;\n        } else if (element !== null && typeof element === 'object' && element.nodeType === 1 && typeof element.style === 'object' && typeof element.ownerDocument === 'object') {\n            passed = true;\n        }\n    } catch (_) {\n        // we don't have an element\n    }\n\n    return passed;\n}\n\nexport function getFunctionName <T : Function>(fn : T) : string {\n    return fn.name || fn.__name__ || fn.displayName || 'anonymous';\n}\n\nexport function setFunctionName <T : Function>(fn : T, name : string) : T {\n    try {\n        delete fn.name;\n        fn.name = name;\n    } catch (err) {\n        // pass\n    }\n\n    fn.__name__ = fn.displayName = name;\n    return fn;\n}\n\nexport function base64encode(str : string) : string {\n    if (typeof btoa === 'function') {\n        return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (m, p1) => {\n            return String.fromCharCode(parseInt(p1, 16));\n        })).replace(/[=]/g, '');\n    }\n\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str, 'utf8').toString('base64').replace(/[=]/g, '');\n    }\n\n    throw new Error(`Can not find window.btoa or Buffer`);\n}\n\nexport function base64decode(str : string) : string {\n    if (typeof atob === 'function') {\n        // $FlowFixMe[method-unbinding]\n        return decodeURIComponent(Array.prototype.map.call(atob(str), c => {\n            // eslint-disable-next-line prefer-template\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n        }).join(''));\n    }\n\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str, 'base64').toString('utf8');\n    }\n\n    throw new Error(`Can not find window.atob or Buffer`);\n}\n\nexport function uniqueID() : string {\n\n    const chars = '0123456789abcdef';\n\n    const randomID = 'xxxxxxxxxx'.replace(/./g, () => {\n        return chars.charAt(Math.floor(Math.random() * chars.length));\n    });\n\n    const timeID = base64encode(\n        new Date().toISOString().slice(11, 19).replace('T', '.')\n    ).replace(/[^a-zA-Z0-9]/g, '').toLowerCase();\n\n    return `uid_${ randomID }_${ timeID }`;\n}\n\nexport function getGlobal() : Object {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    if (typeof __GLOBAL__ !== 'undefined') {\n        return __GLOBAL__;\n    }\n    throw new Error(`No global found`);\n}\n\nlet objectIDs;\n\nexport function getObjectID(obj : Object) : string {\n\n    objectIDs = objectIDs || new WeakMap();\n\n    if (obj === null || obj === undefined || (typeof obj !== 'object' && typeof obj !== 'function')) {\n        throw new Error(`Invalid object`);\n    }\n\n    let uid = objectIDs.get(obj);\n\n    if (!uid) {\n        uid = `${ typeof obj }:${ uniqueID() }`;\n        objectIDs.set(obj, uid);\n    }\n\n    return uid;\n}\n\nfunction serializeArgs<T>(args : $ReadOnlyArray<T>) : string {\n    try {\n        // $FlowFixMe[method-unbinding]\n        return JSON.stringify(Array.prototype.slice.call(args), (subkey, val) => {\n\n            // Treat each distinct function as unique for purposes of memoization\n            // e.g. even if someFunction.stringify() is the same, we may use a different memoize cache\n            // if the actual function is different.\n            if (typeof val === 'function') {\n                return `memoize[${ getObjectID(val) }]`;\n            }\n\n            // By default JSON.stringify(domElement) returns '{}'. This ensures that stays true even for non-standard\n            // elements (e.g. React-rendered dom elements) with custom properties\n            if (isElement(val)) {\n                return {};\n            }\n\n            return val;\n        });\n    } catch (err) {\n        throw new Error(`Arguments not serializable -- can not be used to memoize`);\n    }\n}\n\nexport function getEmptyObject() : {||} {\n    // $FlowFixMe\n    return {};\n}\n\ntype MemoizeOptions = {|\n    name? : string,\n    time? : number,\n    thisNamespace? : boolean\n|};\n\nconst getDefaultMemoizeOptions = () : MemoizeOptions => {\n    // $FlowFixMe\n    return {};\n};\n\nexport type Memoized<F> = F & {| reset : () => void |};\n\nlet memoizeGlobalIndex = 0;\nlet memoizeGlobalIndexValidFrom = 0;\n\nexport function memoize<F : Function>(method : F, options? : MemoizeOptions = getDefaultMemoizeOptions()) : Memoized<F> {\n    const { thisNamespace = false, time: cacheTime } = options;\n\n    let simpleCache;\n    let thisCache;\n\n    let memoizeIndex = memoizeGlobalIndex;\n    memoizeGlobalIndex += 1;\n\n    const memoizedFunction = function memoizedFunction(...args) : mixed {\n        if (memoizeIndex < memoizeGlobalIndexValidFrom) {\n            simpleCache = null;\n            thisCache = null;\n            memoizeIndex = memoizeGlobalIndex;\n            memoizeGlobalIndex += 1;\n        }\n\n        let cache;\n\n        if (thisNamespace) {\n            thisCache = thisCache || new WeakMap();\n            cache = thisCache.getOrSet(this, getEmptyObject);\n        } else {\n            cache = simpleCache = simpleCache || {};\n        }\n\n        let cacheKey;\n\n        try {\n            cacheKey = serializeArgs(args);\n        } catch {\n            return method.apply(this, arguments);\n        }\n\n        let cacheResult = cache[cacheKey];\n\n        if (cacheResult && cacheTime && (Date.now() - cacheResult.time) < cacheTime) {\n            delete cache[cacheKey];\n            cacheResult = null;\n        }\n\n        if (cacheResult) {\n            return cacheResult.value;\n        }\n\n        const time  = Date.now();\n        const value = method.apply(this, arguments);\n\n        cache[cacheKey] = { time, value };\n\n        return value;\n    };\n\n    memoizedFunction.reset = () => {\n        simpleCache = null;\n        thisCache = null;\n    };\n\n    // $FlowFixMe\n    const result : F = memoizedFunction;\n\n    return setFunctionName(result, `${ options.name || getFunctionName(method) }::memoized`);\n}\n\nmemoize.clear = () => {\n    memoizeGlobalIndexValidFrom = memoizeGlobalIndex;\n};\n\nexport function promiseIdentity<T : mixed>(item : ZalgoPromise<T> | T) : ZalgoPromise<T> {\n    // $FlowFixMe\n    return ZalgoPromise.resolve(item);\n}\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function memoizePromise<R>(method : (...args : $ReadOnlyArray<any>) => ZalgoPromise<R>) : ((...args : $ReadOnlyArray<any>) => ZalgoPromise<R>) {\n    let cache = {};\n\n    // eslint-disable-next-line flowtype/no-weak-types\n    function memoizedPromiseFunction(...args : $ReadOnlyArray<any>) : ZalgoPromise<R> {\n        const key : string = serializeArgs(args);\n\n        if (cache.hasOwnProperty(key)) {\n            return cache[key];\n        }\n\n        cache[key] = ZalgoPromise.try(() => method.apply(this, arguments))\n            .finally(() => {\n                delete cache[key];\n            });\n\n        return cache[key];\n    }\n\n    memoizedPromiseFunction.reset = () => {\n        cache = {};\n    };\n\n    return setFunctionName(memoizedPromiseFunction, `${ getFunctionName(method) }::promiseMemoized`);\n}\n\ntype PromisifyOptions = {|\n    name ? : string\n|};\n\nconst getDefaultPromisifyOptions = () : PromisifyOptions => {\n    // $FlowFixMe\n    return {};\n};\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function promisify<R>(method : (...args : $ReadOnlyArray<any>) => R, options : PromisifyOptions = getDefaultPromisifyOptions()) : ((...args : $ReadOnlyArray<any>) => ZalgoPromise<R>) {\n    function promisifiedFunction() : ZalgoPromise<R> {\n        return ZalgoPromise.try(method, this, arguments);\n    }\n\n    if (options.name) {\n        promisifiedFunction.displayName = `${ options.name }:promisified`;\n    }\n\n    return setFunctionName(promisifiedFunction, `${ getFunctionName(method) }::promisified`);\n}\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function inlineMemoize<R>(method : (...args : $ReadOnlyArray<any>) => R, logic : (...args : $ReadOnlyArray<any>) => R, args : $ReadOnlyArray<any> = []) : R {\n    // $FlowFixMe\n    const cache : {| [string] : R |} = method.__inline_memoize_cache__ = method.__inline_memoize_cache__ || {};\n    const key = serializeArgs(args);\n\n    if (cache.hasOwnProperty(key)) {\n        return cache[key];\n    }\n\n    const result = cache[key] = logic(...args);\n\n    return result;\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function noop(...args : $ReadOnlyArray<mixed>) {\n    // pass\n}\n\nexport function once(method : Function) : Function {\n    let called = false;\n\n    const onceFunction = function() : mixed {\n        if (!called) {\n            called = true;\n            return method.apply(this, arguments);\n        }\n    };\n\n    return setFunctionName(onceFunction, `${ getFunctionName(method) }::once`);\n}\n\nexport function hashStr(str : string) : number {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n        hash += str[i].charCodeAt(0) * Math.pow((i % 10) + 1, 5);\n    }\n    return Math.floor(Math.pow(Math.sqrt(hash), 5));\n}\n\nexport function strHashStr(str : string) : string {\n    let hash = '';\n\n    for (let i = 0; i < str.length; i++) {\n        let total = (str[i].charCodeAt(0) * i);\n\n        if (str[i + 1]) {\n            total += (str[i + 1].charCodeAt(0) * (i - 1));\n        }\n\n        hash += String.fromCharCode(97 + (Math.abs(total) % 26));\n    }\n\n    return hash;\n}\n\nexport function match(str : string, pattern : RegExp) : ?string {\n    const regmatch = str.match(pattern);\n    if (regmatch) {\n        return regmatch[1];\n    }\n}\n\nexport function awaitKey<T: mixed>(obj : Object, key : string) : ZalgoPromise<T> {\n    return new ZalgoPromise(resolve => {\n\n        let value = obj[key];\n\n        if (value) {\n            return resolve(value);\n        }\n\n        delete obj[key];\n\n        Object.defineProperty(obj, key, {\n\n            configurable: true,\n\n            set(item) {\n                value = item;\n\n                if (value) {\n                    resolve(value);\n                }\n            },\n\n            get() : T {\n                return value;\n            }\n        });\n    });\n}\n\nexport function stringifyError(err : mixed, level : number = 1) : string {\n\n    if (level >= 3) {\n        return 'stringifyError stack overflow';\n    }\n\n    try {\n        if (!err) {\n            // $FlowFixMe[method-unbinding]\n            return `<unknown error: ${ Object.prototype.toString.call(err) }>`;\n        }\n\n        if (typeof err === 'string') {\n            return err;\n        }\n\n        if (err instanceof Error) {\n            const stack = err && err.stack;\n            const message = err && err.message;\n\n            if (stack && message) {\n                if (stack.indexOf(message) !== -1) {\n                    return stack;\n                } else {\n                    return `${ message }\\n${ stack }`;\n                }\n            } else if (stack) {\n                return stack;\n            } else if (message) {\n                return message;\n            }\n        }\n\n        if (err && err.toString && typeof err.toString === 'function') {\n            // $FlowFixMe\n            return err.toString();\n        }\n\n        // $FlowFixMe[method-unbinding]\n        return Object.prototype.toString.call(err);\n\n    } catch (newErr) {\n        return `Error while stringifying error: ${ stringifyError(newErr, level + 1) }`;\n    }\n}\n\nexport function stringifyErrorMessage(err : mixed) : string {\n\n    // $FlowFixMe[method-unbinding]\n    const defaultMessage = `<unknown error: ${ Object.prototype.toString.call(err) }>`;\n\n    if (!err) {\n        return defaultMessage;\n    }\n\n    if (err instanceof Error) {\n        return err.message || defaultMessage;\n    }\n\n    if (typeof err.message === 'string') {\n        return err.message || defaultMessage;\n    }\n\n    return defaultMessage;\n}\n\nexport function stringify(item : mixed) : string {\n    if (typeof item === 'string') {\n        return item;\n    }\n\n    if (item && item.toString && typeof item.toString === 'function') {\n        // $FlowFixMe\n        return item.toString();\n    }\n\n    // $FlowFixMe[method-unbinding]\n    return Object.prototype.toString.call(item);\n}\n\nexport function domainMatches(hostname : string, domain : string) : boolean {\n    hostname = hostname.split('://')[1];\n    const index = hostname.indexOf(domain);\n    return (index !== -1 && hostname.slice(index) === domain);\n}\n\nexport function patchMethod(obj : Object, name : string, handler : Function) {\n    const original = obj[name];\n\n    obj[name] = function patchedMethod() : mixed {\n        return handler({\n            context:      this,\n            // $FlowFixMe[method-unbinding]\n            args:         Array.prototype.slice.call(arguments),\n            original,\n            callOriginal: () => original.apply(this, arguments)\n        });\n    };\n}\n\nexport function extend<T : Object | Function>(obj : T, source : Object) : T {\n    if (!source) {\n        return obj;\n    }\n\n    if (Object.assign) {\n        return Object.assign(obj, source);\n    }\n\n    for (const key in source) {\n        if (source.hasOwnProperty(key)) {\n            obj[key] = source[key];\n        }\n    }\n\n    return obj;\n}\n\nexport function values<T>(obj : { [string] : T }) : $ReadOnlyArray<T> {\n    if (Object.values) {\n        // $FlowFixMe\n        return Object.values(obj);\n    }\n\n    const result : Array<T> = [];\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n            // $FlowFixMe[escaped-generic]\n            result.push(obj[key]);\n        }\n    }\n\n    // $FlowFixMe\n    return result;\n}\n\n// eslint-disable-next-line no-undef\nexport const memoizedValues : <T>({ [string] : T }) => $ReadOnlyArray<T> = memoize(values);\n\nexport function perc(pixels : number, percentage : number) : number {\n    return Math.round((pixels * percentage) / 100);\n}\n\nexport function min(...args : $ReadOnlyArray<number>) : number {\n    return Math.min(...args);\n}\n\nexport function max(...args : $ReadOnlyArray<number>) : number {\n    return Math.max(...args);\n}\n\nexport function roundUp(num : number, nearest : number) : number {\n    const remainder = num % nearest;\n    return remainder\n        ? (num - remainder) + nearest\n        : num;\n}\n\nexport function regexMap<T>(str : string, regexp : RegExp, handler : () => T) : $ReadOnlyArray<T> {\n    const results = [];\n\n    // $FlowFixMe\n    str.replace(regexp, function regexMapMatcher(item) {\n        results.push(handler ? handler.apply(null, arguments) : item);\n    });\n\n    // $FlowFixMe\n    return results;\n}\n\nexport function svgToBase64(svg : string) : string {\n    return `data:image/svg+xml;base64,${ base64encode(svg) }`;\n}\n\nexport function objFilter<T, R>(obj : { [string] : T }, filter? : (T, ?string) => mixed = Boolean) : { [string] : R } {\n    const result = {};\n\n    for (const key in obj) {\n        if (!obj.hasOwnProperty(key) || !filter(obj[key], key)) {\n            continue;\n        }\n\n        result[key] = obj[key];\n    }\n\n    return result;\n}\n\nexport function identity <T>(item : T) : T {\n    return item;\n}\n\nexport function regexTokenize(text : string, regexp : RegExp) : $ReadOnlyArray<string> {\n    const result = [];\n    text.replace(regexp, token => {\n        result.push(token);\n        return '';\n    });\n    return result;\n}\n\nexport function promiseDebounce<T>(method : () => ZalgoPromise<T> | T, delay : number = 50) : () => ZalgoPromise<T> {\n\n    let promise;\n    let timeout;\n\n    const promiseDebounced = function() : ZalgoPromise<T> {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n\n        const localPromise = promise = promise || new ZalgoPromise();\n\n        timeout = setTimeout(() => {\n            promise = null;\n            timeout = null;\n\n            ZalgoPromise.try(method).then(\n                result => { localPromise.resolve(result); },\n                err => { localPromise.reject(err); }\n            );\n        }, delay);\n\n        return localPromise;\n    };\n\n    return setFunctionName(promiseDebounced, `${ getFunctionName(method) }::promiseDebounced`);\n}\n\nexport function safeInterval(method : Function, time : number) : {| cancel : () => void |} {\n\n    let timeout;\n\n    function loop() {\n        timeout = setTimeout(() => {\n            method();\n            loop();\n        }, time);\n    }\n\n    loop();\n\n    return {\n        cancel() {\n            clearTimeout(timeout);\n        }\n    };\n}\n\nexport function isInteger(str : string) : boolean {\n    return Boolean(str.match(/^[0-9]+$/));\n}\n\nexport function isFloat(str : string) : boolean {\n    return Boolean(str.match(/^[0-9]+\\.[0-9]+$/));\n}\n\nexport function serializePrimitive(value : string | number | boolean) : string {\n    return value.toString();\n}\n\nexport function deserializePrimitive(value : string) : string | number | boolean {\n    if (value === 'true') {\n        return true;\n    } else if (value === 'false') {\n        return false;\n    } else if (isInteger(value)) {\n        return parseInt(value, 10);\n    } else if (isFloat(value)) {\n        return parseFloat(value);\n    } else {\n        return value;\n    }\n}\n\nexport function dotify(obj : Object, prefix : string = '', newobj : Object = {}) : { [string] : string } {\n    prefix = prefix ? `${ prefix }.` : prefix;\n    for (const key in obj) {\n        if (!obj.hasOwnProperty(key) || obj[key] === undefined || obj[key] === null || typeof obj[key] === 'function') {\n            continue;\n        } else if (obj[key] && Array.isArray(obj[key]) && obj[key].length && obj[key].every(val => typeof val !== 'object')) {\n            newobj[`${ prefix }${ key }[]`] = obj[key].join(',');\n        } else if (obj[key] && typeof obj[key] === 'object') {\n            newobj = dotify(obj[key], `${ prefix }${ key }`, newobj);\n        } else {\n            newobj[`${ prefix }${ key }`] = serializePrimitive(obj[key]);\n        }\n    }\n    return newobj;\n}\n\nexport function undotify(obj : { [string] : string }) : Object {\n\n    const result = {};\n\n    for (let key in obj) {\n        if (!obj.hasOwnProperty(key) || typeof obj[key] !== 'string') {\n            continue;\n        }\n\n        let value = obj[key];\n\n        if (key.match(/^.+\\[\\]$/)) {\n            key = key.slice(0, -2);\n            value = value.split(',').map(deserializePrimitive);\n        } else {\n            value = deserializePrimitive(value);\n        }\n\n        let keyResult = result;\n        const parts = key.split('.');\n        for (let i = 0; i < parts.length; i++) {\n            const part = parts[i];\n            const isLast = (i + 1 === parts.length);\n            const isIndex = !isLast && isInteger(parts[i + 1]);\n\n            if (part === 'constructor' || part === 'prototype' || part === '__proto__') {\n                throw new Error(`Disallowed key: ${ part }`);\n            }\n\n            if (isLast) {\n                // $FlowFixMe\n                keyResult[part] = value;\n            } else {\n                // $FlowFixMe\n                keyResult = keyResult[part] = keyResult[part] || (isIndex ? [] : {});\n            }\n        }\n    }\n\n    return result;\n}\n\nexport type EventEmitterType = {|\n    on : (eventName : string, handler : Function) => CancelableType,\n    once : (eventName : string, handler : Function) => CancelableType,\n    trigger : (eventName : string, ...args : $ReadOnlyArray<mixed>) => ZalgoPromise<void>,\n    triggerOnce : (eventName : string, ...args : $ReadOnlyArray<mixed>) => ZalgoPromise<void>,\n    reset : () => void\n|};\n\nexport function eventEmitter() : EventEmitterType {\n    const triggered = {};\n    let handlers = {};\n\n    const emitter = {\n\n        on(eventName : string, handler : Function) : CancelableType {\n            const handlerList = handlers[eventName] = handlers[eventName] || [];\n\n            handlerList.push(handler);\n\n            let cancelled = false;\n\n            return {\n                cancel() {\n                    if (!cancelled) {\n                        cancelled = true;\n                        handlerList.splice(handlerList.indexOf(handler), 1);\n                    }\n\n                }\n            };\n        },\n\n        once(eventName : string, handler : Function) : CancelableType {\n\n            const listener = emitter.on(eventName, () => {\n                listener.cancel();\n                handler();\n            });\n\n            return listener;\n        },\n\n        trigger(eventName : string, ...args : $ReadOnlyArray<mixed>) : ZalgoPromise<void> {\n\n            const handlerList = handlers[eventName];\n            const promises = [];\n\n            if (handlerList) {\n                for (const handler of handlerList) {\n                    promises.push(ZalgoPromise.try(() => handler(...args)));\n                }\n            }\n\n            return ZalgoPromise.all(promises).then(noop);\n        },\n\n        triggerOnce(eventName : string, ...args : $ReadOnlyArray<mixed>) : ZalgoPromise<void> {\n\n            if (triggered[eventName]) {\n                return ZalgoPromise.resolve();\n            }\n\n            triggered[eventName] = true;\n            return emitter.trigger(eventName, ...args);\n        },\n\n        reset() {\n            handlers = {};\n        }\n    };\n\n    return emitter;\n}\n\nexport function camelToDasherize(string : string) : string {\n    return string.replace(/([A-Z])/g, (g) => {\n        return `-${ g.toLowerCase() }`;\n    });\n}\n\nexport function dasherizeToCamel(string : string) : string {\n    return string.replace(/-([a-z])/g, (g) => {\n        return g[1].toUpperCase();\n    });\n}\n\nexport function capitalizeFirstLetter(string : string) : string {\n    return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function get(item : Object, path : string, def : mixed) : mixed {\n\n    if (!path) {\n        return def;\n    }\n\n    const pathParts = path.split('.');\n\n    // Loop through each section of our key path\n\n    for (let i = 0; i < pathParts.length; i++) {\n\n        // If we have an object, we can get the key\n        if (typeof item === 'object' && item !== null) {\n            item = item[pathParts[i]];\n\n        // Otherwise, we should return the default (undefined if not provided)\n        } else {\n            return def;\n        }\n    }\n\n    // If our final result is undefined, we should return the default\n\n    return item === undefined ? def : item;\n}\n\nexport function safeTimeout(method : Function, time : number) {\n\n    const interval = safeInterval(() => {\n        time -= 100;\n        if (time <= 0) {\n            interval.cancel();\n            method();\n        }\n    }, 100);\n}\n\nexport function defineLazyProp<T>(obj : Object | $ReadOnlyArray<mixed>, key : string | number, getter : () => T) {\n    if (Array.isArray(obj)) {\n        if (typeof key !== 'number') {\n            throw new TypeError(`Array key must be number`);\n        }\n    } else if (typeof obj === 'object' && obj !== null) {\n        if (typeof key !== 'string') {\n            throw new TypeError(`Object key must be string`);\n        }\n    }\n\n    Object.defineProperty(obj, key, {\n        configurable: true,\n        enumerable:   true,\n        get:          () => {\n            // $FlowFixMe\n            delete obj[key];\n            const value = getter();\n            // $FlowFixMe\n            obj[key] = value;\n            return value;\n        },\n        set: (value : T) => {\n            // $FlowFixMe\n            delete obj[key];\n            // $FlowFixMe\n            obj[key] = value;\n        }\n    });\n}\n\nexport function arrayFrom<T>(item : Iterable<T>) : $ReadOnlyArray<T> { // eslint-disable-line no-undef\n    // $FlowFixMe[method-unbinding]\n    return Array.prototype.slice.call(item);\n}\n\nexport function isObject(item : mixed) : boolean {\n    return (typeof item === 'object' && item !== null);\n}\n\nexport function isObjectObject(obj : mixed) : boolean {\n    // $FlowFixMe[method-unbinding]\n    return isObject(obj) && Object.prototype.toString.call(obj) === '[object Object]';\n}\n\nexport function isPlainObject(obj : mixed) : boolean {\n    if (!isObjectObject(obj)) {\n        return false;\n    }\n\n    // $FlowFixMe\n    const constructor = obj.constructor;\n\n    if (typeof constructor !== 'function') {\n        return false;\n    }\n\n    const prototype = constructor.prototype;\n\n    if (!isObjectObject(prototype)) {\n        return false;\n    }\n\n    if (!prototype.hasOwnProperty('isPrototypeOf')) {\n        return false;\n    }\n\n    return true;\n}\n\nexport function replaceObject<T : $ReadOnlyArray<mixed> | Object> (item : T, replacer : (mixed, string | number, string) => mixed, fullKey : string = '') : T {\n\n    if (Array.isArray(item)) {\n        const length = item.length;\n        const result : Array<mixed> = [];\n\n        for (let i = 0; i < length; i++) {\n\n\n            defineLazyProp(result, i, () => {\n                const itemKey = fullKey ? `${ fullKey }.${ i }` : `${ i }`;\n                const el = item[i];\n\n                let child = replacer(el, i, itemKey);\n\n                if (isPlainObject(child) || Array.isArray(child)) {\n                    // $FlowFixMe\n                    child = replaceObject(child, replacer, itemKey);\n                }\n\n                return child;\n            });\n        }\n\n        // $FlowFixMe\n        return result;\n    } else if (isPlainObject(item)) {\n        const result = {};\n\n        for (const key in item) {\n            if (!item.hasOwnProperty(key)) {\n                continue;\n            }\n\n            defineLazyProp(result, key, () => {\n                const itemKey = fullKey ? `${ fullKey }.${ key }` : `${ key }`;\n                // $FlowFixMe\n                const el = item[key];\n\n                let child = replacer(el, key, itemKey);\n\n                if (isPlainObject(child) || Array.isArray(child)) {\n                    // $FlowFixMe\n                    child = replaceObject(child, replacer, itemKey);\n                }\n\n                return child;\n            });\n        }\n\n        // $FlowFixMe\n        return result;\n    } else {\n        throw new Error(`Pass an object or array`);\n    }\n}\n\n\nexport function copyProp(source : Object, target : Object, name : string, def : mixed) {\n    if (source.hasOwnProperty(name)) {\n        const descriptor = Object.getOwnPropertyDescriptor(source, name);\n        // $FlowFixMe\n        Object.defineProperty(target, name, descriptor);\n\n    } else {\n        target[name] = def;\n    }\n}\n\ntype RegexResultType = {|\n    text : string,\n    groups : $ReadOnlyArray<string>,\n    start : number,\n    end : number,\n    length : number,\n    replace : (text : string) => string\n|};\n\nexport function regex(pattern : string | RegExp, string : string, start : number = 0) : ?RegexResultType {\n\n    if (typeof pattern === 'string') {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        pattern = new RegExp(pattern);\n    }\n\n    const result = string.slice(start).match(pattern);\n\n    if (!result) {\n        return;\n    }\n\n    // $FlowFixMe\n    const index : number = result.index;\n    const regmatch = result[0];\n\n    return {\n        text:   regmatch,\n        groups: result.slice(1),\n        start:  start + index,\n        end:    start + index + regmatch.length,\n        length: regmatch.length,\n\n        replace(text : string) : string {\n\n            if (!regmatch) {\n                return '';\n            }\n\n            return `${ regmatch.slice(0, start + index) }${ text }${ regmatch.slice(index + regmatch.length) }`;\n        }\n    };\n}\n\nexport function regexAll(pattern : string | RegExp, string : string) : $ReadOnlyArray<RegexResultType> {\n\n    const matches = [];\n    let start = 0;\n\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        const regmatch = regex(pattern, string, start);\n\n        if (!regmatch) {\n            break;\n        }\n\n        matches.push(regmatch);\n        start = match.end;\n    }\n\n    return matches;\n}\n\nexport function isDefined(value : ?mixed) : boolean {\n    return value !== null && value !== undefined;\n}\n\nexport function cycle(method : Function) : ZalgoPromise<void> {\n    return ZalgoPromise.try(method).then(() => cycle(method));\n}\n\nexport function debounce<T>(method : (...args : $ReadOnlyArray<mixed>) => T, time : number = 100) : (...args : $ReadOnlyArray<mixed>) => void {\n\n    let timeout;\n\n    const debounceWrapper = function() {\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => {\n            return method.apply(this, arguments);\n        }, time);\n    };\n\n    return setFunctionName(debounceWrapper, `${ getFunctionName(method) }::debounced`);\n}\n\nexport function isRegex(item : mixed) : boolean {\n    // $FlowFixMe[method-unbinding]\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\ntype FunctionProxy<T : Function> = (method : T) => T;\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport const weakMapMemoize : FunctionProxy<*> = <R : mixed>(method : (arg : any) => R) : ((...args : $ReadOnlyArray<any>) => R) => {\n\n    const weakmap = new WeakMap();\n\n    // eslint-disable-next-line flowtype/no-weak-types\n    return function weakmapMemoized(arg : any) : R {\n        return weakmap.getOrSet(arg, () => method.call(this, arg));\n    };\n};\n\ntype FunctionPromiseProxy<R : mixed, T : (...args : $ReadOnlyArray<mixed>) => ZalgoPromise<R>> = (T) => T;\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport const weakMapMemoizePromise : FunctionPromiseProxy<*, *> = <R : mixed>(method : (arg : any) => ZalgoPromise<R>) : ((...args : $ReadOnlyArray<any>) => ZalgoPromise<R>) => {\n\n    const weakmap = new WeakMap();\n\n    // eslint-disable-next-line flowtype/no-weak-types\n    return function weakmapMemoizedPromise(arg : any) : ZalgoPromise<R> {\n        return weakmap.getOrSet(arg, () =>\n            method.call(this, arg).finally(() => {\n                weakmap.delete(arg);\n            }));\n    };\n};\n\nexport function getOrSet<O : Object, T : mixed>(obj : O, key : string, getter : () => T) : T {\n    if (obj.hasOwnProperty(key)) {\n        return obj[key];\n    }\n\n    const val = getter();\n    obj[key] = val;\n    return val;\n}\n\nexport type CleanupType = {|\n    set : <T : mixed>(string, T) => T, // eslint-disable-line no-undef\n    register : (Function) => {| cancel : () => void |},\n    all : (err? : mixed) => ZalgoPromise<void>\n|};\n\nexport function cleanup(obj : Object) : CleanupType {\n\n    const tasks = [];\n    let cleaned = false;\n    let cleanErr;\n\n    const cleaner = {\n        set<T : mixed>(name : string, item : T) : T {\n            if (!cleaned) {\n                obj[name] = item;\n                cleaner.register(() => {\n                    delete obj[name];\n                });\n            }\n            return item;\n        },\n\n        register(method : Function) : {| cancel : () => void |} {\n            const task = once(() => method(cleanErr));\n\n            if (cleaned) {\n                method(cleanErr);\n            } else {\n                tasks.push(task);\n            }\n\n            return {\n                cancel: () => {\n                    const index = tasks.indexOf(task);\n                    if (index !== -1) {\n                        tasks.splice(index, 1);\n                    }\n                }\n            };\n        },\n\n        all(err? : mixed) : ZalgoPromise<void> {\n            cleanErr = err;\n\n            const results = [];\n            cleaned = true;\n\n            while (tasks.length) {\n                const task = tasks.shift();\n                results.push(task());\n            }\n\n            return ZalgoPromise.all(results).then(noop);\n        }\n    };\n\n    return cleaner;\n}\n\nexport function tryCatch<T>(fn : () => T) : {| result : T, error : void |} | {| result : void, error : mixed |} {\n    let result;\n    let error;\n\n    try {\n        result = fn();\n    } catch (err) {\n        error = err;\n    }\n\n    // $FlowFixMe\n    return { result, error };\n}\n\n// eslint-disable-next-line flowtype/no-mutable-array\nexport function removeFromArray<X, T : Array<X>>(arr : T, item : X) {\n    const index = arr.indexOf(item);\n    if (index !== -1) {\n        arr.splice(index, 1);\n    }\n}\n\nexport function assertExists<T>(name : string, thing : void | null | T) : T {\n    if (thing === null || typeof thing === 'undefined') {\n        throw new Error(`Expected ${ name } to be present`);\n    }\n\n    return thing;\n}\n\nexport function unique(arr : $ReadOnlyArray<string>) : $ReadOnlyArray<string> {\n    const result = {};\n    for (const item of arr) {\n        result[item] = true;\n    }\n    return Object.keys(result);\n}\n\nexport const constHas = <X : (string | boolean | number), T : { [string] : X }>(constant : T, value : X) : boolean => {\n    return memoizedValues(constant).indexOf(value) !== -1;\n};\n\nexport function dedupeErrors<T>(handler : (mixed) => T) : (mixed) => (T | void) {\n    const seenErrors = [];\n    const seenStringifiedErrors = {};\n\n    return (err) => {\n        if (seenErrors.indexOf(err) !== -1) {\n            return;\n        }\n\n        seenErrors.push(err);\n\n        const stringifiedError = stringifyError(err);\n        if (seenStringifiedErrors[stringifiedError]) {\n            return;\n        }\n\n        seenStringifiedErrors[stringifiedError] = true;\n        return handler(err);\n    };\n}\n\nexport class ExtendableError extends Error {\n    constructor(message : string) {\n        super(message);\n        // eslint-disable-next-line unicorn/custom-error-definition\n        this.name = this.constructor.name;\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            this.stack = (new Error(message)).stack;\n        }\n    }\n}\n","/* @flow */\n\nexport function hasNativeWeakMap() : boolean {\n\n    if (typeof WeakMap === 'undefined') {\n        return false;\n    }\n\n    if (typeof Object.freeze === 'undefined') {\n        return false;\n    }\n\n    try {\n\n        const testWeakMap = new WeakMap();\n        const testKey = {};\n        const testValue = '__testvalue__';\n\n        Object.freeze(testKey);\n\n        testWeakMap.set(testKey, testValue);\n\n        if (testWeakMap.get(testKey) === testValue) {\n            return true;\n        }\n\n        return false;\n\n    } catch (err) {\n\n        return false;\n    }\n}\n","/* @flow */\n\nexport const KEY_CODES = {\n    ENTER: 13,\n    SPACE: 32\n};\n\nexport const ATTRIBUTES = {\n    UID: 'data-uid'\n};\n\nexport const UID_HASH_LENGTH = 30;\n","/* @flow */\n/* eslint max-lines: off */\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { linkFrameWindow, isWindowClosed, assertSameDomain,\n    type SameDomainWindowType, type CrossDomainWindowType } from '@krakenjs/cross-domain-utils/src';\nimport { WeakMap } from '@krakenjs/cross-domain-safe-weakmap/src';\n\nimport { isElement, inlineMemoize, memoize, noop, stringify, capitalizeFirstLetter,\n    once, extend, safeInterval, uniqueID, arrayFrom, ExtendableError, strHashStr } from './util';\nimport { isDevice } from './device';\nimport { KEY_CODES, ATTRIBUTES, UID_HASH_LENGTH } from './constants';\nimport type { CancelableType } from './types';\n\ntype ElementRefType = string | HTMLElement;\n\nexport function getBody() : HTMLBodyElement {\n    // eslint-disable-next-line compat/compat\n    const body = document.body;\n\n    if (!body) {\n        throw new Error(`Body element not found`);\n    }\n\n    return body;\n}\n\nexport function isDocumentReady() : boolean {\n    // eslint-disable-next-line compat/compat\n    return Boolean(document.body) && (document.readyState === 'complete');\n}\n\nexport function isDocumentInteractive() : boolean {\n    // eslint-disable-next-line compat/compat\n    return Boolean(document.body) && (document.readyState === 'interactive');\n}\n\nexport function urlEncode(str : string) : string {\n    return encodeURIComponent(str);\n}\n\nexport function waitForWindowReady() : ZalgoPromise<void> {\n    return inlineMemoize(waitForWindowReady, () : ZalgoPromise<void> => {\n        return new ZalgoPromise(resolve => {\n            if (isDocumentReady()) {\n                resolve();\n            }\n\n            window.addEventListener('load', () => resolve());\n        });\n    });\n}\n\ntype WaitForDocumentReady = () => ZalgoPromise<void>;\n\nexport const waitForDocumentReady : WaitForDocumentReady = memoize(() => {\n    return new ZalgoPromise(resolve => {\n\n        if (isDocumentReady() || isDocumentInteractive()) {\n            return resolve();\n        }\n\n        const interval = setInterval(() => {\n            if (isDocumentReady() || isDocumentInteractive()) {\n                clearInterval(interval);\n                return resolve();\n            }\n        }, 10);\n    });\n});\n\nexport function waitForDocumentBody() : ZalgoPromise<HTMLBodyElement> {\n    return ZalgoPromise.try(() => {\n        if (document.body) {\n            return document.body;\n        }\n\n        return waitForDocumentReady().then(() => {\n            if (document.body) {\n                return document.body;\n            }\n\n            throw new Error('Document ready but document.body not present');\n        });\n    });\n}\n\nexport function parseQuery(queryString : string) : Object {\n    return inlineMemoize(parseQuery, () : Object => {\n        const params = {};\n\n        if (!queryString) {\n            return params;\n        }\n\n        if (queryString.indexOf('=') === -1) {\n            return params;\n        }\n\n        for (let pair of queryString.split('&')) {\n            pair = pair.split('=');\n\n            if (pair[0] && pair[1]) {\n                params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n            }\n        }\n\n        return params;\n    }, [ queryString ]);\n}\n\n\nexport function getQueryParam(name : string) : string {\n    return parseQuery(window.location.search.slice(1))[name];\n}\n\nexport function urlWillRedirectPage(url : string) : boolean {\n\n    if (url.indexOf('#') === -1) {\n        return true;\n    }\n\n    if (url.indexOf('#') === 0) {\n        return false;\n    }\n\n    if (url.split('#')[0] === window.location.href.split('#')[0]) {\n        return false;\n    }\n\n    return true;\n}\n\nexport type Query = {\n    [ string ] : boolean | string\n};\n\nexport function formatQuery(obj : Query = {}) : string {\n\n    return Object.keys(obj).filter(key => {\n        return typeof obj[key] === 'string' || typeof obj[key] === 'boolean';\n    }).map(key => {\n        const val = obj[key];\n\n        if (typeof val !== 'string' && typeof val !== 'boolean') {\n            throw new TypeError(`Invalid type for query`);\n        }\n\n        return `${ urlEncode(key) }=${ urlEncode(val.toString()) }`;\n    }).join('&');\n}\n\nexport function extendQuery(originalQuery : string, props : Query = {}) : string {\n\n    if (!props || !Object.keys(props).length) {\n        return originalQuery;\n    }\n\n    return formatQuery({\n        ...parseQuery(originalQuery),\n        ...props\n    });\n}\n\nexport function extendUrl(url : string, options : {| query? : Query, hash? : Query |}) : string {\n\n    const query = options.query || {};\n    const hash = options.hash || {};\n\n    let originalUrl;\n    let originalQuery;\n    let originalHash;\n\n    [ originalUrl, originalHash ] = url.split('#');\n    [ originalUrl, originalQuery ] = originalUrl.split('?');\n\n    const queryString = extendQuery(originalQuery, query);\n    const hashString = extendQuery(originalHash, hash);\n\n    if (queryString) {\n        originalUrl = `${ originalUrl }?${ queryString }`;\n    }\n\n    if (hashString) {\n        originalUrl = `${ originalUrl }#${ hashString }`;\n    }\n\n    return originalUrl;\n}\n\nexport function redirect(url : string, win : CrossDomainWindowType = window) : ZalgoPromise<void> {\n    return new ZalgoPromise(resolve => {\n        win.location = url;\n        if (!urlWillRedirectPage(url)) {\n            resolve();\n        }\n    });\n}\n\nexport function hasMetaViewPort() : boolean {\n    const meta = document.querySelector('meta[name=viewport]');\n\n    if (isDevice() && window.screen.width < 660 && !meta) {\n        return false;\n    }\n\n    return true;\n}\n\nexport function isElementVisible(el : HTMLElement) : boolean {\n    return Boolean(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n}\n\nexport function getPerformance() : ?Performance {\n    return inlineMemoize(getPerformance, () : ?Performance => {\n        const performance = window.performance;\n\n        if (\n            performance &&\n            performance.now &&\n            performance.timing &&\n            performance.timing.connectEnd &&\n            performance.timing.navigationStart &&\n            (Math.abs(performance.now() - Date.now()) > 1000) &&\n            (performance.now() - (performance.timing.connectEnd - performance.timing.navigationStart)) > 0\n        ) {\n            return performance;\n        }\n    });\n}\n\nexport function enablePerformance() : boolean {\n    return Boolean(getPerformance());\n}\n\nexport function getPageRenderTime() : ZalgoPromise<?number> {\n    return waitForDocumentReady().then(() => {\n        const performance = getPerformance();\n\n        if (!performance) {\n            return;\n        }\n\n        const timing = performance.timing;\n\n        if (timing.connectEnd && timing.domInteractive) {\n            return timing.domInteractive - timing.connectEnd;\n        }\n    });\n}\n\nexport function htmlEncode(html : string = '') : string {\n    return html.toString()\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nexport function isBrowser() : boolean {\n    return (typeof window !== 'undefined') && window.location !== undefined;\n}\n\nexport function querySelectorAll(selector : string, doc : HTMLElement = window.document) : $ReadOnlyArray<HTMLElement> {\n    // $FlowFixMe[method-unbinding]\n    return Array.prototype.slice.call(doc.querySelectorAll(selector));\n}\n\nexport function onClick(element : HTMLElement, handler : (Event) => void) {\n    element.addEventListener('touchstart', noop);\n    element.addEventListener('click', handler);\n    element.addEventListener('keypress', (event : Event) => {\n        // $FlowFixMe\n        if (event.keyCode === KEY_CODES.ENTER || event.keyCode === KEY_CODES.SPACE) {\n            return handler(event);\n        }\n    });\n}\n\nexport function getScript({ host = window.location.host, path, reverse = false } : {| host? : string, path : string, reverse? : boolean |}) : ?HTMLScriptElement {\n    return inlineMemoize(getScript, () : ?HTMLScriptElement => {\n\n        const url = `${ host }${ path }`;\n        // $FlowFixMe[method-unbinding]\n        const scripts = Array.prototype.slice.call(document.getElementsByTagName('script'));\n\n        if (reverse) {\n            scripts.reverse();\n        }\n\n        for (const script of scripts) {\n            if (!script.src) {\n                continue;\n            }\n\n            const src = script.src.replace(/^https?:\\/\\//, '').split('?')[0];\n\n            if (src === url) {\n                return script;\n            }\n        }\n    }, [ path ]);\n}\n\nexport function isLocalStorageEnabled() : boolean {\n    return inlineMemoize(isLocalStorageEnabled, () => {\n        try {\n            if (typeof window === 'undefined') {\n                return false;\n            }\n\n            if (window.localStorage) {\n                const value = Math.random().toString();\n                window.localStorage.setItem('__test__localStorage__', value);\n                const result = window.localStorage.getItem('__test__localStorage__');\n                window.localStorage.removeItem('__test__localStorage__');\n                if (value === result) {\n                    return true;\n                }\n            }\n        } catch (err) {\n            // pass\n        }\n        return false;\n    });\n}\n\nexport function getBrowserLocales() : $ReadOnlyArray<{| country? : string, lang : string |}> {\n    const nav = window.navigator;\n\n    const locales = nav.languages\n        ? [ ...nav.languages ]\n        : [];\n\n    if (nav.language) {\n        locales.push(nav.language);\n    }\n\n    if (nav.userLanguage) {\n        locales.push(nav.userLanguage);\n    }\n\n    return locales.map(locale => {\n\n        if (locale && locale.match(/^[a-z]{2}[-_][A-Z]{2}$/)) {\n            const [ lang, country ] = locale.split(/[-_]/);\n            return { country, lang };\n        }\n\n        if (locale && locale.match(/^[a-z]{2}$/)) {\n            return { lang: locale };\n        }\n\n        return null;\n\n    }).filter(Boolean);\n}\n\n\nexport function appendChild(container : HTMLElement, child : HTMLElement | Text) {\n    container.appendChild(child);\n}\n\nexport function getElementSafe(id : ElementRefType, doc : Document | HTMLElement = document) : ?HTMLElement {\n\n    if (isElement(id)) {\n        // $FlowFixMe\n        return id;\n    }\n\n    if (typeof id === 'string') {\n        return doc.querySelector(id);\n    }\n}\n\nexport function getElement(id : ElementRefType, doc : Document | HTMLElement = document) : HTMLElement {\n\n    const element = getElementSafe(id, doc);\n\n    if (element) {\n        return element;\n    }\n\n    throw new Error(`Can not find element: ${ stringify(id) }`);\n}\n\nexport function elementReady(id : ElementRefType) : ZalgoPromise<HTMLElement> {\n    return new ZalgoPromise((resolve, reject) => {\n\n        const name = stringify(id);\n        let el = getElementSafe(id);\n\n        if (el) {\n            return resolve(el);\n        }\n\n        if (isDocumentReady()) {\n            return reject(new Error(`Document is ready and element ${ name } does not exist`));\n        }\n\n        const interval = setInterval(() => {\n\n            el = getElementSafe(id);\n\n            if (el) {\n                resolve(el);\n                clearInterval(interval);\n                return;\n            }\n\n            if (isDocumentReady()) {\n                clearInterval(interval);\n                return reject(new Error(`Document is ready and element ${ name } does not exist`));\n            }\n        }, 10);\n    });\n}\n\n// eslint-disable-next-line unicorn/custom-error-definition\nexport class PopupOpenError extends ExtendableError {}\n\ntype PopupOptions = {|\n    name? : string,\n    width? : number,\n    height? : number,\n    top? : number,\n    left? : number,\n    status? : 0 | 1,\n    resizable? : 0 | 1,\n    toolbar? : 0 | 1,\n    menubar? : 0 | 1,\n    scrollbars? : 0 | 1,\n    closeOnUnload? : 0 | 1\n|};\n\nexport function popup(url : string, options? : PopupOptions) : CrossDomainWindowType {\n\n    // $FlowFixMe\n    options = options || {};\n\n    const { closeOnUnload = 1, name = '', width, height } = options;\n\n    let top = 0;\n    let left = 0;\n\n    if (width) {\n        if (window.outerWidth) {\n            left = Math.round((window.outerWidth - width) / 2) + window.screenX;\n        } else if (window.screen.width) {\n            left = Math.round((window.screen.width - width) / 2);\n        }\n    }\n\n    if (height) {\n        if (window.outerHeight) {\n            top = Math.round((window.outerHeight - height) / 2) + window.screenY;\n        } else if (window.screen.height) {\n            top = Math.round((window.screen.height - height) / 2);\n        }\n    }\n\n    delete options.closeOnUnload;\n    delete options.name;\n\n    if (width && height) {\n        // $FlowFixMe\n        options = {\n            top,\n            left,\n            width,\n            height,\n            status:     1,\n            toolbar:    0,\n            menubar:    0,\n            resizable:  1,\n            scrollbars: 1,\n            ...options\n        };\n    }\n\n    // eslint-disable-next-line array-callback-return\n    const params = Object.keys(options).map(key => {\n        // $FlowFixMe\n        if (options[key] !== null && options[key] !== undefined) {\n            return `${ key }=${ stringify(options[key]) }`;\n        }\n    }).filter(Boolean).join(',');\n\n    let win;\n\n    try {\n        win = window.open(url, name, params);\n    } catch (err) {\n        throw new PopupOpenError(`Can not open popup window - ${ err.stack || err.message }`);\n    }\n\n    if (isWindowClosed(win)) {\n        const err = new PopupOpenError(`Can not open popup window - blocked`);\n        throw err;\n    }\n\n    if (closeOnUnload) {\n        window.addEventListener('unload', () => win.close());\n    }\n\n    return win;\n}\n\n\nexport function writeToWindow(win : SameDomainWindowType, html : string) {\n    try {\n        win.document.open();\n        win.document.write(html);\n        win.document.close();\n    } catch (err) {\n        try {\n            win.location = `javascript: document.open(); document.write(${ JSON.stringify(html) }); document.close();`;\n        } catch (err2) {\n            // pass\n        }\n    }\n}\n\nexport function writeElementToWindow(win : SameDomainWindowType, el : HTMLElement) {\n\n    const tag = el.tagName.toLowerCase();\n\n    if (tag !== 'html') {\n        throw new Error(`Expected element to be html, got ${ tag }`);\n    }\n\n    const documentElement = win.document.documentElement;\n\n    for (const child of arrayFrom(documentElement.children)) {\n        documentElement.removeChild(child);\n    }\n\n    for (const child of arrayFrom(el.children)) {\n        documentElement.appendChild(child);\n    }\n}\n\nexport function setStyle(el : HTMLElement, styleText : string, doc : Document = window.document) {\n    // $FlowFixMe\n    if (el.styleSheet) {\n        // $FlowFixMe\n        el.styleSheet.cssText = styleText;\n    } else {\n        el.appendChild(doc.createTextNode(styleText));\n    }\n}\n\nexport type ElementOptionsType = {|\n    style? : { [ string ] : string },\n    id? : string,\n    class? : ?$ReadOnlyArray<string>,\n    attributes? : { [ string ] : string },\n    styleSheet? : ?string,\n    html? : ?string\n|};\n\nlet awaitFrameLoadPromises : WeakMap<HTMLIFrameElement, ZalgoPromise<HTMLIFrameElement>>;\n\nexport function awaitFrameLoad(frame : HTMLIFrameElement) : ZalgoPromise<HTMLIFrameElement> {\n    awaitFrameLoadPromises = awaitFrameLoadPromises || new WeakMap();\n\n    if (awaitFrameLoadPromises.has(frame)) {\n        const promise = awaitFrameLoadPromises.get(frame);\n        if (promise) {\n            return promise;\n        }\n    }\n\n    const promise = new ZalgoPromise((resolve, reject) => {\n        frame.addEventListener('load', () => {\n            linkFrameWindow(frame);\n            resolve(frame);\n        });\n\n        frame.addEventListener('error', (err : Event) => {\n            if (frame.contentWindow) {\n                resolve(frame);\n            } else {\n                reject(err);\n            }\n        });\n    });\n\n    awaitFrameLoadPromises.set(frame, promise);\n\n    return promise;\n}\n\nexport function awaitFrameWindow(frame : HTMLIFrameElement) : ZalgoPromise<CrossDomainWindowType> {\n    return awaitFrameLoad(frame).then(loadedFrame => {\n\n        if (!loadedFrame.contentWindow) {\n            throw new Error(`Could not find window in iframe`);\n        }\n\n        return loadedFrame.contentWindow;\n    });\n}\n\nconst getDefaultCreateElementOptions = () : ElementOptionsType => {\n    // $FlowFixMe\n    return {};\n};\n\nexport function createElement(tag : string = 'div', options : ElementOptionsType = getDefaultCreateElementOptions(), container : ?HTMLElement) : HTMLElement {\n\n    tag = tag.toLowerCase();\n    const element = document.createElement(tag);\n\n    if (options.style) {\n        extend(element.style, options.style);\n    }\n\n    if (options.class) {\n        element.className = options.class.join(' ');\n    }\n\n    if (options.id) {\n        element.setAttribute('id', options.id);\n    }\n\n    if (options.attributes) {\n        for (const key of Object.keys(options.attributes)) {\n            element.setAttribute(key, options.attributes[key]);\n        }\n    }\n\n    if (options.styleSheet) {\n        setStyle(element, options.styleSheet);\n    }\n\n    if (container) {\n        appendChild(container, element);\n    }\n\n    if (options.html) {\n        if (tag === 'iframe') {\n            // $FlowFixMe\n            if (!container || !element.contentWindow) {\n                throw new Error(`Iframe html can not be written unless container provided and iframe in DOM`);\n            }\n\n            // $FlowFixMe\n            writeToWindow(element.contentWindow, options.html);\n\n        } else {\n            element.innerHTML = options.html;\n        }\n    }\n\n    return element;\n}\n\ntype StringMap = {|\n    [ string ] : string\n|};\n\nexport type IframeElementOptionsType = {|\n    style? : StringMap,\n    class? : ?$ReadOnlyArray<string>,\n    attributes? : StringMap,\n    styleSheet? : ?string,\n    html? : ?string,\n    url? : ?string\n|};\n\nconst getDefaultIframeOptions = () : IframeElementOptionsType => {\n    // $FlowFixMe\n    return {};\n};\n\nconst getDefaultStringMap = () : StringMap => {\n    // $FlowFixMe\n    return {};\n};\n\nexport function iframe(options : IframeElementOptionsType = getDefaultIframeOptions(), container : ?HTMLElement) : HTMLIFrameElement {\n\n    const attributes = options.attributes || getDefaultStringMap();\n    const style = options.style || getDefaultStringMap();\n\n    // $FlowFixMe\n    const newAttributes = {\n        allowTransparency: 'true',\n        ...attributes\n    };\n\n    // $FlowFixMe\n    const newStyle = {\n        backgroundColor: 'transparent',\n        border:          'none',\n        ...style\n    };\n\n    const frame = createElement('iframe', {\n        attributes: newAttributes,\n        style:      newStyle,\n        html:       options.html,\n        class:      options.class\n    });\n\n    const isIE = window.navigator.userAgent.match(/MSIE|Edge/i);\n\n    if (!frame.hasAttribute('id')) {\n        frame.setAttribute('id', uniqueID());\n    }\n\n    // $FlowFixMe\n    awaitFrameLoad(frame);\n\n    if (container) {\n        const el = getElement(container);\n        el.appendChild(frame);\n    }\n\n    if (options.url || isIE) {\n        frame.setAttribute('src', options.url || 'about:blank');\n    }\n\n    // $FlowFixMe\n    return frame;\n}\n\nexport function addEventListener(obj : HTMLElement, event : string, handler : (event : Event) => void) : CancelableType {\n    obj.addEventListener(event, handler);\n    return {\n        cancel() {\n            obj.removeEventListener(event, handler);\n        }\n    };\n}\n\nexport function bindEvents(element : HTMLElement, eventNames : $ReadOnlyArray<string>, handler : (event : Event) => void) : CancelableType {\n\n    handler = once(handler);\n\n    for (const eventName of eventNames) {\n        element.addEventListener(eventName, handler);\n    }\n\n    return {\n        cancel: once(() => {\n            for (const eventName of eventNames) {\n                element.removeEventListener(eventName, handler);\n            }\n        })\n    };\n}\n\nconst VENDOR_PREFIXES = [ 'webkit', 'moz', 'ms', 'o' ];\n\nexport function setVendorCSS(element : HTMLElement, name : string, value : string) {\n\n    // $FlowFixMe\n    element.style[name] = value;\n\n    const capitalizedName = capitalizeFirstLetter(name);\n\n    for (const prefix of VENDOR_PREFIXES) {\n        // $FlowFixMe\n        element.style[`${ prefix }${ capitalizedName }`] = value;\n    }\n}\n\nconst ANIMATION_START_EVENTS = [ 'animationstart', 'webkitAnimationStart', 'oAnimationStart', 'MSAnimationStart' ];\nconst ANIMATION_END_EVENTS   = [ 'animationend', 'webkitAnimationEnd', 'oAnimationEnd', 'MSAnimationEnd' ];\n\nexport function animate(element : ElementRefType, name : string, clean : (Function) => void, timeout : number = 1000) : ZalgoPromise<void> {\n    return new ZalgoPromise((resolve, reject) => {\n\n        const el = getElement(element);\n\n        if (!el) {\n            return resolve();\n        }\n\n        let hasStarted = false;\n\n        // eslint-disable-next-line prefer-const\n        let startTimeout;\n        let endTimeout;\n        // eslint-disable-next-line prefer-const\n        let startEvent;\n        // eslint-disable-next-line prefer-const\n        let endEvent;\n\n        function cleanUp() {\n            clearTimeout(startTimeout);\n            clearTimeout(endTimeout);\n            startEvent.cancel();\n            endEvent.cancel();\n        }\n\n        startEvent = bindEvents(el, ANIMATION_START_EVENTS, event => {\n\n            // $FlowFixMe\n            if (event.target !== el || event.animationName !== name) {\n                return;\n            }\n\n            clearTimeout(startTimeout);\n\n            event.stopPropagation();\n\n            startEvent.cancel();\n            hasStarted = true;\n\n            endTimeout = setTimeout(() => {\n                cleanUp();\n                resolve();\n            }, timeout);\n        });\n\n        endEvent = bindEvents(el, ANIMATION_END_EVENTS, event => {\n\n            // $FlowFixMe\n            if (event.target !== el || event.animationName !== name) {\n                return;\n            }\n\n            cleanUp();\n\n            // $FlowFixMe\n            if (typeof event.animationName === 'string' && event.animationName !== name) {\n                return reject(`Expected animation name to be ${ name }, found ${ event.animationName }`);\n            }\n\n            return resolve();\n        });\n\n        setVendorCSS(el, 'animationName', name);\n\n        startTimeout = setTimeout(() => {\n            if (!hasStarted) {\n                cleanUp();\n                return resolve();\n            }\n        }, 200);\n\n        if (clean) {\n            clean(cleanUp);\n        }\n    });\n}\n\nexport function makeElementVisible(element : HTMLElement) {\n    element.style.setProperty('visibility', '');\n}\n\nexport function makeElementInvisible(element : HTMLElement) {\n    element.style.setProperty('visibility', 'hidden', 'important');\n}\n\n\nexport function showElement(element : HTMLElement) {\n    element.style.setProperty('display', '');\n}\n\nexport function hideElement(element : HTMLElement) {\n    element.style.setProperty('display', 'none', 'important');\n}\n\nexport function destroyElement(element : HTMLElement) {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n}\n\nexport function showAndAnimate(element : HTMLElement, name : string, clean : (Function) => void) : ZalgoPromise<void> {\n    const animation = animate(element, name, clean);\n    showElement(element);\n    return animation;\n}\n\nexport function animateAndHide(element : HTMLElement, name : string, clean : (Function) => void) : ZalgoPromise<void> {\n    return animate(element, name, clean).then(() => {\n        hideElement(element);\n    });\n}\n\nexport function addClass(element : HTMLElement, name : string) {\n    element.classList.add(name);\n}\n\nexport function removeClass(element : HTMLElement, name : string) {\n    element.classList.remove(name);\n}\n\nexport function isElementClosed(el : HTMLElement) : boolean {\n    if (!el || !el.parentNode || !el.ownerDocument || !el.ownerDocument.documentElement || !el.ownerDocument.documentElement.contains(el)) {\n        return true;\n    }\n    return false;\n}\n\nexport function watchElementForClose(element : HTMLElement, handler : () => mixed) : CancelableType {\n    handler = once(handler);\n\n    let cancelled = false;\n    const mutationObservers = [];\n    // eslint-disable-next-line prefer-const\n    let interval;\n    // eslint-disable-next-line prefer-const\n    let sacrificialFrame;\n    let sacrificialFrameWin;\n\n    const cancel = () => {\n        cancelled = true;\n        for (const observer of mutationObservers) {\n            observer.disconnect();\n        }\n        if (interval) {\n            interval.cancel();\n        }\n        if (sacrificialFrameWin) {\n            // eslint-disable-next-line no-use-before-define\n            sacrificialFrameWin.removeEventListener('unload', elementClosed);\n        }\n        if (sacrificialFrame) {\n            destroyElement(sacrificialFrame);\n        }\n    };\n\n    const elementClosed = () => {\n        if (!cancelled) {\n            handler();\n            cancel();\n        }\n    };\n\n    if (isElementClosed(element)) {\n        elementClosed();\n        return { cancel };\n    }\n\n    // Strategy 1: Mutation observer\n\n    if (window.MutationObserver) {\n        let mutationElement = element.parentElement;\n        while (mutationElement) {\n            const mutationObserver = new window.MutationObserver(() => {\n                if (isElementClosed(element)) {\n                    elementClosed();\n                }\n            });\n\n            mutationObserver.observe(mutationElement, { childList: true });\n            mutationObservers.push(mutationObserver);\n            mutationElement = mutationElement.parentElement;\n        }\n    }\n\n    // Strategy 2: Sacrificial iframe\n\n    sacrificialFrame = document.createElement('iframe');\n    sacrificialFrame.setAttribute('name', `__detect_close_${ uniqueID() }__`);\n    sacrificialFrame.style.display = 'none';\n    awaitFrameWindow(sacrificialFrame).then(frameWin => {\n        sacrificialFrameWin = assertSameDomain(frameWin);\n        sacrificialFrameWin.addEventListener('unload', elementClosed);\n    });\n    element.appendChild(sacrificialFrame);\n\n    // Strategy 3: Poller\n\n    const check = () => {\n        if (isElementClosed(element)) {\n            elementClosed();\n        }\n    };\n    interval = safeInterval(check, 1000);\n\n    return { cancel };\n}\n\nexport function fixScripts(el : HTMLElement, doc : Document = window.document) {\n    for (const script of querySelectorAll('script', el)) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\ntype OnResizeOptions = {|\n    width? : boolean,\n    height? : boolean,\n    interval? : number,\n    win? : SameDomainWindowType\n|};\n\nexport function onResize(el : HTMLElement, handler : ({| width : number, height : number |}) => void, { width = true, height = true, interval = 100, win = window } : OnResizeOptions = {}) : {| cancel : () => void |} {\n    let currentWidth = el.offsetWidth;\n    let currentHeight = el.offsetHeight;\n    let canceled = false;\n\n    handler({ width: currentWidth, height: currentHeight });\n\n    const check = () => {\n        if (canceled || !isElementVisible(el)) {\n            return;\n        }\n\n        const newWidth = el.offsetWidth;\n        const newHeight = el.offsetHeight;\n\n        if ((width && newWidth !== currentWidth) || (height && newHeight !== currentHeight)) {\n            handler({ width: newWidth, height: newHeight });\n        }\n\n        currentWidth = newWidth;\n        currentHeight = newHeight;\n    };\n\n    let observer;\n    let timeout;\n\n    win.addEventListener('resize', check);\n\n    if (typeof win.ResizeObserver !== 'undefined') {\n        observer = new win.ResizeObserver(check);\n        observer.observe(el);\n        timeout = safeInterval(check, interval * 10);\n\n    } else if (typeof win.MutationObserver !== 'undefined') {\n        observer = new win.MutationObserver(check);\n        observer.observe(el, {\n            attributes:    true,\n            childList:     true,\n            subtree:       true,\n            characterData: false\n        });\n        timeout = safeInterval(check, interval * 10);\n    } else {\n        timeout = safeInterval(check, interval);\n    }\n\n    return {\n        cancel: () => {\n            canceled = true;\n            observer.disconnect();\n            window.removeEventListener('resize', check);\n            timeout.cancel();\n        }\n    };\n}\n\nexport function getResourceLoadTime(url : string) : ?number {\n    const performance = getPerformance();\n\n    if (!performance) {\n        return;\n    }\n\n    // $FlowFixMe[method-unbinding]\n    if (typeof performance.getEntries !== 'function') {\n        return;\n    }\n\n    const entries = performance.getEntries();\n\n    for (let i = 0; i < entries.length; i++) {\n        const entry = entries[i];\n\n        if (entry && entry.name && entry.name.indexOf(url) === 0 && typeof entry.duration === 'number') {\n            return Math.floor(entry.duration);\n        }\n    }\n}\n\nexport function isShadowElement(element : Node) : boolean {\n    while (element.parentNode) {\n        element = element.parentNode;\n    }\n\n    return element.toString() === '[object ShadowRoot]';\n}\n\nexport function getShadowRoot(element : Node) : ?Node {\n    while (element.parentNode) {\n        element = element.parentNode;\n    }\n\n    if (isShadowElement(element)) {\n        return element;\n    }\n}\n\nexport function getShadowHost(element : Node) : ?HTMLElement {\n    const shadowRoot = getShadowRoot(element);\n\n    // $FlowFixMe\n    if (shadowRoot && shadowRoot.host) {\n        // $FlowFixMe\n        return shadowRoot.host;\n    }\n}\n\n\nexport function insertShadowSlot(element : HTMLElement) : HTMLElement {\n    const shadowHost = getShadowHost(element);\n\n    if (!shadowHost) {\n        throw new Error(`Element is not in shadow dom`);\n    }\n\n    const slotName = `shadow-slot-${ uniqueID() }`;\n    const slot = document.createElement('slot');\n    slot.setAttribute('name', slotName);\n    element.appendChild(slot);\n\n    const slotProvider = document.createElement('div');\n    slotProvider.setAttribute('slot', slotName);\n    shadowHost.appendChild(slotProvider);\n\n    if (isShadowElement(shadowHost)) {\n        return insertShadowSlot(slotProvider);\n    }\n\n    return slotProvider;\n}\n\nexport function preventClickFocus(el : HTMLElement) {\n    const onFocus = (event : Event) => {\n        el.removeEventListener('focus', onFocus);\n        event.preventDefault();\n        el.blur();\n        return false;\n    };\n\n    el.addEventListener('mousedown', () => {\n        el.addEventListener('focus', onFocus);\n        setTimeout(() => {\n            el.removeEventListener('focus', onFocus);\n        }, 1);\n    });\n}\n\nexport function getStackTrace() : string {\n    try {\n        throw new Error('_');\n    }\n    catch (err) {\n        return err.stack || '';\n    }\n}\n\nfunction inferCurrentScript() : ?HTMLScriptElement {\n    try {\n        const stack = getStackTrace();\n        const stackDetails = (/.*at [^(]*\\((.*):(.+):(.+)\\)$/ig).exec(stack);\n        const scriptLocation = stackDetails && stackDetails[1];\n\n        if (!scriptLocation) {\n            return;\n        }\n\n        // $FlowFixMe[method-unbinding]\n        for (const script of Array.prototype.slice.call(document.getElementsByTagName('script')).reverse()) {\n            if (script.src && script.src === scriptLocation) {\n                return script;\n            }\n        }\n\n    } catch (err) {\n        // pass\n    }\n}\n\n// eslint-disable-next-line compat/compat\nlet currentScript = typeof document !== 'undefined' ? document.currentScript : null;\n\ntype GetCurrentScript = () => HTMLScriptElement;\n\nexport const getCurrentScript : GetCurrentScript = memoize(() => {\n    if (currentScript) {\n        return currentScript;\n    }\n\n    currentScript = inferCurrentScript();\n\n    if (currentScript) {\n        return currentScript;\n    }\n\n    throw new Error('Can not determine current script');\n});\n\nconst currentUID = uniqueID();\n\ntype GetCurrentScriptUID = () => string;\n\nexport const getCurrentScriptUID : GetCurrentScriptUID = memoize(() => {\n    let script;\n\n    try {\n        script = getCurrentScript();\n    } catch (err) {\n        return currentUID;\n    }\n\n    let uid = script.getAttribute(ATTRIBUTES.UID);\n\n    if (uid && typeof uid === 'string') {\n        return uid;\n    }\n\n    uid = script.getAttribute(`${ ATTRIBUTES.UID }-auto`);\n\n    if (uid && typeof uid === 'string') {\n        return uid;\n    }\n\n    if (script.src) {\n\n        const { src, dataset } = script;\n        const stringToHash = JSON.stringify({ src, dataset });\n        const hashedString = strHashStr(stringToHash);\n        const hashResult = hashedString.slice(hashedString.length - UID_HASH_LENGTH);\n\n        uid = `uid_${ hashResult }`;\n    } else {\n        uid = uniqueID();\n    }\n\n    script.setAttribute(`${ ATTRIBUTES.UID }-auto`, uid);\n\n    return uid;\n});\n\ntype SubmitFormOptions = {|\n    url : string,\n    target : string,\n    body? : {| [string] : string | boolean |},\n    method? : string\n|};\n\nexport function submitForm({ url, target, body, method = 'post' } : SubmitFormOptions) {\n    const form = document.createElement('form');\n    form.setAttribute('target', target);\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n    form.style.display = 'none';\n\n    if (body) {\n        for (const key of Object.keys(body)) {\n            const input = document.createElement('input');\n            input.setAttribute('name', key);\n            input.setAttribute('value', body[key]?.toString());\n            form.appendChild(input);\n        }\n    }\n\n    getBody().appendChild(form);\n    form.submit();\n    getBody().removeChild(form);\n}\n","/* @flow */\n\nimport { uniqueID, getGlobal, inlineMemoize } from './util';\nimport { isLocalStorageEnabled } from './dom';\n\ntype Getter<T> = <T>(handler : (Object) => T) => T;\n\nexport type Storage = {|\n    getState : Getter<*>,\n    getID : () => string,\n    isStateFresh : () => boolean,\n    getSessionState : Getter<*>,\n    getSessionID : () => string\n|};\n\nconst DEFAULT_SESSION_STORAGE = 20 * 60 * 1000;\n\nexport function getStorage({ name, lifetime = DEFAULT_SESSION_STORAGE } : {| name : string, lifetime? : number |}) : Storage {\n    return inlineMemoize(getStorage, () => {\n        const STORAGE_KEY = `__${ name }_storage__`;\n        const newStateID = uniqueID();\n\n        let accessedStorage;\n\n        function getState<T>(handler : (storage : Object) => T) : T {\n\n            const localStorageEnabled = isLocalStorageEnabled();\n            let storage;\n\n            if (accessedStorage) {\n                storage = accessedStorage;\n            }\n\n            if (!storage && localStorageEnabled) {\n                const rawStorage = window.localStorage.getItem(STORAGE_KEY);\n\n                if (rawStorage) {\n                    storage = JSON.parse(rawStorage);\n                }\n            }\n\n            if (!storage) {\n                storage = getGlobal()[STORAGE_KEY];\n            }\n\n            if (!storage) {\n                storage = {\n                    id: newStateID\n                };\n            }\n\n            if (!storage.id) {\n                storage.id = newStateID;\n            }\n\n            accessedStorage = storage;\n\n            const result = handler(storage);\n\n            if (localStorageEnabled) {\n                window.localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n            } else {\n                getGlobal()[STORAGE_KEY] = storage;\n            }\n\n            accessedStorage = null;\n\n            return result;\n        }\n\n        function getID() : string {\n            return getState(storage => storage.id);\n        }\n\n        function isStateFresh() : boolean {\n            return getID() === newStateID;\n        }\n\n        function getSession<T>(handler : (state : Object) => T) : T {\n            return getState(storage => {\n\n                let session = storage.__session__;\n                const now = Date.now();\n\n                if (session && ((now - session.created) > lifetime)) {\n                    session = null;\n                }\n\n                if (!session) {\n                    session = {\n                        guid:    uniqueID(),\n                        created: now\n                    };\n                }\n\n                storage.__session__ = session;\n\n                return handler(session);\n            });\n        }\n\n        function getSessionState<T>(handler : (state : Object) => T) : T {\n            return getSession(session => {\n                session.state = session.state || {};\n                return handler(session.state);\n            });\n        }\n\n        function getSessionID() : string {\n            return getSession(session => session.guid);\n        }\n\n        return {\n            getState,\n            getID,\n            isStateFresh,\n            getSessionState,\n            getSessionID\n        };\n    }, [ { name, lifetime } ]);\n}\n","/* @flow */\n\nimport { noop } from './util';\nimport { getStorage } from './storage';\n\nfunction getBelterExperimentStorage() : Object {\n    return getStorage({ name: 'belter_experiment' });\n}\n\nfunction isEventUnique(name : string) : boolean {\n    return getBelterExperimentStorage().getSessionState(state => {\n        state.loggedBeacons = state.loggedBeacons || [];\n\n        if (state.loggedBeacons.indexOf(name) === -1) {\n            state.loggedBeacons.push(name);\n            return true;\n        }\n\n        return false;\n    });\n}\n\ntype Payload = {\n    [string] : ?(string | boolean)\n};\n\nexport type Experiment = {|\n    isEnabled : () => boolean,\n    isDisabled : () => boolean,\n    getTreatment : () => string,\n    log : (string, payload? : Payload) => Experiment,\n    logStart : (payload? : Payload) => Experiment,\n    logComplete : (payload? : Payload) => Experiment\n|};\n\nfunction getRandomInteger(range : number) : number {\n    return Math.floor(Math.random() * range);\n}\n\nfunction getThrottlePercentile(name : string) : number {\n    return getBelterExperimentStorage().getState(state => {\n        state.throttlePercentiles = state.throttlePercentiles || {};\n        state.throttlePercentiles[name] = state.throttlePercentiles[name] || getRandomInteger(100);\n        return state.throttlePercentiles[name];\n    });\n}\n\nconst THROTTLE_GROUP = {\n    TEST:     'test',\n    CONTROL:  'control',\n    THROTTLE: 'throttle'\n};\n\ntype ExperimentOptions = {|\n    name : string,\n    sample? : number,\n    logTreatment? : ({| name : string, treatment : string, payload : Payload, throttle : number |}) => void,\n    logCheckpoint? : ({| name : string, treatment : string, checkpoint : string, payload : Payload, throttle : number |}) => void,\n    sticky? : boolean\n|};\n\nexport function experiment({ name, sample = 50, logTreatment = noop, logCheckpoint = noop, sticky = true } : ExperimentOptions) : Experiment {\n\n    const throttle = sticky\n        ? getThrottlePercentile(name)\n        : getRandomInteger(100);\n\n    let group;\n\n    if (throttle < sample && !__TEST__) {\n        group = THROTTLE_GROUP.TEST;\n    } else if ((sample >= 50) || ((sample <= throttle) && (throttle < (sample * 2)))) {\n        group = THROTTLE_GROUP.CONTROL;\n    } else {\n        group = THROTTLE_GROUP.THROTTLE;\n    }\n\n    const treatment = `${ name }_${ group }`;\n\n    let started = false;\n    let forced = false;\n\n    try {\n        if (window.localStorage && window.localStorage.getItem(name)) {\n            forced = true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    const exp = {\n\n        isEnabled() : boolean {\n            return (group === THROTTLE_GROUP.TEST) || forced;\n        },\n\n        isDisabled() : boolean {\n            return (group !== THROTTLE_GROUP.TEST) && !forced;\n        },\n\n        getTreatment() : string {\n            return treatment;\n        },\n\n        log(checkpoint : string, payload? : Payload = {}) : Experiment {\n            if (!started) {\n                return exp;\n            }\n\n            if (isEventUnique(`${ treatment }_${ JSON.stringify(payload) }`)) {\n                logTreatment({ name, treatment, payload, throttle });\n            }\n\n            if (isEventUnique(`${ treatment }_${ checkpoint }_${ JSON.stringify(payload) }`)) {\n                logCheckpoint({ name, treatment, checkpoint, payload, throttle });\n            }\n\n            return exp;\n        },\n\n        logStart(payload? : Payload = {}) : Experiment {\n            started = true;\n            return exp.log(`start`, payload);\n        },\n\n        logComplete(payload? : Payload = {}) : Experiment {\n            return exp.log(`complete`, payload);\n        }\n    };\n\n    return exp;\n}\n","/* @flow */\n\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { type SameDomainWindowType } from '@krakenjs/cross-domain-utils/src';\n\ntype RequestOptionsType = {|\n    url : string,\n    method? : string,\n    headers? : { [key : string] : string },\n    json? : $ReadOnlyArray<mixed> | Object,\n    data? : { [key : string] : string },\n    body? : string,\n    win? : SameDomainWindowType,\n    timeout? : number\n|};\n\ntype ResponseType = {|\n    status : number,\n    headers : { [string] : string },\n    body : Object\n|};\n\nconst HEADERS = {\n    CONTENT_TYPE: 'content-type',\n    ACCEPT:       'accept'\n};\n\nconst headerBuilders = [];\n\nfunction parseHeaders(rawHeaders : string = '') : { [string] : string } {\n    const result = {};\n    for (const line of rawHeaders.trim().split('\\n')) {\n        const [ key, ...values ] = line.split(':');\n        result[key.toLowerCase()] = values.join(':').trim();\n    }\n    return result;\n}\n\nexport function request({ url, method = 'get', headers = {}, json, data, body, win = window, timeout = 0 } : RequestOptionsType) : ZalgoPromise<ResponseType> {\n    return new ZalgoPromise((resolve, reject) => {\n\n        if ((json && data) || (json && body) || (data && json)) {\n            throw new Error(`Only options.json or options.data or options.body should be passed`);\n        }\n\n        const normalizedHeaders = {};\n\n        for (const key of Object.keys(headers)) {\n            normalizedHeaders[key.toLowerCase()] = headers[key];\n        }\n\n        if (json) {\n            normalizedHeaders[HEADERS.CONTENT_TYPE] = normalizedHeaders[HEADERS.CONTENT_TYPE] || 'application/json';\n        } else if (data || body) {\n            normalizedHeaders[HEADERS.CONTENT_TYPE] = normalizedHeaders[HEADERS.CONTENT_TYPE] || 'application/x-www-form-urlencoded; charset=utf-8';\n        }\n\n        normalizedHeaders[HEADERS.ACCEPT] = normalizedHeaders[HEADERS.ACCEPT] || 'application/json';\n\n        for (const headerBuilder of headerBuilders) {\n            const builtHeaders = headerBuilder();\n\n            for (const key of Object.keys(builtHeaders)) {\n                normalizedHeaders[key.toLowerCase()] = builtHeaders[key];\n            }\n        }\n\n        const xhr = new win.XMLHttpRequest();\n\n        xhr.addEventListener('load', function xhrLoad() : void {\n\n            const responseHeaders = parseHeaders(this.getAllResponseHeaders());\n\n            if (!this.status) {\n                return reject(new Error(`Request to ${ method.toLowerCase() } ${ url } failed: no response status code.`));\n            }\n\n            const contentType = responseHeaders['content-type'];\n            const isJSON = contentType && (contentType.indexOf('application/json') === 0 || contentType.indexOf('text/json') === 0);\n            let responseBody = this.responseText;\n\n            try {\n                responseBody = JSON.parse(responseBody);\n            } catch (err) {\n                if (isJSON) {\n                    return reject(new Error(`Invalid json: ${ this.responseText }.`));\n                }\n            }\n\n            const res = {\n                status:  this.status,\n                headers: responseHeaders,\n                body:    responseBody\n            };\n\n            return resolve(res);\n\n        }, false);\n\n        xhr.addEventListener('error', (evt) => {\n            reject(new Error(`Request to ${ method.toLowerCase() } ${ url } failed: ${ evt.toString() }.`));\n        }, false);\n\n        xhr.open(method, url, true);\n\n        for (const key in normalizedHeaders) {\n            if (normalizedHeaders.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, normalizedHeaders[key]);\n            }\n        }\n\n        if (json) {\n            body = JSON.stringify(json);\n        } else if (data) {\n            body = Object.keys(data).map(key => {\n                return `${ encodeURIComponent(key) }=${ data ? encodeURIComponent(data[key]) : '' }`;\n            }).join('&');\n        }\n\n        xhr.timeout = timeout;\n        xhr.ontimeout = function xhrTimeout() {\n            reject(new Error(`Request to ${ method.toLowerCase() } ${ url } has timed out`));\n        };\n\n        xhr.send(body);\n    });\n}\n\nexport function addHeaderBuilder(method : () => { [string] : string }) {\n    headerBuilders.push(method);\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/* @flow */\n\nexport function isPromise(item : mixed) : boolean {\n    try {\n        if (!item) {\n            return false;\n        }\n\n        if (typeof Promise !== 'undefined' && item instanceof Promise) {\n            return true;\n        }\n\n        if (typeof window !== 'undefined' && typeof window.Window === 'function' && item instanceof window.Window) {\n            return false;\n        }\n\n        if (typeof window !== 'undefined' && typeof window.constructor === 'function' && item instanceof window.constructor) {\n            return false;\n        }\n\n        const toString = ({}).toString;\n\n        if (toString) {\n            const name = toString.call(item);\n\n            if (name === '[object Window]' || name === '[object global]' || name === '[object DOMWindow]') {\n                return false;\n            }\n        }\n\n        if (typeof item.then === 'function') {\n            return true;\n        }\n    } catch (err) {\n        return false;\n    }\n\n    return false;\n}\n","/* @flow */\n\nimport type { ZalgoPromise } from './promise';\n\nconst dispatchedErrors = [];\nconst possiblyUnhandledPromiseHandlers : Array<(mixed, promise? : ZalgoPromise<mixed>) => void> = [];\n\nexport function dispatchPossiblyUnhandledError<T>(err : mixed, promise : ZalgoPromise<T>) {\n\n    if (dispatchedErrors.indexOf(err) !== -1) {\n        return;\n    }\n\n    dispatchedErrors.push(err);\n\n    setTimeout(() => {\n        if (__DEBUG__) {\n            // $FlowFixMe\n            throw new Error(`${ err.stack || err.toString() }\\n\\nFrom promise:\\n\\n${ promise.stack }`);\n        }\n\n        throw err;\n    }, 1);\n\n    for (let j = 0; j < possiblyUnhandledPromiseHandlers.length; j++) {\n        // $FlowFixMe\n        possiblyUnhandledPromiseHandlers[j](err, promise);\n    }\n}\n\nexport function onPossiblyUnhandledException(handler : (mixed, promise? : ZalgoPromise<mixed>) => void) : {| cancel : () => void |} {\n    possiblyUnhandledPromiseHandlers.push(handler);\n\n    return {\n        cancel() {\n            possiblyUnhandledPromiseHandlers.splice(possiblyUnhandledPromiseHandlers.indexOf(handler), 1);\n        }\n    };\n}\n","/* @flow */\n\nimport type { ZalgoPromise } from './promise';\n\nlet activeCount = 0;\nlet flushPromise;\n\nfunction flushActive() {\n    if (!activeCount && flushPromise) {\n        const promise = flushPromise;\n        flushPromise = null;\n        promise.resolve();\n    }\n}\n\nexport function startActive() {\n    activeCount += 1;\n}\n\nexport function endActive() {\n    activeCount -= 1;\n    flushActive();\n}\n\nexport function awaitActive(Zalgo : Class<ZalgoPromise<*>>) : ZalgoPromise<void> { // eslint-disable-line no-undef\n    const promise = flushPromise = flushPromise || new Zalgo();\n    flushActive();\n    return promise;\n}\n","/* @flow */\n/* eslint no-use-before-define: off */\n\nimport { isPromise } from './utils';\nimport { onPossiblyUnhandledException, dispatchPossiblyUnhandledError } from './exceptions';\nimport { startActive, endActive, awaitActive } from './flush';\n\nexport class ZalgoPromise<R : mixed> {\n\n    resolved : boolean;\n    rejected : boolean;\n    errorHandled : boolean;\n    value : R;\n    error : mixed;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    handlers : Array<{|\n        promise : ZalgoPromise<*>,\n        onSuccess : void | (result : R) => mixed,\n        onError : void | (error : mixed) => mixed\n    |}>;\n    dispatching : boolean;\n    stack : string;\n\n    constructor(handler : ?(resolve : (result : R) => void, reject : (error : mixed) => void) => void) {\n\n        this.resolved = false;\n        this.rejected = false;\n        this.errorHandled = false;\n\n        this.handlers = [];\n\n        if (handler) {\n\n            let result;\n            let error;\n            let resolved = false;\n            let rejected = false;\n            let isAsync = false;\n\n            startActive();\n\n            try {\n                handler(res => {\n                    if (isAsync) {\n                        this.resolve(res);\n                    } else {\n                        resolved = true;\n                        result = res;\n                    }\n\n                }, err => {\n                    if (isAsync) {\n                        this.reject(err);\n                    } else {\n                        rejected = true;\n                        error = err;\n                    }\n                });\n\n            } catch (err) {\n                endActive();\n                this.reject(err);\n                return;\n            }\n\n            endActive();\n\n            isAsync = true;\n\n            if (resolved) {\n                // $FlowFixMe\n                this.resolve(result);\n            } else if (rejected) {\n                this.reject(error);\n            }\n        }\n\n        if (__DEBUG__) {\n            try {\n                throw new Error(`ZalgoPromise`);\n            } catch (err) {\n                this.stack = err.stack;\n            }\n        }\n    }\n\n    resolve(result : R) : ZalgoPromise<R> {\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        if (isPromise(result)) {\n            throw new Error('Can not resolve promise with another promise');\n        }\n\n        this.resolved = true;\n        this.value = result;\n        this.dispatch();\n\n        return this;\n    }\n\n    reject(error : mixed) : ZalgoPromise<R> {\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        if (isPromise(error)) {\n            throw new Error('Can not reject promise with another promise');\n        }\n\n        if (!error) {\n            // $FlowFixMe\n            const err = (error && typeof error.toString === 'function' ? error.toString() : Object.prototype.toString.call(error));\n            error = new Error(`Expected reject to be called with Error, got ${ err }`);\n        }\n\n        this.rejected = true;\n        this.error = error;\n\n        if (!this.errorHandled) {\n            setTimeout(() => {\n                if (!this.errorHandled) {\n                    dispatchPossiblyUnhandledError(error, this);\n                }\n            }, 1);\n        }\n\n        this.dispatch();\n\n        return this;\n    }\n\n    asyncReject(error : mixed) : ZalgoPromise<R> {\n        this.errorHandled = true;\n        this.reject(error);\n        return this;\n    }\n\n    dispatch() {\n\n        const { dispatching, resolved, rejected, handlers } = this;\n\n        if (dispatching) {\n            return;\n        }\n\n        if (!resolved && !rejected) {\n            return;\n        }\n\n        this.dispatching = true;\n        startActive();\n\n        const chain = <T>(firstPromise : ZalgoPromise<T>, secondPromise : ZalgoPromise<T>) => {\n            return firstPromise.then(res => {\n                secondPromise.resolve(res);\n            }, err => {\n                secondPromise.reject(err);\n            });\n        };\n\n        for (let i = 0; i < handlers.length; i++) {\n\n            const { onSuccess, onError, promise } = handlers[i];\n\n            let result;\n\n            if (resolved) {\n\n                try {\n                    result = onSuccess ? onSuccess(this.value) : this.value;\n                } catch (err) {\n                    promise.reject(err);\n                    continue;\n                }\n\n            } else if (rejected) {\n\n                if (!onError) {\n                    promise.reject(this.error);\n                    continue;\n                }\n\n                try {\n                    result = onError(this.error);\n                } catch (err) {\n                    promise.reject(err);\n                    continue;\n                }\n            }\n\n            if (result instanceof ZalgoPromise && (result.resolved || result.rejected)) {\n                const promiseResult : ZalgoPromise<*> = result;\n\n                if (promiseResult.resolved) {\n                    promise.resolve(promiseResult.value);\n                } else {\n                    promise.reject(promiseResult.error);\n                }\n\n                promiseResult.errorHandled = true;\n\n            } else if (isPromise(result)) {\n\n                if (result instanceof ZalgoPromise && (result.resolved || result.rejected)) {\n                    if (result.resolved) {\n                        promise.resolve(result.value);\n                    } else {\n                        promise.reject(result.error);\n                    }\n\n                } else {\n                    // $FlowFixMe\n                    chain(result, promise);\n                }\n\n            } else {\n\n                promise.resolve(result);\n            }\n        }\n\n        handlers.length = 0;\n        this.dispatching = false;\n        endActive();\n    }\n\n    then<X, Y>(onSuccess : void | (result : R) => (ZalgoPromise<X> | Y), onError : void | (error : mixed) => (ZalgoPromise<X> | Y)) : ZalgoPromise<X | Y> {\n\n        if (onSuccess && typeof onSuccess !== 'function' && !onSuccess.call) {\n            throw new Error('Promise.then expected a function for success handler');\n        }\n\n        if (onError && typeof onError !== 'function' && !onError.call) {\n            throw new Error('Promise.then expected a function for error handler');\n        }\n\n        const promise = new ZalgoPromise();\n\n        this.handlers.push({\n            promise,\n            onSuccess,\n            onError\n        });\n\n        this.errorHandled = true;\n\n        this.dispatch();\n\n        return promise;\n    }\n\n    catch<X, Y>(onError : (error : mixed) => ZalgoPromise<X> | Y) : ZalgoPromise<X | Y> {\n        // $FlowFixMe incompatible-call\n        const resultPromise : ZalgoPromise<X | Y> = this.then(undefined, onError);\n        return resultPromise;\n    }\n\n    finally(onFinally : () => mixed) : ZalgoPromise<R> {\n\n        if (onFinally && typeof onFinally !== 'function' && !onFinally.call) {\n            throw new Error('Promise.finally expected a function');\n        }\n\n        return this.then((result) => {\n            return ZalgoPromise.try(onFinally)\n                .then(() => {\n                    return result;\n                });\n        }, (err) => {\n            return ZalgoPromise.try(onFinally)\n                .then(() => {\n                    throw err;\n                });\n        });\n    }\n\n    timeout(time : number, err : ?Error) : ZalgoPromise<R> {\n\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        const timeout = setTimeout(() => {\n\n            if (this.resolved || this.rejected) {\n                return;\n            }\n\n            this.reject(err || new Error(`Promise timed out after ${ time }ms`));\n\n        }, time);\n\n        return this.then(result => {\n            clearTimeout(timeout);\n            return result;\n        });\n    }\n\n    // $FlowFixMe\n    toPromise() : Promise<R> {\n        // $FlowFixMe\n        if (typeof Promise === 'undefined') {\n            throw new TypeError(`Could not find Promise`);\n        }\n        // $FlowFixMe\n        return Promise.resolve(this); // eslint-disable-line compat/compat\n    }\n\n    lazy() : ZalgoPromise<R> {\n        this.errorHandled = true;\n        return this;\n    }\n\n    static resolve<X, Y>(value : ZalgoPromise<X> | Y) : ZalgoPromise<X | Y> {\n\n        if (value instanceof ZalgoPromise) {\n            // $FlowFixMe incompatible-type-arg\n            const result : ZalgoPromise<X | Y> = value;\n            return result;\n        }\n\n        if (isPromise(value)) {\n            // $FlowFixMe\n            return new ZalgoPromise((resolve, reject) => value.then(resolve, reject));\n        }\n\n        return new ZalgoPromise().resolve(value);\n    }\n\n    static reject(error : mixed) : ZalgoPromise<R> {\n        return new ZalgoPromise().reject(error);\n    }\n\n    static asyncReject(error : mixed) : ZalgoPromise<R> {\n        return new ZalgoPromise().asyncReject(error);\n    }\n\n    static all<X : $ReadOnlyArray<mixed>>(promises : X) : ZalgoPromise<$TupleMap<X, <Y>(ZalgoPromise<Y> | Y) => Y>> { // eslint-disable-line no-undef\n\n        const promise = new ZalgoPromise();\n        let count = promises.length;\n        // eslint-disable-next-line no-undef, unicorn/prefer-spread\n        const results = ([] : $TupleMap<X, <Y>(ZalgoPromise<Y> | Y) => Y>).slice();\n\n        if (!count) {\n            promise.resolve(results);\n            return promise;\n        }\n\n        const chain = <T>(i : number, firstPromise : ZalgoPromise<T>, secondPromise : ZalgoPromise<T>) => {\n            return firstPromise.then(res => {\n                results[i] = res;\n                count -= 1;\n                if (count === 0) {\n                    promise.resolve(results);\n                }\n            }, err => {\n                secondPromise.reject(err);\n            });\n        };\n\n        for (let i = 0; i < promises.length; i++) {\n            const prom = promises[i];\n\n            if (prom instanceof ZalgoPromise) {\n                if (prom.resolved) {\n                    results[i] = prom.value;\n                    count -= 1;\n                    continue;\n                }\n            } else if (!isPromise(prom)) {\n                results[i] = prom;\n                count -= 1;\n                continue;\n            }\n\n            chain(i, ZalgoPromise.resolve(prom), promise);\n        }\n\n        if (count === 0) {\n            promise.resolve(results);\n        }\n\n        return promise;\n    }\n\n    static hash<O : Object>(promises : O) : ZalgoPromise<$ObjMap<O, <Y>(ZalgoPromise<Y> | Y) => Y>> { // eslint-disable-line no-undef\n        const result = {};\n        const awaitPromises = [];\n\n        for (const key in promises) {\n            if (promises.hasOwnProperty(key)) {\n                const value = promises[key];\n\n                if (isPromise(value)) {\n                    awaitPromises.push(value.then(res => {\n                        result[key] = res;\n                    }));\n                } else {\n                    result[key] = value;\n                }\n            }\n        }\n\n        return ZalgoPromise.all(awaitPromises).then(() => result);\n    }\n\n    static map<T, X>(items : $ReadOnlyArray<T>, method : (T) => (ZalgoPromise<X> | X)) : ZalgoPromise<$ReadOnlyArray<X>> {\n        // $FlowFixMe\n        return ZalgoPromise.all(items.map(method));\n    }\n\n    static onPossiblyUnhandledException(handler : (err : mixed) => void) : {| cancel : () => void |} {\n        return onPossiblyUnhandledException(handler);\n    }\n\n    static try<X, Y, C : mixed, A : $ReadOnlyArray<mixed>>(method : (...args : $ReadOnlyArray<mixed>) => (ZalgoPromise<X> | Y), context? : C, args? : A) : ZalgoPromise<X | Y> {\n\n        if (method && typeof method !== 'function' && !method.call) {\n            throw new Error('Promise.try expected a function');\n        }\n\n        let result : ZalgoPromise<X> | Y;\n\n        startActive();\n\n        try {\n            result = method.apply(context, args || []);\n        } catch (err) {\n            endActive();\n            return ZalgoPromise.reject(err);\n        }\n\n        endActive();\n\n        // $FlowFixMe incompatible-call\n        const resultPromise = ZalgoPromise.resolve(result);\n\n        return resultPromise;\n    }\n\n    static delay(delay : number) : ZalgoPromise<void> {\n        return new ZalgoPromise(resolve => {\n            setTimeout(resolve, delay);\n        });\n    }\n\n    static isPromise(value : mixed) : boolean {\n\n        if (value && value instanceof ZalgoPromise) {\n            return true;\n        }\n\n        return isPromise(value);\n    }\n\n    static flush() : ZalgoPromise<void> {\n        return awaitActive(ZalgoPromise);\n    }\n}\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es-x/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar bind = FunctionPrototype.bind;\nvar call = FunctionPrototype.call;\nvar uncurryThis = NATIVE_BIND && bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? function (fn) {\n  return fn && uncurryThis(fn);\n} : function (fn) {\n  return fn && function () {\n    return call.apply(fn, arguments);\n  };\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = function (argument) {\n  return typeof argument == 'function';\n};\n","/* @flow */\n\nexport const PROTOCOL = {\n    MOCK:  ('mock:' : 'mock:'),\n    FILE:  ('file:' : 'file:'),\n    ABOUT: ('about:' : 'about:')\n};\n\nexport const WILDCARD = '*';\n\nexport const WINDOW_TYPE = {\n    IFRAME: ('iframe' : 'iframe'),\n    POPUP:  ('popup' : 'popup')\n};\n","/* @flow */\n/* eslint max-lines: 0 */\n\nimport { isRegex, noop } from './util';\nimport type { CrossDomainWindowType, SameDomainWindowType, DomainMatcher } from './types';\nimport { PROTOCOL, WILDCARD } from './constants';\n\nconst IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nexport function getActualProtocol(win : SameDomainWindowType = window) : ?string {\n    return win.location.protocol;\n}\n\nexport function getProtocol(win : SameDomainWindowType = window) : ?string {\n    if (win.mockDomain) {\n        const protocol = win.mockDomain.split('//')[0];\n\n        if (protocol) {\n            return protocol;\n        }\n    }\n\n    return getActualProtocol(win);\n}\n\nexport function isFileProtocol(win : SameDomainWindowType = window) : boolean {\n    return getProtocol(win) === PROTOCOL.FILE;\n}\n\nexport function isAboutProtocol(win : SameDomainWindowType = window) : boolean {\n    return getProtocol(win) === PROTOCOL.ABOUT;\n}\n\nexport function isMockProtocol(win : SameDomainWindowType = window) : boolean {\n    return getProtocol(win) === PROTOCOL.MOCK;\n}\n\nexport function getParent(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function getOpener(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function canReadFromWindow(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        noop(win && win.location && win.location.href);\n        return true;\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getActualDomain(win? : SameDomainWindowType = window) : string {\n\n    const location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    const protocol = getActualProtocol(win);\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === PROTOCOL.FILE) {\n        return `${ PROTOCOL.FILE }//`;\n    }\n\n    if (protocol === PROTOCOL.ABOUT) {\n\n        const parent = getParent(win);\n        if (parent && canReadFromWindow(parent)) {\n            // $FlowFixMe\n            return getActualDomain(parent);\n        }\n\n        return `${ PROTOCOL.ABOUT }//`;\n    }\n\n    const host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${ protocol }//${ host }`;\n}\n\nexport function getDomain(win? : SameDomainWindowType = window) : string {\n\n    const domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(PROTOCOL.MOCK) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : CrossDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : CrossDomainWindowType) : boolean {\n\n    try {\n        if (win === window) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        const desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isMockProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n        if (win === window) {\n            return true;\n        }\n        \n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\n\nexport function assertSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : SameDomainWindowType {\n    if (!isSameDomain(win)) {\n        throw new Error(`Expected window to be same domain`);\n    }\n\n    // $FlowFixMe\n    return win;\n}\n\nexport function getParents(win : CrossDomainWindowType) : $ReadOnlyArray<CrossDomainWindowType> {\n\n    const result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    const childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : CrossDomainWindowType) : $ReadOnlyArray<CrossDomainWindowType> {\n\n    const result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : CrossDomainWindowType) : $ReadOnlyArray<CrossDomainWindowType> {\n\n    const result = [];\n\n    for (const frame of getFrames(win)) {\n        result.push(frame);\n\n        for (const childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (const frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getNextOpener(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n    return getOpener(getTop(win) || win);\n}\n\nexport function getUltimateTop(win? : CrossDomainWindowType = window) : CrossDomainWindowType {\n    const opener = getNextOpener(win);\n\n    if (opener) {\n        return getUltimateTop(opener);\n    }\n\n    return top;\n}\n\nexport function getAllFramesInWindow(win : CrossDomainWindowType) : $ReadOnlyArray<CrossDomainWindowType> {\n    const top = getTop(win);\n\n    if (!top) {\n        throw new Error(`Can not determine top window`);\n    }\n\n    let result = [ ...getAllChildFrames(top), top ];\n\n    // Win may be in shadow dom\n    if (result.indexOf(win) === -1) {\n        result = [ ...result, win, ...getAllChildFrames(win) ];\n    }\n\n    return result;\n}\n\nexport function getAllWindows(win? : CrossDomainWindowType = window) : $ReadOnlyArray<CrossDomainWindowType> {\n    const frames = getAllFramesInWindow(win);\n    const opener = getNextOpener(win);\n\n    if (opener) {\n        return [ ...getAllWindows(opener), ...frames ];\n    } else {\n        return frames;\n    }\n}\n\nexport function isTop(win : CrossDomainWindowType) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    const doc = frame.ownerDocument;\n\n    if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n        let parent = frame;\n\n        while (parent.parentNode && parent.parentNode !== parent) {\n            parent = parent.parentNode;\n        }\n\n        // $FlowFixMe\n        if (!parent.host || !doc.documentElement.contains(parent.host)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction safeIndexOf<T>(collection : $ReadOnlyArray<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nconst iframeWindows = [];\nconst iframeFrames = [];\n\nexport function isWindowClosed(win : CrossDomainWindowType, allowMock : boolean = true) : boolean {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            // $FlowFixMe\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        noop(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    const iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        const frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n    for (let i = 0; i < iframeWindows.length; i++) {\n        let closed = false;\n\n        try {\n            closed = iframeWindows[i].closed;\n        } catch (err) {\n            // pass\n        }\n\n        if (closed) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : ?SameDomainWindowType) : string {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    const winFrames = getFrames(win);\n\n    for (const childFrame of winFrames) {\n        try {\n            // $FlowFixMe\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    const frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (const childFrame of getFrames(win)) {\n        const namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n    const frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    const top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nexport function isParent(win : CrossDomainWindowType, frame : CrossDomainWindowType) : boolean {\n\n    const frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (const childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n    win = win || window;\n\n    const opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    const parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : CrossDomainWindowType) : $ReadOnlyArray<CrossDomainWindowType> {\n\n    const results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    const actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (const frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup(win? : CrossDomainWindowType = window) : boolean {\n    return Boolean(getOpener(win));\n}\n\nexport function isIframe(win? : CrossDomainWindowType = window) : boolean {\n    return Boolean(getParent(win));\n}\n\nexport function isFullpage(win? : CrossDomainWindowType = window) : boolean {\n    return Boolean(!isIframe(win) && !isPopup(win));\n}\n\nfunction anyMatch(collection1, collection2) : boolean {\n\n    for (const item1 of collection1) {\n        for (const item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nexport function getDistanceFromTop(win : CrossDomainWindowType = window) : number {\n    let distance = 0;\n    let parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    let parent = win;\n\n    for (let i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nexport function getNthParentFromTop(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : CrossDomainWindowType, win2 : CrossDomainWindowType) : boolean {\n\n    const top1 = getTop(win1) || win1;\n    const top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    const allFrames1 = getAllFramesInWindow(win1);\n    const allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    const opener1 = getOpener(top1);\n    const opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nexport function matchDomain(pattern : DomainMatcher, origin : DomainMatcher) : boolean {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function stringifyDomainPattern(pattern : DomainMatcher) : string {\n    if (Array.isArray(pattern)) {\n        return `(${ pattern.join(' | ') })`;\n    } else if (isRegex(pattern)) {\n        return `RegExp(${ pattern.toString() })`;\n    } else {\n        return pattern.toString();\n    }\n}\n\nexport function getDomainFromUrl(url : string) : string {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : CrossDomainWindowType, callback : Function, delay : number = 1000, maxtime : number = Infinity) : {| cancel : () => void |} {\n\n    let timeout;\n\n    const check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\n// eslint-disable-next-line complexity\nexport function isWindow(obj : Object) : boolean {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        // $FlowFixMe method-unbinding\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (noop(obj === obj) === '__unlikely_value__') { // eslint-disable-line no-self-compare\n            return false;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (obj && obj.__cross_domain_utils_window_check__ === '__unlikely_value__') {\n            return false;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if ('postMessage' in obj && 'self' in obj && 'location' in obj) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isBrowser() : boolean {\n    return (typeof window !== 'undefined' && typeof window.location !== 'undefined');\n}\n\nexport function isCurrentDomain(domain : string) : boolean {\n    if (!isBrowser()) {\n        return false;\n    }\n\n    return (getDomain() === domain);\n}\n\nexport function isMockDomain(domain : string) : boolean {\n    return domain.indexOf(PROTOCOL.MOCK) === 0;\n}\n\nexport function normalizeMockUrl(url : string) : string {\n    if (!isMockDomain(getDomainFromUrl(url))) {\n        return url;\n    }\n\n    if (!__TEST__) {\n        throw new Error(`Mock urls not supported out of test mode`);\n    }\n\n    return url.replace(/^mock:\\/\\/[^/]+/, getActualDomain(window));\n}\n\nexport function getFrameForWindow(win : CrossDomainWindowType) : ?HTMLElement {\n    if (isSameDomain(win)) {\n        return assertSameDomain(win).frameElement;\n    }\n\n    for (const frame of document.querySelectorAll('iframe')) {\n        if (frame && frame.contentWindow && frame.contentWindow === win) {\n            return frame;\n        }\n    }\n}\n\nexport function closeWindow(win : CrossDomainWindowType) {\n    if (isIframe(win)) {\n        const frame = getFrameForWindow(win);\n        if (frame && frame.parentElement) {\n            frame.parentElement.removeChild(frame);\n            return;\n        }\n    }\n\n    try {\n        win.close();\n    } catch (err) {\n        // pass\n    }\n}\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar symbolFor = Symbol && Symbol['for'];\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    var description = 'Symbol.' + name;\n    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else if (USE_SYMBOL_AS_UID && symbolFor) {\n      WellKnownSymbolsStore[name] = symbolFor(description);\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof Wrapper) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return apply(NativeConstructor, this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n  options.name        - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || createNonEnumerableProperty(path, TARGET, {})[TARGET];\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && hasOwn(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue;\n\n    // bind timers to global for call from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changs in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && isCallable(sourceProperty)) resultProperty = uncurryThis(sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    createNonEnumerableProperty(target, key, resultProperty);\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!hasOwn(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      createNonEnumerableProperty(path[VIRTUAL_PROTOTYPE], key, sourceProperty);\n      // export real prototype methods\n      if (options.real && targetPrototype && !targetPrototype[key]) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","/* @flow */\n\nimport { ENV, PROTOCOL, COMPONENTS, PLATFORM, type FundingEligibilityType } from '@paypal/sdk-constants/src';\nimport { isDevice } from '@krakenjs/belter/src';\n\nexport function getSDKHost() : string {\n    return __SDK_HOST__;\n}\n\nexport function getProtocol() : $Values<typeof PROTOCOL> {\n    return (typeof __PROTOCOL__ !== 'undefined') ? __PROTOCOL__ : PROTOCOL.HTTPS;\n}\n\nexport function getHost() : string {\n    return __HOST__;\n}\n\nexport function getHostName() : string {\n    return __HOSTNAME__;\n}\n\nexport function getPort() : number {\n    return __PORT__;\n}\n\nexport function getPath() : string {\n    return __PATH__;\n}\n\nexport function getEnv() : $Values<typeof ENV> {\n    return __ENV__;\n}\n\nexport function getPayPalDomain() : string {\n    return __PAYPAL_DOMAIN__;\n}\n\nexport function getPayPalAPIDomain() : string {\n    return __PAYPAL_API_DOMAIN__;\n}\n\nexport function getDefaultServiceStageHost() : ?string {\n    if (typeof __SERVICE_STAGE_HOST__ !== 'undefined' && __SERVICE_STAGE_HOST__ !== null) {\n        return __SERVICE_STAGE_HOST__;\n    }\n}\n\nexport function getDefaultStageHost() : ?string {\n    if (typeof __STAGE_HOST__ !== 'undefined' && __STAGE_HOST__ !== null) {\n        return __STAGE_HOST__;\n    }\n}\n\nexport function getDefaultAPIStageHost() : ?string {\n    const serviceStageHost = getDefaultServiceStageHost();\n    const stageHost = getDefaultStageHost();\n\n    if (serviceStageHost) {\n        return serviceStageHost;\n    } else if (stageHost) {\n        return stageHost;\n    }\n}\n\nexport function getStageHost() : ?string {\n    return getDefaultStageHost();\n}\n\nexport function getAPIStageHost() : ?string {\n    const defaultAPIStageHost = getDefaultAPIStageHost();\n\n    if (defaultAPIStageHost) {\n        return defaultAPIStageHost.replace('www.', 'api.');\n    }\n}\n\nexport function getVersion() : string {\n    return __VERSION__;\n}\n\nexport function getCorrelationID() : string {\n    return __CORRELATION_ID__;\n}\n\nexport function getDefaultNamespace() : string {\n    return __NAMESPACE__;\n}\n\nexport function getDebug() : boolean {\n    return __DEBUG__;\n}\n\nexport function getComponents() : $ReadOnlyArray<$Values<typeof COMPONENTS>> {\n    return __COMPONENTS__;\n}\n\nexport function getFundingEligibility() : FundingEligibilityType {\n    return __FUNDING_ELIGIBILITY__;\n}\n\nexport function getPlatform() : $Values<typeof PLATFORM> {\n    return isDevice() ? PLATFORM.MOBILE : PLATFORM.DESKTOP;\n}\n","/* @flow */\n\nexport const SUPPORTED_BROWSERS = {\n    msie:           '11',\n    firefox:        '30',\n    chrome:         '27',\n    safari:         '7',\n    opera:          '16',\n    msedge:         '12',\n    samsungBrowser: '2.1',\n    silk:           '59.3',\n    ucbrowser:      '10.0.0.488',\n    vivaldi:        '1.91'\n};\n\nconst SANDBOX_ALIAS = 'AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R';\n\nexport const CLIENT_ID_ALIAS = {\n    sandbox:    SANDBOX_ALIAS,\n    sb:         SANDBOX_ALIAS,\n    test:       SANDBOX_ALIAS\n};\n\nexport const URI = {\n    LOGGER: `/xoplatform/logger/api/logger`,\n    AUTH:   `/v1/oauth2/token`,\n    ORDER:  `/v2/checkout/orders`\n};\n","/* @flow */\n\nimport { getCurrentScriptUID, ATTRIBUTES, parseQuery, getBrowserLocales, base64decode,\n    values, getCurrentScript, memoize, stringifyError, getScript } from '@krakenjs/belter/src';\nimport { COUNTRY, SDK_SETTINGS, SDK_QUERY_KEYS, INTENT, COMMIT, VAULT, CURRENCY,\n    FUNDING, CARD, COUNTRY_LANGS, DEFAULT_INTENT, DEFAULT_CURRENCY, DEFAULT_VAULT,\n    QUERY_BOOL, LANG, type LocaleType, DEFAULT_SALE_COMMIT, DEFAULT_NONSALE_COMMIT,\n    PAGE_TYPES } from '@paypal/sdk-constants/src';\n\nimport { getPath, getDefaultNamespace, getSDKHost } from './global';\nimport { CLIENT_ID_ALIAS } from './config';\nimport { getComputedLocales } from './utils';\n\ntype GetSDKScript = () => HTMLScriptElement;\n\nexport const getSDKScript : GetSDKScript = memoize(() => {\n    if (__TEST__) {\n        const script = getScript({ host: getSDKHost(), path: getPath(), reverse: true });\n        if (!script) {\n            throw new Error(`Can not find SDK test script`);\n        }\n        return script;\n    }\n\n    try {\n        return getCurrentScript();\n    } catch (err) {\n        throw new Error(`PayPal Payments SDK script not found on page! Expected to find <script src=\"https://${ getSDKHost() }${  getPath() }\">\\n\\n${ stringifyError(err) }`);\n    }\n});\n\ntype GetSDKAttributes = () => { [string] : string };\n\nexport const getSDKAttributes : GetSDKAttributes = memoize(() => {\n    const sdkScript = getSDKScript();\n    const result = {};\n    for (const attr of sdkScript.attributes) {\n        if (attr.name.indexOf('data-') === 0) {\n            result[attr.name] = attr.value;\n        }\n    }\n    result[ATTRIBUTES.UID] = getCurrentScriptUID();\n    return result;\n});\n\nexport function getSDKAttribute<T : string | void>(name : $Values<typeof SDK_SETTINGS>, def : T) : T {\n    // $FlowFixMe\n    return getSDKAttributes()[name] || def;\n}\n\nexport function getSDKQueryParams() : { [string] : string } {\n    const script = getSDKScript();\n    return parseQuery(script.src.split('?')[1] || '');\n}\n\ntype GetSDKQueryParam =\n    // eslint-disable-next-line no-undef\n    (<T : string>($Values<typeof SDK_QUERY_KEYS>) => T | void) &\n    // eslint-disable-next-line no-undef\n    (<T : string>($Values<typeof SDK_QUERY_KEYS>, T) => T);\n\nexport const getSDKQueryParam : GetSDKQueryParam = <T>(name : string, def : T) => {\n    // $FlowFixMe\n    return getSDKQueryParams()[name] || def;\n};\n\nexport function getScriptUrl() : string {\n    const src = getSDKScript().getAttribute('src');\n    if (!src) {\n        throw new Error(`Can not find src for sdk script`);\n    }\n    return src;\n}\n\nexport function getSDKQueryParamBool<T : boolean>(name : $Values<typeof SDK_QUERY_KEYS>, def? : T) : T {\n    // $FlowFixMe\n    return getSDKQueryParam(name, def ? def.toString() : QUERY_BOOL.FALSE) === QUERY_BOOL.TRUE;\n}\n\nexport function getClientID() : string {\n    const clientID = getSDKQueryParam(SDK_QUERY_KEYS.CLIENT_ID);\n\n    if (!clientID) {\n        throw new Error(`Expected ${ SDK_QUERY_KEYS.CLIENT_ID } parameter in sdk url`);\n    }\n\n    if (CLIENT_ID_ALIAS[clientID]) {\n        return CLIENT_ID_ALIAS[clientID];\n    }\n\n    return clientID;\n}\n\nexport function getMerchantID() : $ReadOnlyArray<string> {\n    const merchantIDString = getSDKQueryParam(SDK_QUERY_KEYS.MERCHANT_ID);\n\n    if (merchantIDString === '*') {\n        // get multiple merchant ids or emails from data-merchant-id\n        const merchantIDAttribute = getSDKAttribute(SDK_SETTINGS.MERCHANT_ID);\n\n        if (!merchantIDAttribute) {\n            throw new Error(`Must pass ${ SDK_SETTINGS.MERCHANT_ID } when ${ SDK_QUERY_KEYS.MERCHANT_ID }=* passed in url`);\n        }\n\n        const merchantID = merchantIDAttribute.split(',');\n\n        if (merchantID.length <= 1) {\n            throw new Error(`Must pass multiple merchant ids to ${ SDK_SETTINGS.MERCHANT_ID }. If passing a single id, pass ${ SDK_QUERY_KEYS.MERCHANT_ID }=XYZ in url`);\n        }\n\n        // check duplicates\n        const hasDuplicate = merchantID.some((val, i) => merchantID && merchantID.indexOf(val) !== i);\n\n        if (hasDuplicate) {\n            throw new Error(`Duplicates ${ SDK_SETTINGS.MERCHANT_ID }. Must pass unique merchant ids to ${ SDK_SETTINGS.MERCHANT_ID }.`);\n        }\n        return merchantID;\n    }\n\n    if (merchantIDString) {\n        return merchantIDString.split(',');\n    }\n\n    return [];\n}\n\nexport function getIntent() : $Values<typeof INTENT> {\n    return getSDKQueryParam(SDK_QUERY_KEYS.INTENT, DEFAULT_INTENT);\n}\n\nexport function getCommit() : $Values<typeof COMMIT> {\n    return getSDKQueryParamBool(SDK_QUERY_KEYS.COMMIT, getIntent() === INTENT.CAPTURE ? DEFAULT_SALE_COMMIT : DEFAULT_NONSALE_COMMIT);\n}\n\nexport function getVault() : $Values<typeof VAULT> {\n    return getSDKQueryParamBool(SDK_QUERY_KEYS.VAULT, DEFAULT_VAULT);\n}\n\nexport function getCurrency() : $Values<typeof CURRENCY> {\n    return getSDKQueryParam(SDK_QUERY_KEYS.CURRENCY, DEFAULT_CURRENCY);\n}\n\nexport function getEnableFunding() : $ReadOnlyArray<?$Values<typeof FUNDING>> {\n    const funding = getSDKQueryParam(SDK_QUERY_KEYS.ENABLE_FUNDING);\n    if (funding) {\n        return funding.split(',');\n    }\n    return [];\n}\n\nexport function getDisableFunding() : $ReadOnlyArray<?$Values<typeof FUNDING>> {\n    const funding = getSDKQueryParam(SDK_QUERY_KEYS.DISABLE_FUNDING);\n    if (funding) {\n        return funding.split(',');\n    }\n    return [];\n}\n\nexport function getDisableCard() : $ReadOnlyArray<?$Values<typeof CARD>> {\n    const funding = getSDKQueryParam(SDK_QUERY_KEYS.DISABLE_CARD);\n    if (funding) {\n        return funding.split(',');\n    }\n    return [];\n}\n\nexport function getBuyerCountry() : ?$Values<typeof COUNTRY> {\n    return getSDKQueryParam(SDK_QUERY_KEYS.BUYER_COUNTRY);\n}\n\nexport function getNamespace() : string {\n    return getSDKAttribute(SDK_SETTINGS.NAMESPACE) || getDefaultNamespace();\n}\n\nexport function getClientToken() : ?string {\n    return getSDKAttribute(SDK_SETTINGS.CLIENT_TOKEN);\n}\n\nexport function getAmount() : ?string {\n    const amount = getSDKAttribute(SDK_SETTINGS.AMOUNT);\n    if (amount && !amount.match(/^\\d+\\.\\d\\d$/)) {\n        throw new Error(`Invalid amount: ${ amount }`);\n    }\n    return amount;\n}\n\nexport function getUserIDToken() : ?string {\n    return getSDKAttribute(SDK_SETTINGS.USER_ID_TOKEN);\n}\n\nexport function getClientAccessToken() : ?string {\n    const clientToken = getClientToken();\n\n    if (clientToken) {\n        return JSON.parse(base64decode(clientToken)).paypal.accessToken;\n    }\n}\n\nexport function getPartnerAttributionID() : ?string {\n    return getSDKAttribute(SDK_SETTINGS.PARTNER_ATTRIBUTION_ID);\n}\n\nexport function getMerchantRequestedPopupsDisabled() : boolean {\n    return getSDKAttribute(SDK_SETTINGS.POPUPS_DISABLED) === 'true';\n}\n\nexport function getPageType() : ?string {\n    const pageType = getSDKAttribute(SDK_SETTINGS.PAGE_TYPE, '');\n    const validPageType = values(PAGE_TYPES).indexOf(pageType.toLowerCase()) !== -1;\n\n    if (!validPageType && pageType.length) {\n        throw new Error(`Invalid page type, '${ pageType }'`);\n    }\n    return pageType.toLowerCase();\n}\n\n\nexport function getLocale() : LocaleType {\n    const locale = getSDKQueryParam(SDK_QUERY_KEYS.LOCALE);\n\n    if (locale) {\n        return getComputedLocales(locale);\n    }\n\n    for (let { country, lang } of getBrowserLocales()) {\n        country = country && COUNTRY[country];\n        lang = lang && LANG[lang.toUpperCase()];\n\n        if (country && lang && COUNTRY_LANGS[country] && COUNTRY_LANGS[country].indexOf(lang) !== -1) {\n            return { country, lang };\n        } else if (lang) {\n            // We infer country from language if there is only one possible country match\n            const possibleCountries = Object.keys(COUNTRY_LANGS).filter(c => COUNTRY_LANGS[c].some(l => l === lang));\n            \n            if (possibleCountries.length === 1) {\n                const possibleCountry = possibleCountries[0];\n                return { country: possibleCountry, lang };\n            }\n        }\n    }\n\n    for (const { country } of getBrowserLocales()) {\n        if (COUNTRY_LANGS.hasOwnProperty(country)) {\n            // $FlowFixMe\n            return { country, lang: COUNTRY_LANGS[country][0] };\n        }\n    }\n\n    return {\n        lang:    LANG.EN,\n        country: COUNTRY.US\n    };\n}\n\nexport function getCSPNonce() : string {\n    return getSDKAttribute(SDK_SETTINGS.CSP_NONCE) || '';\n}\n\nexport function getEnableThreeDomainSecure() : boolean {\n    return getSDKAttributes().hasOwnProperty(SDK_SETTINGS.ENABLE_3DS);\n}\n\nexport function getSDKIntegrationSource() : ?string {\n    return getSDKAttribute(SDK_SETTINGS.SDK_INTEGRATION_SOURCE);\n}\n\nexport function getUserExperienceFlow() : ?string {\n    return getSDKAttribute(SDK_SETTINGS.USER_EXPERIENCE_FLOW);\n}\n\n// whether in zoid window\nexport function isChildWindow() : boolean {\n    return Boolean(window.xprops);\n}\n\nexport function getUserAccessToken() : ?string {\n    // pass\n}\n\nexport function getUserAuthCode() : ?string {\n    // pass\n}\n\n// Remove\nexport function getCountry() : $Values<typeof COUNTRY> {\n    return getLocale().country;\n}\n\n// Remove\nexport function getLang() : $Values<typeof LANG> {\n    return getLocale().lang;\n}\n","/* @flow */\n\nimport { Logger, type LoggerType } from '@krakenjs/beaver-logger/src';\nimport { memoize } from '@krakenjs/belter/src';\n\nimport { getPayPalLoggerUrl } from './domains';\n\ntype GetLogger = () => LoggerType;\n\nexport const getLogger : GetLogger = memoize(() => {\n    return Logger({\n        url: getPayPalLoggerUrl()\n    });\n});\n","/* @flow */\n\nimport { ENV } from '@paypal/sdk-constants/src';\nimport { getDomain, getActualDomain, isCurrentDomain } from '@krakenjs/cross-domain-utils/src';\n\nimport { getProtocol, getStageHost, getPayPalDomain, getPayPalAPIDomain } from './global';\nimport { URI } from './config';\n\nexport function getPayPalLoggerDomain() : string {\n    if (__ENV__ === ENV.LOCAL) {\n        const stageHost = getStageHost();\n\n        if (!stageHost) {\n            throw new Error(`No stage host found`);\n        }\n\n        return `${ getProtocol() }://${ stageHost }`;\n    }\n\n    return getPayPalDomain();\n}\n\nexport function buildPayPalUrl(path : string = '') : string {\n    return (__TEST__ && __WEB__)\n        ? `${ getActualDomain() }${ path }`\n        : `${ getPayPalDomain() }${ path }`;\n}\n\nexport function buildPayPalAPIUrl(path : string = '') : string {\n    const paypalAPIDomain = isCurrentDomain(getPayPalDomain())\n        ? getPayPalDomain()\n        : getPayPalAPIDomain();\n\n    return (__TEST__ && __WEB__)\n        ? `${ getActualDomain() }${ path }`\n        : `${ paypalAPIDomain }${ path }`;\n}\n\nexport function getPayPalLoggerUrl() : string {\n    return buildPayPalUrl(URI.LOGGER);\n}\n\nexport function getAuthAPIUrl() : string {\n    return buildPayPalAPIUrl(URI.AUTH);\n}\n\nexport function getOrderAPIUrl() : string {\n    return buildPayPalAPIUrl(URI.ORDER);\n}\n\nexport function getPayPalDomainRegex() : RegExp {\n    if (__ENV__ === ENV.LOCAL) {\n        return /.*loca.*/;\n    }\n    // eslint-disable-next-line security/detect-unsafe-regex\n    return /\\.paypal\\.(com|cn)(:\\d+)?$/;\n}\n\nexport function isPayPalDomain() : boolean {\n    return Boolean(getDomain().match(getPayPalDomainRegex()));\n}\n","/* @flow */\n\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { memoize, request, base64encode } from '@krakenjs/belter/src';\nimport { FPTI_KEY, SDK_QUERY_KEYS, UNKNOWN } from '@paypal/sdk-constants/src';\n\nimport { getOrderAPIUrl, getAuthAPIUrl } from './domains';\nimport { getLogger } from './logger';\nimport { getIntent, getCurrency, getPartnerAttributionID, getMerchantID } from './script';\nimport { FPTI_CONTEXT_TYPE, FPTI_TRANSITION } from './constants';\n\ntype ApplicationContext = {||};\n\nexport type OrderCreateRequest = {|\n    intent? : 'CAPTURE' | 'AUTHORIZE',\n    application_context? : ApplicationContext,\n    purchase_units : $ReadOnlyArray<{|\n        amount : {|\n            currency_code : string,\n            value : string\n        |},\n        payee? : {|\n            merchant_id? : string,\n            email_address? : string\n        |}\n    |}>\n|};\n\nexport type OrderCaptureResponse = {||};\nexport type OrderGetResponse = {||};\nexport type OrderAuthorizeResponse = {||};\n\ntype CreateAccessToken = (string) => ZalgoPromise<string>;\n\nexport const createAccessToken : CreateAccessToken = memoize(clientID => {\n    getLogger().info(`rest_api_create_access_token`);\n\n    const basicAuth = base64encode(`${ clientID }:`);\n\n    return request({\n\n        method:  `post`,\n        url:     getAuthAPIUrl(),\n        headers: {\n            Authorization: `Basic ${ basicAuth }`\n        },\n        data: {\n            grant_type: `client_credentials`\n        }\n\n    }).then(({ body }) => {\n\n        if (body && body.error === 'invalid_client') {\n            throw new Error(`Auth Api invalid client id: ${ clientID }:\\n\\n${ JSON.stringify(body, null, 4) }`);\n        }\n\n        if (!body || !body.access_token) {\n            throw new Error(`Auth Api response error:\\n\\n${ JSON.stringify(body, null, 4) }`);\n        }\n\n        return body.access_token;\n    });\n});\n\ntype OrderCreateOptions = {|\n    fptiState? : string\n|};\n\nconst getDefaultApplicationContext = () : ApplicationContext => {\n    // $FlowFixMe\n    return {};\n};\n\nexport function createOrder(clientID : string, order : OrderCreateRequest, { fptiState = '' } : OrderCreateOptions = {}) : ZalgoPromise<string> {\n    getLogger().info(`rest_api_create_order_token`);\n\n    if (!clientID) {\n        throw new Error(`Client ID not passed`);\n    }\n\n    if (!order) {\n        throw new Error(`Expected order details to be passed`);\n    }\n\n    const currency = getCurrency();\n    const intent = getIntent();\n    const merchantID = getMerchantID();\n\n    order = { ...order };\n\n    if (order.intent && order.intent.toLowerCase() !== intent) {\n        throw new Error(`Unexpected intent: ${ order.intent } passed to order.create. Please ensure you are passing /sdk/js?${ SDK_QUERY_KEYS.INTENT }=${ order.intent.toLowerCase() } in the paypal script tag.`);\n    }\n\n    // $FlowFixMe\n    order = { ...order, intent: intent.toUpperCase() };\n\n    order.purchase_units = order.purchase_units.map(unit => {\n        if (unit.amount.currency_code && unit.amount.currency_code !== currency) {\n            throw new Error(`Unexpected currency: ${ unit.amount.currency_code } passed to order.create. Please ensure you are passing /sdk/js?${ SDK_QUERY_KEYS.CURRENCY }=${ unit.amount.currency_code } in the paypal script tag.`);\n        }\n        const payee = unit.payee;\n\n        if (payee) {\n            if (!merchantID) {\n                throw new Error(`Pass ${ SDK_QUERY_KEYS.MERCHANT_ID }=XYZ in the paypal script tag. Pass ${ SDK_QUERY_KEYS.MERCHANT_ID }=${ UNKNOWN } if you do not have access to the merchant id`);\n            }\n        }\n\n        return { ...unit, payee, amount: { ...unit.amount, currency_code: currency } };\n    });\n\n    order.application_context = order.application_context || getDefaultApplicationContext();\n\n    return createAccessToken(clientID).then((accessToken) : ZalgoPromise<Object> => {\n\n        const headers : Object = {\n            'Authorization':                 `Bearer ${ accessToken }`,\n            'PayPal-Partner-Attribution-Id': getPartnerAttributionID()\n        };\n\n        return request({\n            method: `post`,\n            url:    getOrderAPIUrl(),\n            headers,\n            json:   order\n        });\n\n    }).then(({ body }) : string => {\n\n        if (!body || !body.id) {\n            throw new Error(`Order Api response error:\\n\\n${ JSON.stringify(body, null, 4) }`);\n        }\n\n        getLogger().track({\n            [FPTI_KEY.STATE]:        fptiState,\n            [FPTI_KEY.TRANSITION]:   FPTI_TRANSITION.CREATE_ORDER,\n            [FPTI_KEY.CONTEXT_TYPE]: FPTI_CONTEXT_TYPE.ORDER_ID,\n            [FPTI_KEY.TOKEN]:        body.id,\n            [FPTI_KEY.CONTEXT_ID]:   body.id\n        });\n\n        return body.id;\n    });\n}\n","/* @flow */\n\nimport { memoize, eventEmitter, type EventEmitterType } from '@krakenjs/belter/src';\n\nexport const getEventEmitter : () => EventEmitterType = memoize(eventEmitter);\n","/* eslint-disable eslint-comments/disable-enable-pair, no-else-return */\nimport stringStartsWith from 'core-js-pure/stable/string/starts-with';\nimport arrayFrom from 'core-js-pure/stable/array/from';\n\nimport { isLocalStorageEnabled, getStorage as getBelterStorage } from '@krakenjs/belter/src';\nimport { SDK_QUERY_KEYS, SDK_SETTINGS } from '@paypal/sdk-constants/src';\nimport {\n    getClientID,\n    getMerchantID,\n    getSDKScript,\n    getEnv as getSDKEnv,\n    getFundingEligibility,\n    getSDKMeta,\n    getSDKAttributes,\n    getSDKQueryParam,\n    getCSPNonce,\n    getNamespace as getSDKNamespace,\n    getSessionID as getSDKSessionID,\n    getStorageID as getSDKStorageID,\n    getPayPalDomain as getSDKPayPalDomain\n} from '@paypal/sdk-client/src';\n\n// SDK helper functions with standalone build polyfills\nexport function getEnv() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKEnv();\n    } else {\n        return __ENV__;\n    }\n}\n\nexport function getMerchantConfig() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // TODO: remove getFundingEligibility call and try catch after globals swap\n        try {\n            return __MESSAGING_GLOBALS__?.merchantProfile?.hash;\n        } catch {\n            return getFundingEligibility()?.paylater?.merchantConfigHash;\n        }\n    } else {\n        return undefined;\n    }\n}\n\nexport function getAccount() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // TODO: Should we pass both up if they exist so that nodeweb can create a partner context?\n        return getMerchantID()[0] || `client-id:${getClientID()}`;\n    } else {\n        return undefined;\n    }\n}\n\nexport function getNonce() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getCSPNonce();\n    } else {\n        return undefined;\n    }\n}\n\n// Partner accounts should always integrate using client id so no need to prefix it with 'client-id:'\nexport function getPartnerAccount() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getMerchantID()[0] && `client-id:${getClientID()}`;\n    } else {\n        return undefined;\n    }\n}\n\nconst { currentScript } = typeof document !== 'undefined' ? document : {};\nexport function getScript() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKScript();\n    } else {\n        return (\n            currentScript ||\n            document.querySelector('script[src$=\"messaging.js\"]') ||\n            document.querySelector('script[src$=\"merchant.js\"]')\n        );\n    }\n}\n\nexport function getCurrency() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // Returns 'currency' query param without default to USD\n        return getSDKQueryParam(SDK_QUERY_KEYS.CURRENCY);\n    } else {\n        return undefined;\n    }\n}\n\nexport function getMeta() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKMeta();\n    } else {\n        return undefined;\n    }\n}\n\nexport function getScriptAttributes() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKAttributes();\n    } else {\n        return {};\n    }\n}\n\nexport function getNamespace() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKNamespace();\n    } else {\n        return getScript()?.getAttribute('data-pp-namespace') || 'paypal';\n    }\n}\n\nexport function getLibraryVersion() {\n    return __MESSAGES__.__VERSION__;\n}\n\nexport function isZoidComponent() {\n    return stringStartsWith(window.name, '__zoid__');\n}\n\nexport function getStorage() {\n    return getBelterStorage({ name: getNamespace() });\n}\n\n// Use SDK methods when available, otherwise manually fetch storage via belter\n// see: https://github.com/paypal/paypal-sdk-client/blob/master/src/session.js\nexport function getSessionID() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKSessionID();\n    } else {\n        return getStorage().getSessionID();\n    }\n}\n\n// Retrieves storageID. NOTE: Creates new ID if not already in local storage.\nexport function getOrCreateStorageID() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKStorageID();\n    } else {\n        return getStorage().getID();\n    }\n}\n\nexport function isStorageFresh() {\n    return getStorage().isStateFresh();\n}\n\n// Retrieve namespaced localStorage directly\nfunction getRawStorage() {\n    return isLocalStorageEnabled()\n        ? JSON.parse(window.localStorage?.getItem(`__${getNamespace()}_storage__`) ?? '{}')\n        : {};\n}\n\nexport function writeStorageID(storageID) {\n    if (isLocalStorageEnabled()) {\n        try {\n            window.localStorage?.setItem(\n                `__${getNamespace()}_storage__`,\n                JSON.stringify({\n                    ...getRawStorage(),\n                    id: storageID\n                })\n            );\n        } catch (e) {\n            // Handle Errors\n        }\n    }\n}\n\n// Use the custom deviceID field, but fall back to storage ID if it is not yet present\n// or does not exist (as in the child )\nexport function getDeviceID() {\n    return getStorage().getState(storage => storage.messagingDeviceID ?? storage.id);\n}\n\n// Check if the current script is in the process of being destroyed since\n// the MutationObservers can fire before the SDK destroy lifecycle hook\nexport const isScriptBeingDestroyed = () => {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        const currentSdkScript = getScript();\n        // URL API not supported in IE11, but anchor tags have parsed href properties\n        const location = document.createElement('a');\n        location.href = currentSdkScript.src;\n\n        // Ensure that there are currently no other SDK scripts that might be in the process of destroying this script\n        return arrayFrom(document.querySelectorAll(`script[src*=\"${location.host}/sdk/js\"]`)).some(\n            script =>\n                script !== currentSdkScript &&\n                script.getAttribute(SDK_SETTINGS.NAMESPACE) === currentSdkScript.getAttribute(SDK_SETTINGS.NAMESPACE)\n        );\n    } else {\n        return false;\n    }\n};\n\nexport function getPayPalDomain() {\n    if (__MESSAGES__.__TEST_ENV__) {\n        return __MESSAGES__.__TEST_ENV__;\n    } else if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKPayPalDomain();\n    } else {\n        return __MESSAGES__.__DOMAIN__[`__${getEnv().toUpperCase()}__`];\n    }\n}\n\nexport function getStageTag() {\n    if (__MESSAGES__.__STAGE_TAG__) {\n        if (__MESSAGES__.__STAGE_TAG__ === 'local') {\n            return window.location.origin;\n        } else {\n            return __MESSAGES__.__STAGE_TAG__;\n        }\n    } else {\n        return undefined;\n    }\n}\n\nexport function getDevTouchpoint() {\n    if (__MESSAGES__.__DEV_TOUCHPOINT__ && getEnv() !== 'production' && getEnv() !== 'sandbox') {\n        return true;\n    } else {\n        return undefined; // Prevent the zoid query param\n    }\n}\n\nexport function getFeatures() {\n    if (__MESSAGES__.__FEATURES__) {\n        return __MESSAGES__.__FEATURES__;\n    } else {\n        return undefined;\n    }\n}\n","/**\n * Memoize a function based on all arguments\n * @param {Function} fn Function to memoize\n * @returns {Function} Memoized function\n */\nexport function memoize(fn) {\n    const cache = new Map();\n\n    return (...args) => {\n        const cacheKey = JSON.stringify(args);\n\n        if (!cache.has(cacheKey)) {\n            cache.set(cacheKey, fn(...args));\n        }\n\n        return cache.get(cacheKey);\n    };\n}\n\n/**\n * Memoize a unary function that takes has a single object parameter\n * @param {Function} fn Function to memoize\n * @param {Array<string>} props Property names to cache against\n * @returns {Function} Memoized function\n */\nexport function memoizeOnProps(fn, props) {\n    const cache = new Map();\n\n    return (options, ignoreCache = false) => {\n        const cacheKey = JSON.stringify(props.map(key => options[key]));\n\n        if (!cache.has(cacheKey) || ignoreCache) {\n            cache.set(cacheKey, fn(options));\n        }\n\n        return cache.get(cacheKey);\n    };\n}\n\n/**\n * Partially apply a function with specified parameters\n * @param {Function} fn Function to partially apply\n * @param  {...any} intialArgs Arguments to partially apply\n * @returns {Function} Partially applied function\n */\nexport function partial(fn, ...intialArgs) {\n    return (...nextArgs) => fn(...intialArgs, ...nextArgs);\n}\n\n/**\n * Curry a function\n * @param {Function} fn Function to curry\n * @param {Number} arity Number of function parameters\n * @returns {Function} Curried function\n */\nexport function curry(fn, arity = fn.length) {\n    return function curried(...args) {\n        if (args.length < arity) {\n            return (...nextArgs) => curried(...args, ...nextArgs);\n        }\n\n        return fn(...args);\n    };\n}\n\n/**\n * Higher order function to run an effectful function\n * and still pass along the arguments for chaining\n * @param {Function} fn Effectful function\n * @returns {Function} Pass through function\n */\nexport function passThrough(fn) {\n    return arg => {\n        const result = fn(arg);\n        return typeof result === 'object' && result.then ? result.then(() => arg) : arg;\n    };\n}\n\n/**\n * Chain function calls together, starting with an initial value\n * @param  {...Function} args Functions\n * @returns {Function} Function that runs initial value through all passed in functions\n */\nexport function pipe(...args) {\n    return initialValue => args.reduce((accumulator, fn) => fn(accumulator), initialValue);\n}\n\n/**\n * Retrieve a single property from an object\n * @param {String} prop Property to retrieve\n * @param {Object} obj Object to get get property from\n * @returns {Any} Object property value\n */\nexport const pluck = curry((prop, obj) => obj[prop]);\n\n/**\n * Create an object and assign the value to the property\n * @param {String} prop Property name\n * @param {Any} value Property value\n * @returns {Object} New object with property and value\n */\nexport const assignToProp = curry((prop, value) => ({ [prop]: value }));\n","var parent = require('../../es/array/includes');\n\nmodule.exports = parent;\n","var isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","var parent = require('../../es/object/entries');\n\nmodule.exports = parent;\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es-x/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","var parent = require('../../es/array/from');\n\nmodule.exports = parent;\n","var parent = require('../../es/array/find');\n\nmodule.exports = parent;\n","var global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar TypeError = global.TypeError;\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","/** @jsx node */\nimport arrayFind from 'core-js-pure/stable/array/find';\nimport arrayIncludes from 'core-js-pure/stable/array/includes';\nimport stringIncludes from 'core-js-pure/stable/string/includes';\nimport objectAssign from 'core-js-pure/stable/object/assign';\nimport objectEntries from 'core-js-pure/stable/object/entries';\nimport { node, dom } from '@krakenjs/jsx-pragmatic/src';\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\n\nimport { partial, memoize } from './functional';\nimport { OFFER } from './constants';\n\n/**\n * Create a state object and pass back a reference and update function\n * @param {Object} initialState Initial object to store in state\n * @returns {[Object, Function]} State object reference and update function\n */\nexport function createState(initialState = {}) {\n    const state = { ...initialState };\n    return [state, partial(objectAssign, state)];\n}\n\nexport function getDataByTag(data, tag) {\n    let selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, tag));\n    if (selected) {\n        return selected[0];\n    }\n\n    if (stringIncludes(tag, '.')) {\n        const [fallbackTag] = tag.split('.', 1);\n        selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, fallbackTag));\n        if (selected) {\n            return selected[0];\n        }\n    }\n\n    selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, 'default'));\n    if (selected) {\n        return selected[0];\n    }\n\n    return '';\n}\n\nexport function request(method, url, { data, headers, withCredentials } = {}) {\n    return new ZalgoPromise((resolve, reject) => {\n        const xhttp = new XMLHttpRequest();\n\n        if (withCredentials) {\n            // Necessary to send cookies with cross-origin requests\n            xhttp.withCredentials = true;\n        }\n\n        // eslint-disable-next-line unicorn/prefer-add-event-listener\n        xhttp.onreadystatechange = () => {\n            if (xhttp.readyState === 4) {\n                const responseHeaders = xhttp\n                    .getAllResponseHeaders()\n                    .trim() // Remove trailing newline characters\n                    .split('\\n')\n                    .reduce((accumulator, header) => {\n                        const [key, val] = header.trim().split(': ');\n                        return {\n                            ...accumulator,\n                            // IE11 uses capitalized header names\n                            [key.toLowerCase()]: val\n                        };\n                    }, {});\n\n                switch (xhttp.status) {\n                    case 200:\n                        resolve({\n                            headers: responseHeaders,\n                            data:\n                                responseHeaders['content-type'] &&\n                                stringIncludes(responseHeaders['content-type'], 'application/json')\n                                    ? JSON.parse(xhttp.responseText)\n                                    : xhttp.responseText\n                        });\n                        break;\n                    case 204:\n                        resolve({ headers: responseHeaders });\n                        break;\n                    default:\n                        reject(new Error('Request failed'));\n                }\n            }\n        };\n\n        xhttp.open(method, url, true);\n\n        if (headers) {\n            objectEntries(headers).forEach(([header, value]) => {\n                xhttp.setRequestHeader(header, value);\n            });\n        }\n\n        xhttp.send(typeof data === 'object' ? JSON.stringify(data) : data);\n    });\n}\n\nexport function parseObjFromEncoding(encodedStr) {\n    // equivalent to JSON.parse(fromBinary(atob(encodedStr))) as in initScript\n    const binary = atob(encodedStr);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < bytes.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    // need to use .apply instead of spread operator so IE can understand\n    const decodedStr = String.fromCharCode.apply(null, new Uint16Array(bytes.buffer));\n    return JSON.parse(decodedStr);\n}\n\nexport function createEvent(name) {\n    if (typeof Event === 'function') {\n        return new Event(name);\n    }\n\n    // IE11 support\n    const event = document.createEvent('Event');\n    event.initEvent(name, true, true);\n\n    return event;\n}\n\nexport const dynamicImport = memoize(url => {\n    return new ZalgoPromise(resolve => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.addEventListener('load', () => {\n            document.body.removeChild(script);\n            resolve();\n        });\n\n        if (document.readyState === 'loading') {\n            window.addEventListener('DOMContentLoaded', () => document.body.appendChild(script));\n        } else {\n            document.body.appendChild(script);\n        }\n    });\n});\n\n// // Date.now() altered on some sites: https://www.hydropool.com\nexport const getCurrentTime = () => new Date().getTime();\n\n// Memoized so that the 2 return functions can be called from different modules\nexport const viewportHijack = memoize(() => {\n    const viewport =\n        document.head.querySelector('meta[name=\"viewport\"]') ||\n        (<meta name=\"viewport\" content=\"\" />).render(dom({ doc: document }));\n\n    // Ensure a viewport exists in the DOM\n    if (!viewport.parentNode) {\n        document.head.appendChild(viewport);\n    }\n\n    return [\n        // We store state on the DOM elements themselves because we do not want multiple SDK scripts\n        // with their own states causing an error preventing elements from being updated as needed\n        () => {\n            if (viewport.__pp_prev_content__) {\n                // Viewport has already been hijacked - do nothing for now\n                // This can happen when multiple messages are clicked before the modal loads\n                return;\n            }\n\n            viewport.__pp_prev_content__ = viewport.getAttribute('content') ?? '';\n            viewport.setAttribute(\n                'content',\n                'width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui, shrink-to-fit=no'\n            );\n\n            document.body.__pp_prev_overflow__ = document.body.style.overflow ?? '';\n            document.body.__pp_prev_msOverflowStyle__ = document.body.style.msOverflowStyle ?? '';\n            document.body.style.setProperty('overflow', 'hidden');\n            document.body.style.setProperty('-ms-overflow-style', 'scrollbar');\n        },\n        () => {\n            viewport.setAttribute('content', viewport.__pp_prev_content__);\n            delete viewport.__pp_prev_content__;\n\n            document.body.style.setProperty('overflow', document.body.__pp_prev_overflow__);\n            document.body.style.setProperty('-ms-overflow-style', document.body.__pp_prev_msOverflowStyle__);\n            delete document.body.__pp_prev_overflow__;\n            delete document.body.__pp_prev_msOverflowStyle__;\n        }\n    ];\n});\n\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#improving_scrolling_performance_with_passive_listeners\nexport const getEventListenerPassiveOptionIfSupported = () => {\n    let passiveIfSupported = false;\n\n    try {\n        // Create dummy event listener so that if supported, the object will be crawled\n        // for the passive flag telling us that the option is supported in this browser\n        window.addEventListener(\n            '__test__',\n            null,\n            Object.defineProperty({}, 'passive', {\n                // eslint-disable-next-line getter-return\n                get() {\n                    passiveIfSupported = { passive: true };\n                }\n            })\n        );\n    } catch (err) {} // eslint-disable-line no-empty\n\n    return passiveIfSupported;\n};\n\nexport function getStandardProductOffer(offer) {\n    if (typeof offer === 'undefined') {\n        return 'NONE';\n    }\n\n    switch (offer.toUpperCase()) {\n        case OFFER.PAY_LATER_LONG_TERM:\n            return OFFER.PAY_LATER_LONG_TERM;\n        case OFFER.PAY_LATER_SHORT_TERM:\n        case 'GPL':\n        case 'GPLQ':\n        case 'GPLNQ':\n        case 'GPLNQ_RANGE':\n        case 'PL':\n        case 'PLQ':\n        case 'GPL:EQZ':\n        case 'GPL:GTZ':\n        case 'GPLQ:EQZ':\n        case 'GPLQ:GTZ':\n        case 'GPL:EQZ:NON-DE':\n        case 'GPL:GTZ:NON-DE':\n        case 'GPLQ:EQZ:NON-DE':\n        case 'GPLQ:GTZ:NON-DE':\n        case 'SHORT_TERM:Q':\n        case 'SHORT_TERM:NQ':\n        case 'SHORT_TERM:NO_AMOUNT':\n            return OFFER.PAY_LATER_SHORT_TERM;\n        case OFFER.PAY_LATER_PAY_IN_1:\n        case 'PI30':\n        case 'PI30Q':\n        case 'PI30NQ':\n        case 'PI30:NON-DE':\n        case 'PI30Q:NON-DE':\n        case 'PI30NQ:NON-DE':\n            return OFFER.PAY_LATER_PAY_IN_1;\n        case 'EZP':\n        case 'EZP:ANY:EQZ':\n        case 'EZP:ANY:GTZ':\n        case 'PALA:MULTI:EQZ':\n        case 'PALA:MULTI:GTZ':\n        case 'PALA:SINGLE:EQZ':\n        case 'PALA:SINGLE:GTZ':\n        case OFFER.PAYPAL_CREDIT_INSTALLMENTS:\n        case 'INST':\n        case 'INST:ANY:EQZ':\n        case 'INST:ANY:GTZ':\n        case 'PALAQ:ANY:EQZ':\n        case 'PALAQ:ANY:GTZ':\n            return OFFER.PAYPAL_CREDIT_INSTALLMENTS;\n        case OFFER.PAYPAL_CREDIT_NO_INTEREST:\n        case 'NI':\n        case 'NI:NON-US':\n        case 'NIQ':\n        case 'NIQ:NON-US':\n            return OFFER.PAYPAL_CREDIT_NO_INTEREST;\n        default:\n            return undefined;\n    }\n}\n","export const OFFER = {\n    PAY_LATER_LONG_TERM: 'PAY_LATER_LONG_TERM',\n    PAY_LATER_SHORT_TERM: 'PAY_LATER_SHORT_TERM',\n    PAY_LATER_PAY_IN_1: 'PAY_LATER_PAY_IN_1',\n    PAYPAL_CREDIT_INSTALLMENTS: 'PAYPAL_CREDIT_INSTALLMENTS',\n    PAYPAL_CREDIT_NO_INTEREST: 'PAYPAL_CREDIT_NO_INTEREST'\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw TypeError(String(argument) + ' is not an object');\n};\n","var global = require('../internals/global');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar Object = global.Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","var parent = require('../../es/string/starts-with');\n\nmodule.exports = parent;\n","import { isZoidComponent } from './sdk';\n/**\n * Messaging debug log. When the query param \"pp_debug\" is used on a page with a message and set to \"true\", a series of logs will appear\n * within the browser's developer tools console.\n * @param {string} message - The name of the parameter you are logging out. Also often times includes the parameter to be logged\n * within a template string.\n * @param {object} debugObj - Optional argument used in cases where the property you wish to log is an object. i.e.\n * an HTML element. ppDebug('Script:', { debugObj: script }).\n * @param {boolean} inZoid - Optional argument. Set inZoid to true if you wish to log inside of the iframe. i.e. ppDebug('Sample message', {inZoid: true}). Not using this\n * argument defaults inZoid to false.\n */\nexport function ppDebug(message, { inZoid, debugObj } = {}) {\n    if (/(\\?|&)pp_debug=true(&|$)/.test(window.location.search) && !!inZoid === isZoidComponent()) {\n        // eslint-disable-next-line no-console\n        console.warn('PayPal Messages Debug:', message, debugObj ?? '');\n    }\n}\n","var path = require('../internals/path');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (variable) {\n  return isCallable(variable) ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = {};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn;\n","var global = require('../internals/global');\n\nvar TypeError = global.TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","module.exports = true;\n","var global = require('../internals/global');\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar Object = global.Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","/* @flow */\n\nexport const LOG_LEVEL = {\n    DEBUG: ('debug' : 'debug'),\n    INFO:  ('info' : 'info'),\n    WARN:  ('warn' : 'warn'),\n    ERROR: ('error' : 'error')\n};\n\nexport const PROTOCOL = {\n    FILE: 'file:'\n};\n","/* @flow */\n\nimport { LOG_LEVEL } from './constants';\n\nexport const AUTO_FLUSH_LEVEL = [ LOG_LEVEL.WARN, LOG_LEVEL.ERROR ];\n\nexport const LOG_LEVEL_PRIORITY = [ LOG_LEVEL.ERROR, LOG_LEVEL.WARN, LOG_LEVEL.INFO, LOG_LEVEL.DEBUG ];\n\nexport const FLUSH_INTERVAL = 60 * 1000;\n\nexport const DEFAULT_LOG_LEVEL : $Values<typeof LOG_LEVEL> = __DEBUG__ ? LOG_LEVEL.DEBUG : LOG_LEVEL.WARN;\n\nexport const AMPLITUDE_URL = 'https://api2.amplitude.com/2/httpapi';\n","/* @flow */\n\nimport { type SameDomainWindowType } from '@krakenjs/cross-domain-utils/src';\n\nimport { AMPLITUDE_URL } from './config';\nimport type { Payload } from './types';\n\ntype CanUseBeaconOptions = {|\n    headers : { [string] : string },\n    enableSendBeacon : boolean\n|};\n\nconst canUseSendBeacon = ({ headers, enableSendBeacon } : CanUseBeaconOptions) : boolean => {\n    const hasHeaders = headers && Object.keys(headers).length;\n    if (window && window.navigator.sendBeacon && !hasHeaders && enableSendBeacon && window.Blob) {\n        return true;\n    }\n\n    return false;\n};\n\nconst isAmplitude = (url : string) : boolean => {\n    if (url === AMPLITUDE_URL) {\n        return true;\n    }\n\n    return false;\n};\n\ntype SendBeaconOptions = {|\n    win : SameDomainWindowType,\n    url : string,\n    data : JSON,\n    useBlob : boolean\n|};\n\nconst sendBeacon = ({ win = window, url, data, useBlob = true } : SendBeaconOptions) : boolean => {\n    try {\n        const json = JSON.stringify(data);\n\n        if (!win.navigator.sendBeacon) {\n            throw new Error(`No sendBeacon available`);\n        }\n\n        if (useBlob) {\n            const blob = new Blob([ json ], { type: 'application/json' });\n            return win.navigator.sendBeacon(url, blob);\n        }\n        \n        return win.navigator.sendBeacon(url, json);\n    } catch (e) {\n        return false;\n    }\n};\n\nconst extendIfDefined = (target : Payload, source : Payload) => {\n    for (const key in source) {\n        if (source.hasOwnProperty(key)) {\n            target[key] = source[key];\n        }\n    }\n};\n\nexport { canUseSendBeacon, extendIfDefined, isAmplitude, sendBeacon };\n","/* @flow */\n\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { isBrowser, promiseDebounce, noop, safeInterval, objFilter } from '@krakenjs/belter/src';\n\nimport { DEFAULT_LOG_LEVEL, LOG_LEVEL_PRIORITY, AUTO_FLUSH_LEVEL, FLUSH_INTERVAL, AMPLITUDE_URL } from './config';\nimport { LOG_LEVEL, PROTOCOL } from './constants';\nimport { extendIfDefined } from './util';\nimport { type Transport, getHTTPTransport } from './http';\nimport type { Payload } from './types';\n\ntype LoggerOptions = {|\n    url? : string,\n    prefix? : string,\n    logLevel? : $Values<typeof LOG_LEVEL>,\n    transport? : Transport,\n    flushInterval? : number,\n    enableSendBeacon? : boolean,\n    amplitudeApiKey? : string\n|};\n\ntype ClientPayload = Payload;\ntype Log = (name : string, payload? : ClientPayload) => LoggerType; // eslint-disable-line no-use-before-define\ntype Track = (payload : ClientPayload) => LoggerType; // eslint-disable-line no-use-before-define\n\ntype Builder = (Payload) => ClientPayload;\ntype AddBuilder = (Builder) => LoggerType; // eslint-disable-line no-use-before-define\n\nexport type LoggerType = {|\n    debug : Log,\n    info : Log,\n    warn : Log,\n    error : Log,\n\n    track : Track,\n\n    flush : () => ZalgoPromise<void>,\n    immediateFlush : () => ZalgoPromise<void>,\n\n    addPayloadBuilder : AddBuilder,\n    addMetaBuilder : AddBuilder,\n    addTrackingBuilder : AddBuilder,\n    addHeaderBuilder : AddBuilder,\n\n    setTransport : (Transport) => LoggerType,\n    configure : (LoggerOptions) => LoggerType\n|};\n\nexport function Logger({ url, prefix, logLevel = DEFAULT_LOG_LEVEL, transport = getHTTPTransport(), amplitudeApiKey, flushInterval = FLUSH_INTERVAL, enableSendBeacon = false } : LoggerOptions) : LoggerType {\n\n    let events : Array<{| level : $Values<typeof LOG_LEVEL>, event : string, payload : Payload |}> = [];\n    let tracking : Array<Payload> = [];\n\n    const payloadBuilders : Array<Builder> = [];\n    const metaBuilders : Array<Builder> = [];\n    const trackingBuilders : Array<Builder> = [];\n    const headerBuilders : Array<Builder> = [];\n\n    function print(level : $Values<typeof LOG_LEVEL>, event : string, payload : Payload) {\n\n        if (!isBrowser() || !window.console || !window.console.log) {\n            return;\n        }\n\n        if (LOG_LEVEL_PRIORITY.indexOf(level) > LOG_LEVEL_PRIORITY.indexOf(logLevel)) {\n            return;\n        }\n\n        const args = [ event ];\n\n        args.push(payload);\n\n        if (payload.error || payload.warning) {\n            args.push('\\n\\n', payload.error || payload.warning);\n        }\n\n        try {\n            if (window.console[level] && window.console[level].apply) {\n                window.console[level].apply(window.console, args);\n            } else if (window.console.log && window.console.log.apply) {\n                window.console.log.apply(window.console, args);\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    function immediateFlush() : ZalgoPromise<void> {\n        return ZalgoPromise.try(() => {\n            if (!isBrowser() || window.location.protocol === PROTOCOL.FILE) {\n                return;\n            }\n\n            if (!events.length && !tracking.length) {\n                return;\n            }\n\n            const meta = {};\n            for (const builder of metaBuilders) {\n                extendIfDefined(meta, builder(meta));\n            }\n\n            const headers = {};\n            for (const builder of headerBuilders) {\n                extendIfDefined(headers, builder(headers));\n            }\n\n            let res;\n\n            if (url) {\n                res = transport({\n                    method: 'POST',\n                    url,\n                    headers,\n                    json:   {\n                        events,\n                        meta,\n                        tracking\n                    },\n                    enableSendBeacon\n                }).catch(noop);\n            }\n\n            if (amplitudeApiKey) {\n                transport({\n                    method:  'POST',\n                    url:     AMPLITUDE_URL,\n                    headers: {},\n                    json:    {\n                        api_key: amplitudeApiKey,\n                        events:  tracking.map((payload : Payload) => {\n                            // $FlowFixMe\n                            return {\n                                event_type:       payload.transition_name || 'event',\n                                event_properties: payload,\n                                ...payload\n                            };\n                        })\n                    },\n                    enableSendBeacon\n                }).catch(noop);\n            }\n\n            events = [];\n            tracking = [];\n\n            return ZalgoPromise.resolve(res).then(noop);\n        });\n    }\n\n    const flush = promiseDebounce(immediateFlush);\n\n    function enqueue(level : $Values<typeof LOG_LEVEL>, event : string, payload : Payload) {\n\n        events.push({\n            level,\n            event,\n            payload\n        });\n\n        if (AUTO_FLUSH_LEVEL.indexOf(level) !== -1) {\n            flush();\n        }\n    }\n\n    function log(level : $Values<typeof LOG_LEVEL>, event : string, payload = {}) : LoggerType {\n\n        if (!isBrowser()) {\n            return logger; // eslint-disable-line no-use-before-define\n        }\n\n        if (prefix) {\n            event = `${ prefix }_${ event }`;\n        }\n\n        const logPayload : Payload = {\n            ...objFilter(payload),\n            timestamp: Date.now().toString()\n        };\n\n        for (const builder of payloadBuilders) {\n            extendIfDefined(logPayload, builder(logPayload));\n        }\n\n        enqueue(level, event, logPayload);\n        print(level, event, logPayload);\n\n        return logger; // eslint-disable-line no-use-before-define\n    }\n\n    function addBuilder(builders, builder) : LoggerType {\n        builders.push(builder);\n        return logger; // eslint-disable-line no-use-before-define\n    }\n\n    function addPayloadBuilder(builder) : LoggerType {\n        return addBuilder(payloadBuilders, builder);\n    }\n\n    function addMetaBuilder(builder) : LoggerType {\n        return addBuilder(metaBuilders, builder);\n    }\n\n    function addTrackingBuilder(builder) : LoggerType {\n        return addBuilder(trackingBuilders, builder);\n    }\n\n    function addHeaderBuilder(builder) : LoggerType {\n        return addBuilder(headerBuilders, builder);\n    }\n\n    function debug(event, payload) : LoggerType {\n        return log(LOG_LEVEL.DEBUG, event, payload);\n    }\n\n    function info(event, payload) : LoggerType {\n        return log(LOG_LEVEL.INFO, event, payload);\n    }\n\n    function warn(event, payload) : LoggerType {\n        return log(LOG_LEVEL.WARN, event, payload);\n    }\n\n    function error(event, payload) : LoggerType {\n        return log(LOG_LEVEL.ERROR, event, payload);\n    }\n\n    function track(payload = {}) : LoggerType {\n        if (!isBrowser()) {\n            return logger; // eslint-disable-line no-use-before-define\n        }\n\n        const trackingPayload : Payload = objFilter(payload);\n\n        for (const builder of trackingBuilders) {\n            extendIfDefined(trackingPayload, builder(trackingPayload));\n        }\n\n        print(LOG_LEVEL.DEBUG, 'track', trackingPayload);\n        tracking.push(trackingPayload);\n\n        return logger; // eslint-disable-line no-use-before-define\n    }\n\n    function setTransport(newTransport : Transport) : LoggerType {\n        transport = newTransport;\n        return logger; // eslint-disable-line no-use-before-define\n    }\n\n    function configure(opts : LoggerOptions) : LoggerType {\n        if (opts.url) {\n            url = opts.url;\n        }\n\n        if (opts.prefix) {\n            prefix = opts.prefix;\n        }\n\n        if (opts.logLevel) {\n            logLevel = opts.logLevel;\n        }\n\n        if (opts.transport) {\n            transport = opts.transport;\n        }\n\n        if (opts.amplitudeApiKey) {\n            amplitudeApiKey = opts.amplitudeApiKey;\n        }\n\n        if (opts.flushInterval) {\n            flushInterval = opts.flushInterval;\n        }\n\n        if (opts.enableSendBeacon) {\n            enableSendBeacon = opts.enableSendBeacon;\n        }\n\n        return logger; // eslint-disable-line no-use-before-define\n    }\n\n    if (isBrowser()) {\n        safeInterval(flush, flushInterval);\n    }\n\n    if (typeof window === 'object') {\n        window.addEventListener('beforeunload', () => {\n            immediateFlush();\n        });\n\n        window.addEventListener('unload', () => {\n            immediateFlush();\n        });\n\n        window.addEventListener('pagehide', () => {\n            immediateFlush();\n        });\n    }\n\n    const logger = {\n        debug,\n        info,\n        warn,\n        error,\n        track,\n        flush,\n        immediateFlush,\n        addPayloadBuilder,\n        addMetaBuilder,\n        addTrackingBuilder,\n        addHeaderBuilder,\n        setTransport,\n        configure\n    };\n\n    return logger;\n}\n","/* @flow */\n\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\nimport { request, noop } from '@krakenjs/belter/src';\nimport { isSameDomain, assertSameDomain, type CrossDomainWindowType } from '@krakenjs/cross-domain-utils/src';\n\nimport { canUseSendBeacon, isAmplitude, sendBeacon } from './util';\n\nexport type TransportOptions = {|\n    url : string,\n    method : string,\n    headers : { [string] : string },\n    json : Object,\n    enableSendBeacon? : boolean\n|};\n\nexport type Transport = (TransportOptions) => ZalgoPromise<void>;\n\nexport function getHTTPTransport(httpWin : CrossDomainWindowType = window) : Transport {\n    const win = isSameDomain(httpWin) ? assertSameDomain(httpWin) : window;\n\n    return ({ url, method, headers, json, enableSendBeacon = false } : TransportOptions) : ZalgoPromise<void> => {\n        return ZalgoPromise.try(() => {\n            let beaconResult = false;\n\n            if (canUseSendBeacon({ headers, enableSendBeacon })) {\n                if (isAmplitude(url)) {\n                    beaconResult = sendBeacon({ win, url, data: json, useBlob: false });\n                } else {\n                    beaconResult = sendBeacon({ win, url, data: json, useBlob: true });\n                }\n            }\n\n            return beaconResult ? beaconResult : request({ win, url, method, headers, json });\n        }).then(noop);\n    };\n}\n","import arrayFind from 'core-js-pure/stable/array/find';\nimport arrayFrom from 'core-js-pure/stable/array/from';\nimport arrayFlatMap from 'core-js-pure/stable/array/flat-map';\nimport arrayIncludes from 'core-js-pure/stable/array/includes';\nimport stringStartsWith from 'core-js-pure/stable/string/starts-with';\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\n\nimport { curry } from './functional';\nimport { objectMerge, flattenedToObject } from './objects';\nimport { ppDebug } from './debug';\n\nexport const getWindowFromElement = node => node?.ownerDocument?.defaultView;\n\nexport const getTopWindow = () => {\n    try {\n        // Try to access body which will throw an error if cross domain\n        return window.top.document.body && window.top;\n    } catch (err) {\n        return undefined;\n    }\n};\n\n/**\n * Check if object is an HTMLElement instance\n * @param {HTMLElement} el Element to check\n * @returns {Boolean} Is an HTMLElement\n */\nexport function isElement(el) {\n    return typeof HTMLElement === 'object'\n        ? el instanceof HTMLElement\n        : el && typeof el === 'object' && el !== null && el.nodeType === 1 && typeof el.nodeName === 'string';\n}\n\n/**\n * Return options object from valid container data attributes\n * @param {HTMLElement} container Container element with data attributes\n * @returns {Object} Options object\n */\nexport function getInlineOptions(container) {\n    // Allows for data attributes dependent on camel casing to function properly.\n    const attributeNameOverride = {\n        buyercountry: 'buyerCountry',\n        merchantid: 'merchantId',\n        cspnonce: 'cspNonce',\n        customerid: 'customerId',\n        fontfamily: 'fontFamily',\n        fontsource: 'fontSource',\n        onclick: 'onClick',\n        onapply: 'onApply',\n        onrender: 'onRender',\n        'style-text-fontfamily': 'style-text-fontFamily',\n        'style-text-fontsource': 'style-text-fontSource'\n    };\n\n    const inlineEventHandlers = ['onclick', 'onapply', 'onrender'];\n\n    const getOptionValue = (name, value) => {\n        if (stringStartsWith(value, '[')) {\n            try {\n                return flattenedToObject(name, JSON.parse(value.replace(/'/g, '\"')));\n            } catch (err) {} // eslint-disable-line no-empty\n        }\n        return flattenedToObject(name, value);\n    };\n\n    const dataOptions = arrayFrom(container.attributes)\n        .filter(({ nodeName }) => stringStartsWith(nodeName, 'data-pp-'))\n        .reduce((accumulator, { nodeName, nodeValue }) => {\n            if (nodeValue) {\n                const attributeName = nodeName.replace('data-pp-', '');\n                const value = arrayIncludes(inlineEventHandlers, attributeName)\n                    ? // eslint-disable-next-line no-new-func\n                      new Function(nodeValue)\n                    : nodeValue;\n\n                return objectMerge(\n                    accumulator,\n                    getOptionValue(attributeNameOverride[attributeName] ?? attributeName, value)\n                );\n            }\n\n            return accumulator;\n        }, {});\n\n    if (\n        !container.firstElementChild ||\n        container.firstElementChild.tagName !== 'SCRIPT' ||\n        container.firstElementChild.getAttribute('type') !== 'text/template'\n    ) {\n        return dataOptions;\n    }\n\n    // For custom banners with inline markup\n    const markup = container.firstElementChild.textContent.trim();\n    container.removeChild(container.firstElementChild);\n\n    return objectMerge(dataOptions, { style: { markup } });\n}\n\n/**\n * Search for the first element of specified class name\n * @param {HTMLElement} container Container to search for element\n * @param {String} className Base element class name without prefix\n * @returns {HTMLElement} Matched element\n */\nexport const getElement = curry(\n    (prefix, container, className) => container.getElementsByClassName(`${prefix}__${className}`)[0]\n);\n\n/**\n * Create a new style element and prepend it to the container\n * @param {HTMLElement} container Container element to prepend new style\n * @param {String} text Text content of the style element\n * @returns {void}\n */\nexport const prependStyle = curry((container, text) => {\n    const elem = document.createElement('style');\n    elem.textContent = text;\n    container.insertBefore(elem, container.firstChild);\n});\n\n/**\n * Append text data into the container element\n * @param {HTMLElement} container Container element to append text\n * @param {any} obj Various inputs representing text to be appended\n * @returns {void}\n */\nexport const appendText = curry((container, obj) => {\n    if (Array.isArray(obj)) {\n        obj.forEach(elem => container.appendChild(elem));\n    } else if (obj instanceof HTMLElement) {\n        container.appendChild(obj);\n    } else if (typeof obj === 'string') {\n        const span = document.createElement('span');\n        span.innerHTML = obj;\n        container.appendChild(span);\n    } else if (obj === false) {\n        container.parentNode.removeChild(container);\n    }\n});\n\n/**\n * Append text data into the container element\n * @param {HTMLElement} container Container element to append text\n * @param {any} obj Various inputs representing text to be appended\n * @returns {void}\n */\nexport const prependText = curry((container, obj) => {\n    if (Array.isArray(obj)) {\n        [...obj].reverse().forEach(elem => container.insertBefore(elem, container.firstChild));\n    } else if (obj instanceof HTMLElement) {\n        container.insertBefore(obj, container.firstChild);\n    } else if (typeof obj === 'string') {\n        const span = document.createElement('span');\n        span.innerHTML = obj;\n        container.insertBefore(span, container.firstChild);\n    } else if (obj === false) {\n        container.parentNode.removeChild(container);\n    }\n});\n\n/**\n * Append a new image into the container element\n * @param {HTMLElement} container Container element to append image\n * @param {String} url Image src attribute\n * @param {String} alt Image alt attribute\n * @param {String} srcset Image srcset attribute\n * @returns {void}\n */\nexport const appendImage = curry((container, url, alt = 'PayPal Credit', srcset = '') => {\n    if (Array.isArray(url)) {\n        url.forEach(logo => appendImage(container, logo, alt));\n    } else if (typeof url === 'string') {\n        const logo = new Image();\n        logo.alt = alt;\n        logo.className = 'message__logo';\n        logo.src = url;\n\n        if (srcset) {\n            logo.srcset = srcset;\n        }\n\n        container.appendChild(logo);\n    } else if (typeof url === 'object') {\n        const {\n            src,\n            dimensions: [width, height]\n        } = url;\n\n        const logo = new Image();\n        logo.src = src;\n        logo.alt = alt;\n\n        const svgWrapper = document.createElement('div');\n        svgWrapper.className = 'message__logo message__logo--svg';\n\n        const canvas = document.createElement('canvas');\n        canvas.height = height;\n        canvas.width = width;\n\n        svgWrapper.appendChild(logo);\n        svgWrapper.appendChild(canvas);\n        container.appendChild(svgWrapper);\n    } else {\n        container.parentNode.removeChild(container);\n    }\n}, 2); // Need to manually set curry arity because of default parameters and transpiling\n\n/**\n * Ensure element is ready to be worked with. Necessary since\n * creating an iframe is asynchronous\n * @param {HTMLElement} element HTML Element\n * @returns {Promise<void>} Promise resolves when element is ready\n */\nexport const waitForElementReady = element =>\n    new ZalgoPromise(resolve => {\n        if (element.tagName === 'IFRAME' && element.contentWindow.document.readyState !== 'complete') {\n            element.addEventListener('load', resolve);\n        } else {\n            resolve();\n        }\n    });\n\n/**\n * Check if an element is within the current viewport\n * @param {HTMLElement} container DOM element\n * @returns {boolean} Visible or not visible\n */\nexport function isInViewport(container) {\n    const containerRect = container.getBoundingClientRect();\n    const containerWindow = getWindowFromElement(container);\n\n    const bannerY = (containerRect.top + containerRect.bottom) / 2;\n    const bannerX = (containerRect.left + containerRect.right) / 2;\n\n    if (bannerY > containerWindow.innerHeight || bannerY < 0) {\n        return false;\n    }\n    if (bannerX > containerWindow.innerWidth || bannerX < 0) {\n        return false;\n    }\n\n    return true;\n}\n\n/**\n * Check if an element is visually hidden on a page\n * @param {HTMLElement} container DOM element\n * @returns {boolean} Hidden or not hidden\n */\nexport function isHidden(container) {\n    const containerWindow = getWindowFromElement(container);\n\n    if (typeof containerWindow.getComputedStyle === 'function') {\n        const containerStyles = containerWindow.getComputedStyle(container);\n        if (\n            containerStyles.getPropertyValue('display') === 'none' ||\n            containerStyles.getPropertyValue('visibility') === 'hidden' ||\n            containerStyles.getPropertyValue('clip') !== 'auto'\n        )\n            return true;\n    }\n\n    const containerRect = container.getBoundingClientRect();\n    if (\n        containerRect.left > containerWindow.document.body.scrollWidth ||\n        containerRect.right < 0 ||\n        containerRect.top > containerWindow.document.body.scrollHeight ||\n        containerRect.bottom < 0\n    )\n        return true;\n\n    return container.offsetWidth === 0 || container.offsetHeight === 0;\n}\n\nexport function getAllBySelector(selector) {\n    if (typeof selector === 'string') {\n        return arrayFrom(document.querySelectorAll(selector));\n    }\n\n    if (isElement(selector)) {\n        return [selector];\n    }\n\n    if (Array.isArray(selector) && selector.every(isElement)) {\n        return arrayFlatMap(selector, getAllBySelector);\n    }\n\n    return [];\n}\n\n/**\n * Check if an element is completely within the bounds of another element\n * @param {HTMLElement} parentEl Parent element.\n * @param {HTMLElement} childEl Element to check if inside of parent.\n * @returns {boolean}\n */\nexport const elementContains = (parentEl, childEl) => {\n    if (\n        (parentEl?.nodeType !== Node.ELEMENT_NODE && !(parentEl instanceof Window)) ||\n        childEl?.nodeType !== Node.ELEMENT_NODE\n    ) {\n        return false;\n    }\n\n    const parentBounds =\n        parentEl instanceof Window\n            ? {\n                  top: 0,\n                  left: 0,\n                  bottom: parentEl.innerHeight,\n                  right: parentEl.innerWidth\n              }\n            : parentEl.getBoundingClientRect();\n    const childBounds = childEl.getBoundingClientRect();\n\n    return (\n        parentBounds.top <= childBounds.top &&\n        parentBounds.bottom >= childBounds.bottom &&\n        parentBounds.left <= childBounds.left &&\n        parentBounds.right >= childBounds.right\n    );\n};\n\n/**\n * Check if an element is completely outside the bounds of another element\n * @param {HTMLElement} parentEl Parent element.\n * @param {HTMLElement} childEl Element to check if outside of parent.\n * @returns {boolean}\n */\n\nexport const elementOutside = (parentEl, childEl) => {\n    if (\n        (parentEl?.nodeType !== Node.ELEMENT_NODE && !(parentEl instanceof Window)) ||\n        childEl?.nodeType !== Node.ELEMENT_NODE\n    ) {\n        return false;\n    }\n\n    const parentBounds =\n        parentEl instanceof Window\n            ? {\n                  top: 0,\n                  left: 0,\n                  bottom: parentEl.innerHeight,\n                  right: parentEl.innerWidth\n              }\n            : parentEl.getBoundingClientRect();\n    const childBounds = childEl.getBoundingClientRect();\n\n    return (\n        childBounds.left >= parentBounds.right ||\n        childBounds.right <= parentBounds.left ||\n        childBounds.bottom <= parentBounds.top ||\n        childBounds.top >= parentBounds.bottom\n    );\n};\n\n/**\n * Get the computed page root element that serves as the best wrapping element\n * that encompasses the entire content on the page without overflowing content\n * @param {HTMLElement} baseElement Element from which to create a path to determine the root\n * @returns {HTMLElement}\n */\nexport const getRoot = baseElement => {\n    const elementWindow = getWindowFromElement(baseElement);\n\n    const domPath = [];\n    {\n        let el = baseElement;\n        // Loop up the DOM tree to the root html node\n        while (el?.parentNode.nodeType === Node.ELEMENT_NODE) {\n            // Skip elements that are collapsed due to various CSS rules\n            // which causes an issue with determining the root element\n            if (el.parentNode.offsetHeight !== 0) {\n                domPath.push(el.parentNode);\n            }\n            el = el.parentNode;\n        }\n    }\n\n    const computedRoot = arrayFind(domPath.reverse(), (el, index, elements) => {\n        // We are searching for the element that contains the page scrolling.\n        // Some merchant sites will use height 100% on elements such as html and body\n        // that cause the intersection observer to hide elements below the fold.\n        const height = el.offsetHeight;\n\n        // window.innerHeight has a variable value on mobile based on the URL bar so\n        // we are looking for the element that is larger than the window\n        // TODO: This could potentially provide a false positive if a merchant is using height 100vh\n        if (height > elementWindow.innerHeight) {\n            return true;\n        }\n\n        // Use array index instead of parentNode be default because collapsed\n        // elements may have been filtered out and should not be used for calculations\n        const parent = elements[index - 1] ?? el.parentNode; // First element should be <html> and will have a parent of document\n        const child = elements[index + 1];\n\n        // Ensure that the selected root is the larger of the parent\n        // and contains the child otherwise there may not be a proper page wrapper\n        // e.g. https://www.acwholesalers.com\n        if (child && child.offsetHeight < height && elementContains(parent, el)) {\n            return true;\n        }\n\n        return false;\n    });\n\n    // If the root element is entirely within the viewport then return undefined\n    // so that the viewport is used as the root. This helps with position fixed\n    // containers that may have content outside of the root element.\n    const root = elementContains(elementWindow, computedRoot) ? undefined : computedRoot;\n\n    ppDebug('Root:', { debugObj: root || 'undefined. Viewport is used as the root.' });\n\n    return root;\n};\n","module.exports = function () { /* empty */ };\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar TypeError = global.TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw TypeError(tryToString(argument) + ' is not a function');\n};\n","var global = require('../internals/global');\nvar classof = require('../internals/classof');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return String(argument);\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es-x/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","module.exports = {};\n","var parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = uncurryThis(store.get);\n  var wmhas = uncurryThis(store.has);\n  var wmset = uncurryThis(store.set);\n  set = function (it, metadata) {\n    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar Object = global.Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : Object(it);\n} : Object;\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var aCallable = require('../internals/a-callable');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return func == null ? undefined : aCallable(func);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- safe\n  return number !== number || number === 0 ? 0 : (number > 0 ? floor : ceil)(number);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var parent = require('../../es/string/includes');\n\nmodule.exports = parent;\n","var global = require('../internals/global');\n\nvar String = global.String;\n\nmodule.exports = function (argument) {\n  try {\n    return String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es-x/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n  return target;\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!hasOwn(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","var bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Object = global.Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, Object(it));\n};\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","/* eslint-disable es-x/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.22.4',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.22.4/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es-x/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es-x/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var global = require('../internals/global');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar Object = global.Object;\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof Object ? ObjectPrototype : null;\n};\n","var parent = require('../../es/array/flat-map');\n\nmodule.exports = parent;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar toString = require('../internals/to-string');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw TypeError(tryToString(argument) + ' is not iterable');\n};\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es-x/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TypeError = global.TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar TypeError = global.TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es-x/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable(O, key)) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","require('../../modules/es.array.find');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'find');\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar Array = global.Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","require('../../modules/es.array.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../modules/es.string.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es-x/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es-x/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es-x/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es-x/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","require('../../modules/es.string.iterator');\nrequire('../../modules/es.array.from');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.from;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es-x/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es-x/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe\n    setter = uncurryThis(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar String = global.String;\nvar TypeError = global.TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw TypeError(\"Can't set \" + String(argument) + ' as a prototype');\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar global = require('../internals/global');\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar isConstructor = require('../internals/is-constructor');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar Array = global.Array;\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var IS_CONSTRUCTOR = isConstructor(this);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod && !(this == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    result = IS_CONSTRUCTOR ? new this() : [];\n    for (;!(step = call(next, iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = lengthOfArrayLike(O);\n    result = IS_CONSTRUCTOR ? new this(length) : Array(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es-x/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","require('../../modules/es.array.flat-map');\nrequire('../../modules/es.array.unscopables.flat-map');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'flatMap');\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-array.prototype.flatmap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A;\n    aCallable(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar bind = require('../internals/function-bind-context');\n\nvar TypeError = global.TypeError;\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flatMap');\n","require('../../modules/es.string.starts-with');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'startsWith');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es-x/no-string-prototype-startswith -- safe\nvar un$StartsWith = uncurryThis(''.startsWith);\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return un$StartsWith\n      ? un$StartsWith(that, search, index)\n      : stringSlice(that, index, index + search.length) === search;\n  }\n});\n","import arrayFind from 'core-js-pure/stable/array/find';\nimport arrayFrom from 'core-js-pure/stable/array/from';\n\nimport { getWindowFromElement } from './elements';\n\n// Map class name of visible element to size tag.\nconst toTagSize = classList => {\n    const sizes = ['xsmall', 'small', 'medium', 'large', 'xlarge'];\n\n    // Match on first tag contained in classList, ignoring other values.\n    const tag = arrayFind(sizes, size => classList.contains(`tag--${size}`)) || 'NONE';\n\n    return tag.toUpperCase();\n};\n\nconst getTagSize = node => {\n    // Provide NONE as value for section in payload if not shown\n    if (!node) {\n        return 'NONE';\n    }\n\n    const visibleElement = arrayFind(\n        arrayFrom(node.children),\n        element =>\n            getWindowFromElement(node)\n                .getComputedStyle(element)\n                .getPropertyValue('display') !== 'none'\n    );\n\n    if (!visibleElement) {\n        return 'NONE';\n    }\n\n    // Get the tag size of the element shown\n    return toTagSize(visibleElement.classList);\n};\n\nexport function getActiveTags(container) {\n    if (!container) {\n        return `headline:NONE::subheadline:NONE::disclaimer:NONE`;\n    }\n\n    const [headline, subHeadline, disclaimer] = [\n        container.querySelector('.message__headline'),\n        container.querySelector('.message__subheadline'),\n        container.querySelector('.message__disclaimer')\n    ];\n\n    return `headline:${getTagSize(headline)}::subheadline:${getTagSize(subHeadline)}::disclaimer:${getTagSize(\n        disclaimer\n    )}`;\n}\n","import { getPerformance, isIE } from '@krakenjs/belter/src';\n\nconst namespaced = name => `__paypal_messaging_performance__${name}`;\n\nexport const performance = getPerformance();\n\nexport const PERFORMANCE_MEASURE_KEYS = {\n    // the duration of time between beginning the first message render,\n    // to when zoid fires its Ready event\n    FIRST_RENDER_DELAY: 'firstRenderDelay',\n    // the duration of time between beginning the first modal render,\n    // to when zoid fires its Ready event\n    FIRST_MODAL_RENDER_DELAY: 'firstModalRenderDelay',\n\n    // the duration of time between beginning setup of messages & modals on\n    // the parent page, to when zoid fires its Ready event\n    SCRIPT_LOAD_DELAY: 'scriptLoadDelay',\n\n    // (PerformanceTiming.domContentLoadedEventStart is DEPRECATED, PerformanceNavigationTiming.domContentLoadedEventStart is not)\n    // the timestamp before the DOMContentLoaded event for the parent page\n    DOM_CONTENT_LOADED_EVENT_START: 'domContentLoadedEventStart',\n    // (PerformanceTiming.loadEventStart is DEPRECATED, PerformanceNavigationTiming.loadEventStart is not)\n    // when the load event was sent for the parent page\n    LOAD_EVENT_START: 'loadEventStart'\n};\n\nexport function getRequestDuration() {\n    // determine how long it took the iframe to load the banner message content\n    if (typeof performance?.getEntries !== 'function') {\n        return -1;\n    }\n\n    const validateMetric = metric => typeof metric === 'number' && metric > 0;\n\n    const requests = performance\n        .getEntries()\n        .filter(\n            ({ name, entryType }) =>\n                (entryType === 'navigation' || entryType === 'resource') &&\n                `${name}`.indexOf('/credit-presentment/smart/message') > -1\n        );\n\n    const [{ requestStart, responseStart }] = [...requests.slice(-1), {}];\n    // This measures the \"Waiting (Time To First Byte)\" for the request;\n    // how long we've spent waiting for a response after sending the request\n    return validateMetric(requestStart) && validateMetric(responseStart) ? responseStart - requestStart : -1;\n    // NOTE: PerformanceNavigationTiming.requestStart and PerformanceNavigationTiming.responseStart are DEPRECATED\n    // A suitable alternative that measures the value found in the Network tab of Dev Tools could not be found.\n    // https://w3c.github.io/navigation-timing/timestamp-diagram.svg\n}\n\nexport function getPerformanceMeasure(name) {\n    return performance?.getEntriesByName(namespaced(name))[0]?.duration ?? -1;\n}\n\nexport function getNavigationTiming(name) {\n    const entry = performance?.getEntriesByType('navigation')[0];\n\n    return entry?.[name] ?? -1;\n}\n\nexport function clearPerformance() {\n    if (performance) {\n        Object.values(PERFORMANCE_MEASURE_KEYS).forEach(name => {\n            performance.clearMarks(namespaced(name));\n            performance.clearMeasures(namespaced(name));\n        });\n    }\n}\n\nexport function addPerformanceMeasure(name, { startMark, endMark, repeat } = {}) {\n    if (performance) {\n        const existing = getPerformanceMeasure(name);\n\n        // Do not track additional values for existing marks\n        if (existing !== -1) {\n            if (!repeat) {\n                return;\n            }\n\n            performance.clearMeasures(namespaced(name));\n            performance.clearMarks(namespaced(name));\n        }\n\n        /* eslint-disable no-unused-expressions, flowtype/no-unused-expressions */\n        isIE()\n            ? performance.measure(namespaced(name))\n            : performance.measure(\n                  namespaced(name),\n                  startMark ? namespaced(startMark) : undefined,\n                  endMark ? namespaced(endMark) : undefined\n              );\n        /* eslint-enable no-unused-expressions, flowtype/no-unused-expressions */\n        performance.mark(namespaced(name));\n    }\n}\n","import createMessage from './Message';\n\nexport function setupMessage({ markup, meta, parentStyles, warnings }) {\n    const message = createMessage({ markup, meta, parentStyles, warnings });\n    document.body.appendChild(message);\n}\n","import objectEntries from 'core-js-pure/stable/object/entries';\nimport { uniqueID } from '@krakenjs/belter/src';\n\nimport {\n    request,\n    getActiveTags,\n    ppDebug,\n    createState,\n    isStorageFresh,\n    getDeviceID,\n    parseObjFromEncoding,\n    getRequestDuration\n} from '../../utils';\n\nconst Message = function({ markup, meta, parentStyles, warnings }) {\n    const {\n        onClick,\n        onReady,\n        onHover,\n        onMarkup,\n        onProps,\n        resize,\n        deviceID: parentDeviceID,\n        messageRequestId\n    } = window.xprops;\n\n    const dimensionsRef = { current: { width: 0, height: 0 } };\n\n    const [props, setProps] = createState({\n        amount: window.xprops.amount ?? null,\n        currency: window.xprops.currency ?? null,\n        buyerCountry: window.xprops.buyerCountry ?? null,\n        ignoreCache: window.xprops.ignoreCache ?? null,\n        style: window.xprops.style,\n        offer: window.xprops.offer ?? null,\n        payerId: window.xprops.payerId ?? null,\n        clientId: window.xprops.clientId ?? null,\n        merchantId: window.xprops.merchantId ?? null\n    });\n\n    const [serverData, setServerData] = createState({\n        parentStyles,\n        warnings,\n        markup,\n        meta\n    });\n\n    const handleClick = () => {\n        if (typeof onClick === 'function') {\n            onClick({ meta: serverData.meta });\n        }\n    };\n\n    const handleHover = () => {\n        if (typeof onHover === 'function') {\n            onHover({ meta: serverData.meta });\n        }\n    };\n\n    // if there is a button reuse that instead of making a new one\n    const button = document.createElement('button');\n\n    button.setAttribute('type', 'button');\n\n    button.addEventListener('click', handleClick);\n    button.addEventListener('mouseover', handleHover);\n    button.addEventListener('focus', handleHover);\n\n    button.style.display = 'block';\n    button.style.background = 'transparent';\n    button.style.padding = 0;\n    button.style.border = 'none';\n    button.style.outline = 'none';\n    button.style.textAlign = window.xprops.style?.text?.align || 'left';\n    button.style.fontFamily = 'inherit';\n    button.style.fontSize = 'inherit';\n    button.innerHTML = markup ?? '';\n\n    onReady({\n        meta: serverData.meta,\n        activeTags: getActiveTags(button),\n        messageRequestId,\n        // Utility will create iframe deviceID if it doesn't exist.\n        deviceID: isStorageFresh() ? parentDeviceID : getDeviceID(),\n        // getRequestDuration runs in the child component (iframe/banner message),\n        // passing a value to onReady and up to the parent component to go out with\n        // the other stats\n        requestDuration: getRequestDuration()\n    });\n\n    onMarkup({\n        meta: serverData.meta,\n        styles: serverData.parentStyles,\n        warnings: serverData.warnings\n    });\n\n    window.addEventListener('focus', () => {\n        button.focus();\n    });\n\n    if (typeof onProps === 'function') {\n        onProps(xprops => {\n            const shouldRerender = Object.keys(props).some(key => {\n                // check to see if both x/props values are undefined or null\n                if (\n                    (typeof props[key] === 'undefined' || props[key] === null) &&\n                    (typeof xprops[key] === 'undefined' || xprops[key] === null)\n                ) {\n                    // x/props values are undefined or null carry on\n                    return false;\n                }\n\n                return typeof props[key] !== 'object'\n                    ? props[key] !== xprops[key]\n                    : JSON.stringify(props[key]) !== JSON.stringify(xprops[key]);\n            });\n\n            if (shouldRerender) {\n                const {\n                    amount,\n                    currency,\n                    buyerCountry,\n                    ignoreCache,\n                    offer,\n                    payerId,\n                    clientId,\n                    merchantId,\n                    version,\n                    env,\n                    features,\n                    stageTag,\n                    style\n                } = xprops;\n\n                setProps({\n                    amount,\n                    currency,\n                    buyerCountry,\n                    ignoreCache,\n                    style,\n                    offer,\n                    payerId,\n                    clientId,\n                    merchantId\n                });\n\n                // Generate new MRID on message update.\n                const newMessageRequestId = uniqueID();\n\n                const query = objectEntries({\n                    message_request_id: newMessageRequestId,\n                    amount,\n                    currency,\n                    buyer_country: buyerCountry,\n                    ignore_cache: ignoreCache,\n                    style,\n                    credit_type: offer,\n                    payer_id: payerId,\n                    client_id: clientId,\n                    merchant_id: merchantId,\n                    features,\n                    version,\n                    env,\n                    stageTag\n                })\n                    .filter(([, val]) => Boolean(val))\n                    .reduce(\n                        (acc, [key, val]) =>\n                            `${acc}&${key}=${encodeURIComponent(typeof val === 'object' ? JSON.stringify(val) : val)}`,\n                        ''\n                    )\n                    .slice(1);\n\n                ppDebug('Updating message with new props...', { inZoid: true });\n\n                request('GET', `${window.location.origin}/credit-presentment/smart/message?${query}`).then(\n                    ({ data: resData }) => {\n                        const encodedData = resData.slice(resData.indexOf('<!--') + 4, resData.indexOf('-->'));\n                        const data = parseObjFromEncoding(encodedData);\n                        button.innerHTML = data.markup ?? markup;\n                        const buttonWidth = button.offsetWidth;\n                        const buttonHeight = button.offsetHeight;\n                        // Zoid will not fire a resize event if the markup has the same dimensions meaning the render event\n                        // in the overflow observer will not fire. This forces the resize event to fire for every render\n                        // so that the render complete logs will always fire\n                        if (\n                            dimensionsRef.current.width === buttonWidth &&\n                            dimensionsRef.current.height === buttonHeight\n                        ) {\n                            // resizes the iframe\n                            resize({ width: buttonWidth, height: buttonHeight });\n                        } else {\n                            dimensionsRef.current = { width: buttonWidth, height: buttonHeight };\n                        }\n\n                        if (typeof onReady === 'function') {\n                            // currency, amount, payerId, clientId, merchantId, buyerCountry\n                            onReady({\n                                meta: data.meta ?? serverData.meta,\n                                activeTags: getActiveTags(button),\n                                messageRequestId: newMessageRequestId,\n                                // Utility will create iframe deviceID if it doesn't exist.\n                                deviceID: isStorageFresh() ? parentDeviceID : getDeviceID(),\n                                // getRequestDuration runs in the child component (iframe/banner message),\n                                // passing a value to onReady and up to the parent component to go out with\n                                // the other stats\n                                requestDuration: getRequestDuration()\n                            });\n                        }\n\n                        if (typeof onMarkup === 'function') {\n                            if (\n                                serverData.parentStyles !== (data.parentStyles ?? parentStyles) ||\n                                serverData.warnings !== (data.warnings ?? warnings) ||\n                                serverData.markup !== (data.markup ?? markup)\n                            ) {\n                                // resizes the parent message div\n                                onMarkup({\n                                    meta: data.meta ?? serverData.meta,\n                                    styles: data.parentStyles ?? serverData.parentStyles,\n                                    warnings: data.warnings ?? serverData.warnings\n                                });\n                            }\n                        }\n\n                        setServerData({\n                            parentStyles: data.parentStyles ?? serverData.parentStyles,\n                            warnings: data.warnings ?? serverData.warnings,\n                            markup: data.markup ?? serverData.markup,\n                            meta: data.meta ?? serverData.meta\n                        });\n                    }\n                );\n            }\n        });\n    }\n\n    return button;\n};\n\nexport default Message;\n"],"sourceRoot":""}