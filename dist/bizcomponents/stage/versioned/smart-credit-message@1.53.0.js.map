{"version":3,"sources":["webpack://crc/webpack/bootstrap","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/node.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/constants.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/renderers/dom.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/util.js","webpack://crc/./node_modules/@krakenjs/jsx-pragmatic/src/renderers/html.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/locale.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/order.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/params.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/defaults.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/env.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/fpti.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/funding.js","webpack://crc/./node_modules/@paypal/sdk-constants/src/platform.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://crc/./node_modules/@krakenjs/belter/src/device.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://crc/./node_modules/@krakenjs/belter/src/constants.js","webpack://crc/./node_modules/@krakenjs/belter/src/util.js","webpack://crc/./node_modules/@krakenjs/belter/src/dom.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://crc/./node_modules/@krakenjs/belter/src/storage.js","webpack://crc/./node_modules/@krakenjs/belter/src/experiment.js","webpack://crc/./node_modules/@krakenjs/belter/src/http.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/utils.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/exceptions.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/flush.js","webpack://crc/./node_modules/@krakenjs/zalgo-promise/src/promise.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://crc/./node_modules/core-js-pure/internals/fails.js","webpack://crc/./node_modules/@krakenjs/cross-domain-utils/src/constants.js","webpack://crc/./node_modules/@krakenjs/cross-domain-utils/src/utils.js","webpack://crc/./node_modules/core-js-pure/internals/function-uncurry-this.js","webpack://crc/./node_modules/core-js-pure/internals/is-callable.js","webpack://crc/./node_modules/core-js-pure/internals/well-known-symbol.js","webpack://crc/./src/utils/constants.js","webpack://crc/./node_modules/core-js-pure/internals/descriptors.js","webpack://crc/./node_modules/core-js-pure/internals/export.js","webpack://crc/./node_modules/core-js-pure/internals/global.js","webpack://crc/./node_modules/@paypal/sdk-client/src/config.js","webpack://crc/./node_modules/@paypal/sdk-client/src/script.js","webpack://crc/./node_modules/@paypal/sdk-client/src/global.js","webpack://crc/./node_modules/@paypal/sdk-client/src/logger.js","webpack://crc/./node_modules/@paypal/sdk-client/src/domains.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://crc/./node_modules/@paypal/sdk-client/src/constants.js","webpack://crc/./node_modules/@paypal/sdk-client/src/fraudnet.js","webpack://crc/./node_modules/@paypal/sdk-client/src/api.js","webpack://crc/./node_modules/@paypal/sdk-client/src/events.js","webpack://crc/./src/utils/sdk.js","webpack://crc/./node_modules/core-js-pure/internals/is-object.js","webpack://crc/./src/utils/functional.js","webpack://crc/./node_modules/core-js-pure/stable/array/includes.js","webpack://crc/./node_modules/core-js-pure/stable/object/entries.js","webpack://crc/./node_modules/core-js-pure/internals/function-call.js","webpack://crc/./node_modules/core-js-pure/internals/has-own-property.js","webpack://crc/./node_modules/core-js-pure/stable/array/from.js","webpack://crc/./node_modules/core-js-pure/stable/array/find.js","webpack://crc/./node_modules/core-js-pure/internals/an-object.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/util.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/weakmap.js","webpack://crc/./node_modules/@krakenjs/cross-domain-safe-weakmap/src/native.js","webpack://crc/./node_modules/core-js-pure/internals/to-object.js","webpack://crc/./node_modules/core-js-pure/internals/object-define-property.js","webpack://crc/./node_modules/core-js-pure/internals/classof-raw.js","webpack://crc/./node_modules/core-js-pure/internals/to-indexed-object.js","webpack://crc/./node_modules/core-js-pure/internals/path.js","webpack://crc/./node_modules/core-js-pure/internals/create-non-enumerable-property.js","webpack://crc/./node_modules/core-js-pure/internals/length-of-array-like.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://crc/./node_modules/core-js-pure/internals/function-bind-context.js","webpack://crc/./node_modules/core-js-pure/internals/entry-unbind.js","webpack://crc/./node_modules/core-js-pure/internals/iterators.js","webpack://crc/./node_modules/core-js-pure/internals/require-object-coercible.js","webpack://crc/./node_modules/core-js-pure/internals/a-callable.js","webpack://crc/./node_modules/core-js-pure/internals/get-built-in.js","webpack://crc/./node_modules/core-js-pure/internals/is-pure.js","webpack://crc/./node_modules/core-js-pure/internals/classof.js","webpack://crc/./src/utils/miscellaneous.js","webpack://crc/./src/utils/debug.js","webpack://crc/./node_modules/core-js-pure/stable/string/starts-with.js","webpack://crc/./node_modules/core-js-pure/internals/function-bind-native.js","webpack://crc/./node_modules/core-js-pure/internals/create-property-descriptor.js","webpack://crc/./node_modules/core-js-pure/internals/add-to-unscopables.js","webpack://crc/./node_modules/core-js-pure/internals/to-string.js","webpack://crc/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/constants.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/config.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/util.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/logger.js","webpack://crc/./node_modules/@krakenjs/beaver-logger/src/http.js","webpack://crc/./src/utils/elements.js","webpack://crc/./node_modules/core-js-pure/internals/is-null-or-undefined.js","webpack://crc/./node_modules/core-js-pure/internals/object-keys.js","webpack://crc/./node_modules/core-js-pure/internals/hidden-keys.js","webpack://crc/./node_modules/core-js-pure/stable/object/assign.js","webpack://crc/./node_modules/core-js-pure/internals/function-uncurry-this-clause.js","webpack://crc/./node_modules/core-js-pure/internals/object-property-is-enumerable.js","webpack://crc/./node_modules/core-js-pure/internals/indexed-object.js","webpack://crc/./node_modules/core-js-pure/internals/to-property-key.js","webpack://crc/./node_modules/core-js-pure/internals/get-method.js","webpack://crc/./node_modules/core-js-pure/internals/shared-store.js","webpack://crc/./node_modules/core-js-pure/internals/to-integer-or-infinity.js","webpack://crc/./node_modules/core-js-pure/internals/to-string-tag-support.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-prototype-of.js","webpack://crc/./node_modules/core-js-pure/internals/shared-key.js","webpack://crc/./node_modules/core-js-pure/internals/internal-state.js","webpack://crc/./node_modules/core-js-pure/stable/string/includes.js","webpack://crc/./node_modules/core-js-pure/internals/try-to-string.js","webpack://crc/./node_modules/core-js-pure/internals/uid.js","webpack://crc/./node_modules/core-js-pure/internals/enum-bug-keys.js","webpack://crc/./node_modules/core-js-pure/internals/object-create.js","webpack://crc/./node_modules/core-js-pure/internals/define-built-in.js","webpack://crc/./node_modules/core-js-pure/internals/set-to-string-tag.js","webpack://crc/./node_modules/core-js-pure/internals/get-iterator-method.js","webpack://crc/./node_modules/core-js-pure/internals/object-is-prototype-of.js","webpack://crc/./node_modules/core-js-pure/internals/iterator-define.js","webpack://crc/./node_modules/core-js-pure/internals/create-iter-result-object.js","webpack://crc/./node_modules/core-js-pure/internals/document-all.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-own-property-descriptor.js","webpack://crc/./node_modules/core-js-pure/internals/is-symbol.js","webpack://crc/./node_modules/core-js-pure/internals/use-symbol-as-uid.js","webpack://crc/./node_modules/core-js-pure/internals/symbol-constructor-detection.js","webpack://crc/./node_modules/core-js-pure/internals/shared.js","webpack://crc/./node_modules/core-js-pure/internals/ie8-dom-define.js","webpack://crc/./node_modules/core-js-pure/internals/document-create-element.js","webpack://crc/./node_modules/core-js-pure/internals/v8-prototype-define-bug.js","webpack://crc/./node_modules/core-js-pure/internals/array-includes.js","webpack://crc/./node_modules/core-js-pure/internals/to-length.js","webpack://crc/./node_modules/core-js-pure/internals/array-iteration.js","webpack://crc/./node_modules/core-js-pure/internals/array-species-create.js","webpack://crc/./node_modules/core-js-pure/internals/is-array.js","webpack://crc/./node_modules/core-js-pure/internals/is-constructor.js","webpack://crc/./node_modules/core-js-pure/internals/not-a-regexp.js","webpack://crc/./node_modules/core-js-pure/internals/correct-is-regexp-logic.js","webpack://crc/./node_modules/core-js-pure/internals/iterators-core.js","webpack://crc/./node_modules/core-js-pure/stable/array/flat-map.js","webpack://crc/./node_modules/core-js-pure/internals/object-keys-internal.js","webpack://crc/./node_modules/core-js-pure/internals/to-absolute-index.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.iterator.js","webpack://crc/./node_modules/core-js-pure/internals/iterator-close.js","webpack://crc/./node_modules/core-js-pure/internals/is-array-iterator-method.js","webpack://crc/./node_modules/core-js-pure/internals/create-property.js","webpack://crc/./node_modules/core-js-pure/internals/get-iterator.js","webpack://crc/./node_modules/core-js-pure/es/object/assign.js","webpack://crc/./node_modules/core-js-pure/modules/es.object.assign.js","webpack://crc/./node_modules/core-js-pure/internals/function-apply.js","webpack://crc/./node_modules/core-js-pure/internals/to-primitive.js","webpack://crc/./node_modules/core-js-pure/internals/engine-v8-version.js","webpack://crc/./node_modules/core-js-pure/internals/engine-user-agent.js","webpack://crc/./node_modules/core-js-pure/internals/ordinary-to-primitive.js","webpack://crc/./node_modules/core-js-pure/internals/define-global-property.js","webpack://crc/./node_modules/core-js-pure/internals/is-forced.js","webpack://crc/./node_modules/core-js-pure/internals/object-assign.js","webpack://crc/./node_modules/core-js-pure/internals/math-trunc.js","webpack://crc/./node_modules/core-js-pure/internals/object-get-own-property-symbols.js","webpack://crc/./node_modules/core-js-pure/es/array/find.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.find.js","webpack://crc/./node_modules/core-js-pure/internals/array-species-constructor.js","webpack://crc/./node_modules/core-js-pure/internals/inspect-source.js","webpack://crc/./node_modules/core-js-pure/es/array/includes.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.includes.js","webpack://crc/./node_modules/core-js-pure/es/string/includes.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.includes.js","webpack://crc/./node_modules/core-js-pure/internals/is-regexp.js","webpack://crc/./node_modules/core-js-pure/es/object/entries.js","webpack://crc/./node_modules/core-js-pure/modules/es.object.entries.js","webpack://crc/./node_modules/core-js-pure/internals/object-to-array.js","webpack://crc/./node_modules/core-js-pure/internals/correct-prototype-getter.js","webpack://crc/./node_modules/core-js-pure/es/array/from.js","webpack://crc/./node_modules/core-js-pure/internals/string-multibyte.js","webpack://crc/./node_modules/core-js-pure/internals/weak-map-basic-detection.js","webpack://crc/./node_modules/core-js-pure/internals/function-name.js","webpack://crc/./node_modules/core-js-pure/internals/iterator-create-constructor.js","webpack://crc/./node_modules/core-js-pure/internals/object-define-properties.js","webpack://crc/./node_modules/core-js-pure/internals/html.js","webpack://crc/./node_modules/core-js-pure/internals/object-to-string.js","webpack://crc/./node_modules/core-js-pure/internals/object-set-prototype-of.js","webpack://crc/./node_modules/core-js-pure/internals/function-uncurry-this-accessor.js","webpack://crc/./node_modules/core-js-pure/internals/a-possible-prototype.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.from.js","webpack://crc/./node_modules/core-js-pure/internals/array-from.js","webpack://crc/./node_modules/core-js-pure/internals/call-with-safe-iteration-closing.js","webpack://crc/./node_modules/core-js-pure/internals/check-correctness-of-iteration.js","webpack://crc/./node_modules/core-js-pure/es/string/starts-with.js","webpack://crc/./node_modules/core-js-pure/modules/es.string.starts-with.js","webpack://crc/./node_modules/core-js-pure/es/array/flat-map.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.flat-map.js","webpack://crc/./node_modules/core-js-pure/internals/flatten-into-array.js","webpack://crc/./node_modules/core-js-pure/internals/does-not-exceed-safe-integer.js","webpack://crc/./node_modules/core-js-pure/modules/es.array.unscopables.flat-map.js","webpack://crc/./src/utils/activeTags.js","webpack://crc/./src/utils/performance.js","webpack://crc/./src/components/message/index.js","webpack://crc/./src/components/message/Message.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","hasOwnProperty","p","s","renderChildren","children","renderer","result","_i2","length","renderedChild","render","Array","isArray","_i4","subchild","push","ElementNode","props","type","onRender","this","_proto","prototype","el","FragmentNode","TextNode","text","ComponentNode","component","_proto4","renderComponent","child","normalizeChildren","normalizeChild","_i6","toString","_i8","_normalizeChildren2","TypeError","node","element","_len","arguments","_key","ELEMENT_DEFAULT_XML_NAMESPACE","_ELEMENT_DEFAULT_XML_","ATTRIBUTE_DEFAULT_XML_NAMESPACE","_ATTRIBUTE_DEFAULT_XM","createTextElement","doc","createTextNode","addProps","_Object$keys2","keys","prop","val","match","addEventListener","slice","toLowerCase","xmlNamespace","setAttributeNS","setAttribute","tagName","id","replace","charAt","Math","floor","random","ADD_CHILDREN","_ADD_CHILDREN","firstChild","Error","win","contentWindow","document","docElement","documentElement","removeChild","dom","appendChild","_node$renderChildren2","addChildren","html","ELEMENT_PROP","innerHTML","window","_el$querySelectorAll2","querySelectorAll","script","parentNode","newScript","createElement","textContent","replaceChild","fixScripts","opts","_opts$doc","domRenderer","xmlNamespaceDomRenderer","childNode","createElementNS","createElementWithXMLNamespace","SELF_CLOSING_TAGS","br","htmlEncode","htmlRenderer","concat","join","renderedProps","filter","map","renderedChildren","COUNTRY","AD","AE","AG","AI","AL","AM","AN","AO","AR","AT","AU","AW","AZ","BA","BB","BE","BF","BG","BH","BI","BJ","BM","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CD","CG","CH","CI","CK","CL","CM","CN","CO","CR","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GI","GL","GM","GN","GP","GR","GT","GW","GY","HK","HN","HR","HU","ID","IE","IL","IN","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KY","KZ","LA","LC","LI","LK","LS","LT","LU","LV","MA","MC","MD","ME","MG","MH","MK","ML","MN","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PL","PM","PN","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","ST","SV","SZ","TC","TD","TG","TH","TJ","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","VA","VC","VE","VG","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW","LANG","CS","DA","EL","EN","HE","JA","KO","SQ","TL","VI","ZH","ZH_HANT","COUNTRY_LANGS","INTENT","CAPTURE","AUTHORIZE","ORDER","TOKENIZE","SUBSCRIPTION","SDK_SETTINGS","NAMESPACE","CLIENT_TOKEN","MERCHANT_ID","PARTNER_ATTRIBUTION_ID","STAGE_HOST","API_STAGE_HOST","CSP_NONCE","ENABLE_3DS","SDK_INTEGRATION_SOURCE","USER_ID_TOKEN","AMOUNT","CLIENT_METADATA_ID","PAGE_TYPE","USER_EXPERIENCE_FLOW","POPUPS_DISABLED","SDK_TOKEN","SDK_QUERY_KEYS","COMPONENTS","ENV","DEBUG","CACHEBUST","CLIENT_ID","LOCALE","CURRENCY","COMMIT","VAULT","BUYER_COUNTRY","ENABLE_FUNDING","DISABLE_FUNDING","DISABLE_CARD","INTEGRATION_DATE","STAGE_ALIAS","CDN_REGISTRY","VERSION","QUERY_BOOL","TRUE","FALSE","UNKNOWN","PROTOCOL","HTTP","HTTPS","PAGE_TYPES","HOME","PRODUCT","CART","CHECKOUT","PRODUCT_LISTING","SEARCH_RESULTS","PRODUCT_DETAILS","MINI_CART","DEFAULT_CURRENCY","DEFAULT_INTENT","DEFAULT_SALE_COMMIT","DEFAULT_NONSALE_COMMIT","DEFAULT_VAULT","LOCAL","STAGE","SANDBOX","PRODUCTION","TEST","FPTI_KEY","FEED","STATE","EVENT_NAME","TRANSITION","PAGE","BUTTON_TYPE","SESSION_UID","BUTTON_SESSION_UID","TOKEN","CONTEXT_ID","CONTEXT_TYPE","REFERER","MERCHANT_DOMAIN","PAY_ID","SELLER_ID","DATA_SOURCE","BUTTON_SOURCE","ERROR_CODE","ERROR_DESC","PAGE_LOAD_TIME","EXPERIMENT_EXPERIENCE","EXPERIMENT_TREATMENT","EXPERIMENT_NAME","TREATMENT_NAME","TRANSITION_TIME","FUNDING_LIST","FUNDING_COUNT","CHOSEN_FUNDING","BUTTON_LAYOUT","INTEGRATION_IDENTIFIER","SDK_NAME","SDK_VERSION","SDK_ENVIRONMENT","MOBILE_APP_VERSION","MOBILE_BUNDLE_IDENTIFIER","USER_AGENT","USER_ACTION","CONTEXT_CORRID","SDK_CACHE","SDK_LOAD_TIME","IS_VAULT","RESPONSE_DURATION","PAYMENT_FLOW","BUTTON_VERSION","FI_LIST","FI_ID","CHOSEN_FI_TYPE","SELECTED_FI","POTENTIAL_PAYMENT_METHODS","PAY_NOW","STICKINESS_ID","TIMESTAMP","OPTION_SELECTED","USER_IDENTITY_METHOD","FIELDS_COMPONENT_SESSION_ID","CPL_COMP_METRICS","CPL_CHUNK_METRICS","CPL_QUERY_METRICS","FPTI_USER_ACTION","CONTINUE","FPTI_DATA_SOURCE","PAYMENTS_SDK","FPTI_FEED","FPTI_SDK_NAME","CARD","VISA","MASTERCARD","AMEX","DISCOVER","HIPER","ELO","JCB","CUP","PLATFORM","DESKTOP","MOBILE","_extends","assign","target","source","apply","getUserAgent","navigator","mockUserAgent","userAgent","isDevice","isIosWebview","ua","test","isIos","isGoogleSearchApp","isAndroidWebview","isAndroid","isOperaMini","isIE","documentMode","Boolean","isIEIntranet","status","err","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_construct","Parent","args","Class","isNativeReflectConstruct","a","instance","Function","_wrapNativeSuper","_cache","Map","undefined","indexOf","has","set","Wrapper","constructor","writable","configurable","objectIDs","ATTRIBUTES","UID","getFunctionName","fn","__name__","displayName","setFunctionName","base64encode","str","btoa","encodeURIComponent","p1","String","fromCharCode","parseInt","Buffer","from","base64decode","atob","decodeURIComponent","charCodeAt","uniqueID","chars","toISOString","getGlobal","global","__GLOBAL__","serializeArgs","JSON","stringify","subkey","obj","WeakMap","uid","getObjectID","passed","Element","nodeType","style","ownerDocument","_","isElement","getEmptyObject","memoizeGlobalIndex","memoizeGlobalIndexValidFrom","memoize","method","options","simpleCache","thisCache","_options$thisNamespac","thisNamespace","cacheTime","time","memoizeIndex","memoizedFunction","cache","cacheKey","getOrSet","_unused","cacheResult","now","reset","inlineMemoize","logic","__inline_memoize_cache__","noop","stringifyError","level","stack","message","newErr","stringifyErrorMessage","defaultMessage","values","svgToBase64","svg","objFilter","promiseDebounce","delay","promise","timeout","clearTimeout","localPromise","ZalgoPromise","setTimeout","try","then","resolve","reject","safeInterval","loop","cancel","eventEmitter","triggered","handlers","emitter","on","eventName","handler","handlerList","cancelled","splice","once","listener","trigger","_len3","_key3","promises","_loop","all","triggerOnce","_len4","_key4","capitalizeFirstLetter","string","toUpperCase","debounce","_arguments3","_this3","clear","_ExtendableError","ExtendableError","_Error","_this6","captureStackTrace","self","ReferenceError","_assertThisInitialized","_inheritsLoose","isDocumentReady","body","readyState","isDocumentInteractive","urlEncode","waitForWindowReady","parseQuery","queryString","params","_queryString$split2","split","pair","extendQuery","originalQuery","extendUrl","url","originalUrl","originalHash","query","hash","_url$split","_originalUrl$split","hashString","getPerformance","performance","timing","connectEnd","navigationStart","abs","isBrowser","location","getScript","_ref","_ref$host","host","path","_ref$reverse","reverse","scripts","getElementsByTagName","src","isLocalStorageEnabled","localStorage","setItem","getItem","removeItem","getBrowserLocales","nav","locales","languages","language","userLanguage","locale","_locale$split","country","lang","destroyElement","getResourceLoadTime","getEntries","entries","entry","duration","interval","setInterval","clearInterval","currentScript","getCurrentScript","getStackTrace","stackDetails","exec","scriptLocation","_i22","_Array$prototype$slic2","inferCurrentScript","currentUID","getCurrentScriptUID","getAttribute","hashedString","total","strHashStr","dataset","getStorage","_ref$lifetime","lifetime","stickySessionId","accessedStorage","STORAGE_KEY","newStateID","getState","storage","localStorageEnabled","rawStorage","parse","getID","getSession","session","__session__","created","guid","isStateFresh","getSessionState","state","getSessionID","getBelterExperimentStorage","isEventUnique","loggedBeacons","getRandomInteger","range","experiment","group","_ref$sample","sample","_ref$logTreatment","logTreatment","_ref$logCheckpoint","logCheckpoint","_ref$sticky","sticky","throttle","throttlePercentiles","getThrottlePercentile","treatment","started","forced","exp","isEnabled","isDisabled","getTreatment","log","checkpoint","payload","logStart","logComplete","headerBuilders","request","_ref$method","_ref$headers","headers","json","data","_ref$win","_ref$timeout","normalizedHeaders","builtHeaders","headerBuilder","_Object$keys4","xhr","XMLHttpRequest","responseHeaders","rawHeaders","_rawHeaders$trim$spli2","trim","_line$split","parseHeaders","getAllResponseHeaders","contentType","isJSON","responseBody","responseText","evt","open","setRequestHeader","ontimeout","send","isPromise","item","Promise","Window","flushPromise","dispatchedErrors","possiblyUnhandledPromiseHandlers","activeCount","flushActive","startActive","endActive","_this","resolved","rejected","errorHandled","error","dispatching","isAsync","res","dispatch","_this2","j","dispatchPossiblyUnhandledError","asyncReject","chain","firstPromise","secondPromise","_handlers$i","onSuccess","onError","promiseResult","catch","finally","onFinally","toPromise","lazy","count","results","prom","awaitPromises","items","onPossiblyUnhandledException","context","flush","_objectWithoutPropertiesLoose","excluded","sourceKeys","IE_WIN_ACCESS_ERROR","getActualProtocol","protocol","getProtocol","mockDomain","isAboutProtocol","canReadFromWindow","getActualDomain","parent","getParent","getDomain","domain","isSameDomain","desc","getOwnPropertyDescriptor","isMockProtocol","isActuallySameDomain","assertSameDomain","iframeWindows","iframeFrames","isWindowClosed","allowMock","closed","mockclosed","top","iframeIndex","collection","safeIndexOf","frame","contains","isFrameWindowClosed","linkFrameWindow","cleanIframes","isWindow","__cross_domain_utils_window_check__","isCurrentDomain","NATIVE_BIND","require","FunctionPrototype","uncurryThisWithBind","$documentAll","documentAll","IS_HTMLDDA","argument","shared","hasOwn","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","OFFER","PAY_LATER_LONG_TERM","PAY_LATER_SHORT_TERM","PAY_LATER_PAY_IN_1","PAYPAL_CREDIT_INSTALLMENTS","PAYPAL_CREDIT_NO_INTEREST","TAG","MESSAGE","MODAL","TREATEMENTS","fails","uncurryThis","isCallable","f","isForced","createNonEnumerableProperty","wrapConstructor","NativeConstructor","b","FORCED","USE_NATIVE","VIRTUAL_PROTOTYPE","sourceProperty","targetProperty","nativeProperty","resultProperty","descriptor","TARGET","GLOBAL","STATIC","stat","PROTO","proto","nativeSource","targetPrototype","dontCallGetSet","wrap","real","check","it","globalThis","getSDKScript","errorString","buildScriptNotFoundError","__SDK_HOST__","__PATH__","_sdkScript$attributes2","attributes","attr","getLogger","loggerUrl","__PAYPAL_DOMAIN__","Logger","asyncGeneratorStep","gen","_next","_throw","arg","info","done","FRAUDNET_URL","_FRAUDNET_URL","_ref3","env","cspNonce","_ref3$queryStringPara","queryStringParams","_ref$cspNonce","clientMetadataID","appName","_document$body","config","io","cb1","sandbox","configScript","createConfigScript","_collect","fraudnetPromise","_ref2","_ref2$queryStringPara","_document$body2","fraudnetScript","fraudnetUrl","fnCallback","createFraudnetScript","warn","collect","PAYPAL","asyncData","clientID","basicAuth","__PAYPAL_API_DOMAIN__","Authorization","grant_type","access_token","getDisableSetCookie","getNamespace","_getScript","querySelector","getLibraryVersion","__MESSAGES__","isZoidComponent","some","tag","startsWith","getBelterStorage","getOrCreateDeviceID","isScriptBeingDestroyed","getPayPalDomain","_window$__TEST_ENV__","testEnviroment","__TEST_ENV__","origin","__ENV__","partial","_len2","intialArgs","_key2","nextArgs","curry","arity","curried","_len5","_key5","toObject","isObject","$String","$TypeError","CrossDomainSafeWeakMap","weakmap","freeze","testWeakMap","testKey","hasNativeWeakMap","_cleanupClosedWindows","delete","isSafeToReadWrite","index","requireObjectCoercible","$Object","DESCRIPTORS","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","O","P","Attributes","current","stringSlice","IndexedObject","definePropertyModule","createPropertyDescriptor","toLength","_setPrototypeOf","aCallable","that","getBuiltIn","isNullOrUndefined","tryToString","aFunction","variable","namespace","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","wellKnownSymbol","CORRECT_ARGUMENTS","tryGet","callee","createState","initialState","objectAssign","_temp","_ref4","withCredentials","xhttp","onreadystatechange","reduce","accumulator","header","_extends2","_header$trim$split","stringIncludes","objectEntries","forEach","_ref5","parseObjFromEncoding","encodedStr","binary","bytes","Uint8Array","decodedStr","Uint16Array","buffer","createEvent","Event","event","initEvent","dynamicImport","getCurrentTime","getTime","getEventListenerPassiveOptionIfSupported","viewport","content","head","_viewport$getAttribut","_document$body$style$","_document$body$style$2","__pp_prev_content__","__pp_prev_overflow__","overflow","__pp_prev_msOverflowStyle__","msOverflowStyle","setProperty","passiveIfSupported","passive","getStandardProductOffer","offer","getTsCookieFromStorage","_getStorage$getState","_document$cookie$spli","_document$cookie$spli2","cookieVal","ts","cookie","find","cookieStr","fromEntries","URLSearchParams","ppDebug","inZoid","debugObj","search","console","bitmap","classof","subClass","superClass","LOG_LEVEL","INFO","WARN","ERROR","AUTO_FLUSH_LEVEL","LOG_LEVEL_PRIORITY","DEFAULT_LOG_LEVEL","extendIfDefined","prefix","_ref$logLevel","logLevel","_ref$transport","transport","_ref$enableSendBeacon","enableSendBeacon","httpWindow","beaconResult","hasHeaders","sendBeacon","Blob","canUseSendBeacon","_ref2$win","_ref2$useBlob","useBlob","blob","_ref$flushInterval","flushInterval","events","tracking","metrics","payloadBuilders","metaBuilders","trackingBuilders","print","warning","immediateFlush","meta","builder","logger","logPayload","timestamp","enqueue","addBuilder","builders","debug","track","trackingPayload","metric","metricPayload","metricNamespace","dimensions","addPayloadBuilder","addMetaBuilder","addTrackingBuilder","addHeaderBuilder","setTransport","newTransport","configure","__buffer__","getWindowFromElement","_node$ownerDocument","defaultView","HTMLElement","nodeName","container","className","getElementsByClassName","elem","insertBefore","span","appendImage","alt","srcset","logo","Image","_url$dimensions","width","height","svgWrapper","canvas","elementContains","parentEl","childEl","Node","ELEMENT_NODE","parentBounds","left","bottom","innerHeight","right","innerWidth","getBoundingClientRect","childBounds","elementOutside","getRoot","baseElement","elementWindow","domPath","_el","offsetHeight","biggestEl","computedRoot","arrayFind","elements","_elements","root","internalObjectKeys","enumBugKeys","$propertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","toPrimitive","isSymbol","func","defineGlobalProperty","store","trunc","number","sharedKey","CORRECT_PROTOTYPE_GETTER","IE_PROTO","ObjectPrototype","NATIVE_WEAK_MAP","hiddenKeys","metadata","facade","enforce","getterFor","TYPE","postfix","activeXDocument","definePropertiesModule","documentCreateElement","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","close","temp","parentWindow","NullProtoObject","ActiveXObject","iframeDocument","iframe","display","F","Properties","SET_METHOD","getMethod","Iterators","ITERATOR","isPrototypeOf","$","IS_PURE","FunctionName","createIteratorConstructor","setToStringTag","defineBuiltIn","IteratorsCore","PROPER_FUNCTION_NAME","PROPER","CONFIGURABLE_FUNCTION_NAME","CONFIGURABLE","IteratorPrototype","BUGGY_SAFARI_ITERATORS","returnThis","Iterable","NAME","IteratorConstructor","next","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","KEY","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","propertyIsEnumerableModule","toIndexedObject","$Symbol","iterator","V8_VERSION","getOwnPropertySymbols","symbol","version","copyright","license","EXISTS","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","fromIndex","includes","toIntegerOrInfinity","min","arraySpeciesCreate","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","callbackfn","specificCreate","boundFunction","every","findIndex","filterReject","arraySpeciesConstructor","originalArray","inspectSource","empty","constructorRegExp","INCORRECT_TO_STRING","isConstructorModern","isConstructorLegacy","called","isRegExp","MATCH","METHOD_NAME","regexp","error1","error2","PrototypeOfArrayIteratorPrototype","arrayIterator","names","max","integer","InternalStateModule","defineIterator","createIterResultObject","setInternalState","getInternalState","iterated","point","kind","innerResult","innerError","ArrayPrototype","propertyKey","getIteratorMethod","usingIterator","iteratorMethod","ordinaryToPrimitive","TO_PRIMITIVE","input","pref","exoticToPrim","process","Deno","versions","v8","valueOf","replacement","feature","detection","normalize","POLYFILL","NATIVE","objectKeys","getOwnPropertySymbolsModule","$assign","A","B","chr","T","argumentsLength","S","ceil","x","entryUnbind","$find","addToUnscopables","SKIPS_HOLES","isConstructor","SPECIES","$Array","C","functionToString","$includes","notARegExp","correctIsRegExpLogic","stringIndexOf","searchString","$entries","objectGetPrototypeOf","IE_BUG","TO_ENTRIES","IE_WORKAROUND","CONVERT_TO_STRING","pos","first","second","position","size","codeAt","getDescriptor","ENUMERABLE_NEXT","defineProperties","uncurryThisAccessor","aPossiblePrototype","setter","CORRECT_SETTER","checkCorrectnessOfIteration","iterable","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIterator","arrayLike","IS_CONSTRUCTOR","mapfn","mapping","step","iteratorClose","ENTRIES","SAFE_CLOSING","iteratorWithReturn","SKIP_CLOSING","ITERATION_SUPPORT","nativeStartsWith","CORRECT_IS_REGEXP_LOGIC","flattenIntoArray","flatMap","sourceLen","doesNotExceedSafeInteger","original","start","depth","mapper","thisArg","targetIndex","sourceIndex","mapFn","getTagSize","classList","visibleElement","arrayFrom","getComputedStyle","getPropertyValue","getActiveTags","subHeadline","disclaimer","getRequestDuration","validateMetric","requests","entryType","_ref2$","requestStart","responseStart","setupMessage","_window$xprops$amount","_window$xprops$curren","_window$xprops$buyerC","_window$xprops$ignore","_window$xprops$offer","_window$xprops$payerI","_window$xprops$client","_window$xprops$mercha","_window$xprops$mercha2","_window$xprops$disabl","_window$xprops$featur","_window$xprops$style","markup","parentStyles","warnings","_window$xprops","xprops","onClick","onReady","onHover","onMarkup","onProps","resize","messageRequestId","dimensionsRef","_createState","amount","currency","buyerCountry","ignoreCache","payerId","clientId","merchantId","merchantConfigHash","disableSetCookie","features","setProps","_createState2","serverData","setServerData","handleHover","button","background","padding","border","outline","textAlign","align","fontFamily","fontSize","activeTags","requestDuration","styles","focus","stageTag","channel","treatmentsHash","newMessageRequestId","message_request_id","buyer_country","ignore_cache","credit_type","payer_id","client_id","merchant_id","merchant_config","deviceID","treatments","acc","_data$markup","_data$parentStyles3","_data$warnings3","_data$markup3","_data$meta3","resData","encodedData","_data$meta","_data$parentStyles","_data$warnings","_data$markup2","_data$meta2","_data$parentStyles2","_data$warnings2","buttonWidth","offsetWidth","buttonHeight","createMessage"],"mappings":"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AAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GAAK,KACLC,GA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","file":"smart-credit-message.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 210);\n","/* @flow */\n\nimport { NODE_TYPE } from './constants';\n\nexport type NodePropsType = {\n    [string] : any // eslint-disable-line flowtype/no-weak-types\n};\n\nexport type EmptyProps = {||};\n\nexport type NodeRenderer<N, O> = (N) => O;\nexport type NodeRendererFactory<L, N, O> = (L) => NodeRenderer<N, O>;\n\ntype Primitive = string | boolean | number;\ntype NullablePrimitive = Primitive | null | void;\n\nexport type NodeType = ElementNode | TextNode | FragmentNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildNodeType = ElementNode | TextNode | ComponentNode<*>; // eslint-disable-line no-use-before-define\nexport type ChildType = ChildNodeType | Primitive | $ReadOnlyArray<ChildType>;\nexport type ChildrenType = $ReadOnlyArray<ChildNodeType>;\nexport type NullableChildType = $ReadOnlyArray<ChildType> | ChildNodeType | NullablePrimitive;\nexport type NullableChildrenType = $ReadOnlyArray<NullableChildrenType | ChildNodeType | NullablePrimitive>;\n\nexport type ComponentFunctionType<P> = (P, ChildrenType) => NullableChildType;\n\nexport type CreateElementNode = <P>(string, P, ...NullableChildrenType) => ElementNode; // eslint-disable-line no-undef, no-use-before-define\nexport type CreateComponentNode = <P>(ComponentFunctionType<P>, P, ...NullableChildrenType) => ComponentNode<*>; // eslint-disable-line no-undef, no-use-before-define\nexport type CreateNullComponentNode = <P>(ComponentFunctionType<P>, null, ...NullableChildrenType) => ComponentNode<*>; // eslint-disable-line no-undef, no-use-before-define\n\nexport type CreateNode = CreateNullComponentNode & CreateComponentNode & CreateElementNode;\n\nfunction renderChildren<T>(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>, renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> { // eslint-disable-line no-use-before-define\n    const result = [];\n\n    for (const child of children) {\n        const renderedChild = child.render(renderer);\n\n        if (!renderedChild) {\n            continue;\n        } else if (Array.isArray(renderedChild)) {\n            for (const subchild of renderedChild) {\n                if (subchild) {\n                    result.push(subchild);\n                }\n            }\n        } else {\n            result.push(renderedChild);\n        }\n    }\n\n    return result;\n}\n\nexport class ElementNode {\n    type : (typeof NODE_TYPE.ELEMENT) = NODE_TYPE.ELEMENT;\n\n    name : string;\n    props : NodePropsType;\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>; // eslint-disable-line no-use-before-define\n    onRender : ?<T>(T) => void; // eslint-disable-line no-undef\n\n    constructor(name : string, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.name = name;\n        this.props = props || {};\n        this.children = children;\n\n        const onRender = this.props.onRender;\n        if (typeof onRender === 'function') {\n            this.onRender = onRender;\n            delete props.onRender;\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        const el = renderer(this);\n        if (this.onRender) {\n            this.onRender(el);\n        }\n        return el;\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class FragmentNode {\n    type : (typeof NODE_TYPE.FRAGMENT) = NODE_TYPE.FRAGMENT;\n\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>; // eslint-disable-line no-use-before-define\n\n    constructor(children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) { // eslint-disable-line no-use-before-define\n        this.children = children;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nexport class TextNode {\n    type : (typeof NODE_TYPE.TEXT) = NODE_TYPE.TEXT;\n\n    text : string;\n\n    constructor(text : string) {\n        this.text = text;\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nexport class ComponentNode<P = null> {\n    type : (typeof NODE_TYPE.COMPONENT) = NODE_TYPE.COMPONENT;\n\n    component : ComponentFunctionType<NodePropsType>;\n    props : NodePropsType;\n    // eslint-disable-next-line no-use-before-define\n    children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>;\n\n    constructor(component : ComponentFunctionType<NodePropsType>, props : NodePropsType, children : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>>) {\n        this.component = component;\n        this.props = props || {};\n        this.children = children;\n\n        this.props.children = children;\n    }\n\n    renderComponent(renderer : NodeRenderer<*, *>) : * {\n        const child = normalizeChild(this.component(this.props, this.children)); // eslint-disable-line no-use-before-define\n        if (child) {\n            return child.render(renderer);\n        }\n    }\n\n    render<T>(renderer : NodeRenderer<*, *>) : T {\n        return renderer(this);\n    }\n\n    renderChildren<T>(renderer : NodeRenderer<*, *>) : $ReadOnlyArray<T> {\n        return renderChildren(this.children, renderer);\n    }\n}\n\nfunction normalizeChildren(children : NullableChildrenType) : $ReadOnlyArray<ElementNode | TextNode | ComponentNode<*>> {\n    const result = [];\n\n    for (const child of children) {\n        if (!child) {\n            continue;\n        } else if (typeof child === 'string' || typeof child === 'number') {\n            result.push(new TextNode(child.toString()));\n        } else if (typeof child === 'boolean') {\n            continue;\n        } else if (Array.isArray(child)) {\n            for (const subchild of normalizeChildren(child)) {\n                result.push(subchild);\n            }\n        } else if (child && (child.type === NODE_TYPE.ELEMENT || child.type === NODE_TYPE.TEXT || child.type === NODE_TYPE.COMPONENT)) {\n            result.push(child);\n        } else {\n            throw new TypeError(`Unrecognized node type: ${ typeof child }`);\n        }\n    }\n\n    return result;\n}\n\nfunction normalizeChild(child) : ElementNode | TextNode | ComponentNode<*> | FragmentNode | void {\n    const children = normalizeChildren(Array.isArray(child) ? child : [ child ]);\n\n    if (children.length === 1) {\n        return children[0];\n    } else if (children.length > 1) {\n        return new FragmentNode(children);\n    }\n}\n\nexport const node : CreateNode = <P>(element, props : P, ...children) => {\n    children = normalizeChildren(children);\n\n    if (typeof element === 'string') {\n        // $FlowFixMe\n        return new ElementNode(element, props, children);\n    }\n\n    if (typeof element === 'function') {\n        // $FlowFixMe\n        return new ComponentNode<*>(element, props, children);\n    }\n\n    throw new TypeError(`Expected jsx element to be a string or a function`);\n};\n\nexport const Fragment : ComponentFunctionType<null> = (props, children) => {\n    return children;\n};\n","/* @flow */\n\nexport const NODE_TYPE = {\n    ELEMENT:   ('element' : 'element'),\n    TEXT:      ('text' : 'text'),\n    COMPONENT: ('component' : 'component'),\n    FRAGMENT:  ('fragment' : 'fragment')\n};\n","/* @flow */\n\nimport { ComponentNode, TextNode, type NodeRenderer, ElementNode } from '../node';\nimport { NODE_TYPE } from '../constants';\nimport { uniqueID } from '../util';\n\ntype DomNodeRenderer = NodeRenderer<ElementNode, HTMLElement>;\ntype DomTextRenderer = NodeRenderer<TextNode, Text>;\ntype DomComponentRenderer = NodeRenderer<ComponentNode<*>, HTMLElement | TextNode | $ReadOnlyArray<HTMLElement | TextNode> | void>;\ntype DomRenderer = DomComponentRenderer & DomNodeRenderer & DomTextRenderer;\n\nconst ELEMENT_TAG = {\n    HTML:    'html',\n    IFRAME:  'iframe',\n    SCRIPT:  'script',\n    SVG:     'svg',\n    DEFAULT: 'default'\n};\n\nconst ELEMENT_PROP = {\n    ID:         'id',\n    INNER_HTML: 'innerHTML',\n    EL:         'el',\n    XLINK_HREF: 'xlink:href'\n};\n\nconst ELEMENT_DEFAULT_XML_NAMESPACE : {| [$Values<typeof ELEMENT_TAG>] : string |} = {\n    [ ELEMENT_TAG.SVG ]: 'http://www.w3.org/2000/svg'\n};\n\nconst ATTRIBUTE_DEFAULT_XML_NAMESPACE : {| [$Values<typeof ELEMENT_PROP>] : string |} = {\n    [ ELEMENT_PROP.XLINK_HREF ]: 'http://www.w3.org/1999/xlink'\n};\n\nfunction fixScripts(el : HTMLElement | Element, doc : Document = window.document) {\n    for (const script of el.querySelectorAll('script')) {\n        const parentNode = script.parentNode;\n\n        if (!parentNode) {\n            continue;\n        }\n\n        const newScript = doc.createElement('script');\n        newScript.text = script.textContent;\n        parentNode.replaceChild(newScript, script);\n    }\n}\n\nfunction createElement(doc : Document, node : ElementNode) : HTMLElement | Element {\n    if (node.props[ELEMENT_PROP.EL]) {\n        return node.props[ELEMENT_PROP.EL];\n    } else {\n        return doc.createElement(node.name);\n    }\n}\n\nfunction createElementWithXMLNamespace(doc : Document, node : ElementNode, xmlNamespace : string) : HTMLElement | Element {\n    return doc.createElementNS(xmlNamespace, node.name);\n}\n\nfunction createTextElement(doc : Document, node : TextNode) : Text {\n    return doc.createTextNode(node.text);\n}\n\nfunction addProps(el : HTMLElement | Element, node) {\n    const props = node.props;\n\n    for (const prop of Object.keys(props)) {\n        const val = props[prop];\n\n        if (val === null || typeof val === 'undefined' || prop === ELEMENT_PROP.EL || prop === ELEMENT_PROP.INNER_HTML) {\n            continue;\n        }\n\n        if (prop.match(/^on[A-Z][a-z]/) && typeof val === 'function') {\n            el.addEventListener(prop.slice(2).toLowerCase(), val);\n        } else if (typeof val === 'string' || typeof val === 'number') {\n            const xmlNamespace = ATTRIBUTE_DEFAULT_XML_NAMESPACE[prop];\n            if (xmlNamespace) {\n                el.setAttributeNS(xmlNamespace, prop, val.toString());\n            } else {\n                el.setAttribute(prop, val.toString());\n            }\n        } else if (typeof val === 'boolean') {\n            if (val === true) {\n                el.setAttribute(prop, '');\n            }\n        }\n    }\n\n    if (el.tagName.toLowerCase() === ELEMENT_TAG.IFRAME && !props.id) {\n        el.setAttribute(ELEMENT_PROP.ID, `jsx-iframe-${ uniqueID() }`);\n    }\n}\nconst ADD_CHILDREN : { [string] : (HTMLElement | Element, ElementNode, DomNodeRenderer) => void } = {\n\n    [ ELEMENT_TAG.IFRAME ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.ELEMENT) || firstChild.name !== ELEMENT_TAG.HTML) {\n            throw new Error(`Expected only single html element node as child of ${ ELEMENT_TAG.IFRAME } element`);\n        }\n    \n        el.addEventListener('load', () => {\n\n            // $FlowFixMe\n            const win = el.contentWindow;\n    \n            if (!win) {\n                throw new Error(`Expected frame to have contentWindow`);\n            }\n\n            const doc = win.document;\n            const docElement = doc.documentElement;\n\n            while (docElement.children && docElement.children.length) {\n                docElement.removeChild(docElement.children[0]);\n            }\n\n            // eslint-disable-next-line no-use-before-define\n            const child : HTMLElement = firstChild.render(dom({ doc }));\n        \n            while (child.children.length) {\n                docElement.appendChild(child.children[0]);\n            }\n        });\n    },\n\n    [ ELEMENT_TAG.SCRIPT ]: (el, node) => {\n        const firstChild = node.children[0];\n\n        if (node.children.length !== 1 || !(firstChild && firstChild.type === NODE_TYPE.TEXT)) {\n            throw new Error(`Expected only single text node as child of ${ ELEMENT_TAG.SCRIPT } element`);\n        }\n        \n        // $FlowFixMe\n        el.text = firstChild.text;\n    },\n\n    [ ELEMENT_TAG.DEFAULT ]: (el, node, renderer) => {\n        for (const child of node.renderChildren(renderer)) {\n            el.appendChild(child);\n        }\n    }\n};\n\nfunction addChildren(el : HTMLElement | Element, node : ElementNode, doc : Document, renderer : DomNodeRenderer) {\n    if (node.props.hasOwnProperty(ELEMENT_PROP.INNER_HTML)) {\n\n        if (node.children.length) {\n            throw new Error(`Expected no children to be passed when ${ ELEMENT_PROP.INNER_HTML } prop is set`);\n        }\n\n        const html = node.props[ELEMENT_PROP.INNER_HTML];\n\n        if (typeof html !== 'string') {\n            throw new TypeError(`${ ELEMENT_PROP.INNER_HTML } prop must be string`);\n        }\n\n        if (node.name === ELEMENT_TAG.SCRIPT) {\n            // $FlowFixMe\n            el.text = html;\n        } else {\n            el.innerHTML = html;\n            fixScripts(el, doc);\n        }\n\n    } else {\n        const addChildrenToElement = ADD_CHILDREN[node.name] || ADD_CHILDREN[ELEMENT_TAG.DEFAULT];\n        addChildrenToElement(el, node, renderer);\n    }\n}\n\ntype DomOptions = {|\n    doc? : Document\n|};\n\nconst getDefaultDomOptions = () : DomOptions => {\n    // $FlowFixMe\n    return {};\n};\n\nexport function dom(opts? : DomOptions = getDefaultDomOptions()) : DomRenderer {\n    const { doc = document } = opts;\n    \n    const xmlNamespaceDomRenderer = (node : ElementNode, xmlNamespace : string) : HTMLElement => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(childNode => xmlNamespaceDomRenderer(childNode, xmlNamespace));\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const el = createElementWithXMLNamespace(doc, node, xmlNamespace);\n            addProps(el, node);\n            addChildren(el, node, doc, childNode => xmlNamespaceDomRenderer(childNode, xmlNamespace));\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n    \n    const domRenderer : DomRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return node.renderComponent(domRenderer);\n        }\n        \n        if (node.type === NODE_TYPE.TEXT) {\n            // $FlowFixMe\n            return createTextElement(doc, node);\n        }\n        \n        if (node.type === NODE_TYPE.ELEMENT) {\n            const xmlNamespace = ELEMENT_DEFAULT_XML_NAMESPACE[node.name.toLowerCase()];\n\n            if (xmlNamespace) {\n                // $FlowFixMe\n                return xmlNamespaceDomRenderer(node, xmlNamespace);\n            }\n\n            const el = createElement(doc, node);\n            addProps(el, node);\n            addChildren(el, node, doc, domRenderer);\n            // $FlowFixMe\n            return el;\n        }\n\n        throw new TypeError(`Unhandleable node`);\n    };\n\n    return domRenderer;\n}\n","/* @flow */\n\nconst ALPHA_CHARS = '0123456789abcdef';\n\nexport function uniqueID() : string {\n    return 'xxxxxxxxxx'.replace(/./g, () => ALPHA_CHARS.charAt(Math.floor(Math.random() * ALPHA_CHARS.length)));\n}\n\n// eslint-disable-next-line flowtype/no-weak-types\nexport function isDefined(val : any) : boolean %checks {\n    return (val !== null && typeof val !== 'undefined');\n}\n","/* @flow */\n/* eslint unicorn/prefer-spread: off */\n\nimport { ComponentNode, TextNode, ElementNode, type NodePropsType, type NodeRenderer } from '../node';\nimport { NODE_TYPE } from '../constants';\n\ntype HTMLRenderer = NodeRenderer<ElementNode | TextNode | ComponentNode<*>, string>;\n\nconst ELEMENT_PROP = {\n    INNER_HTML: 'innerHTML'\n};\n\nconst SELF_CLOSING_TAGS = {\n    br: true\n};\n\nfunction htmlEncode(text : string) : string {\n    return text\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/\\//g, '&#x2F;');\n}\n\nfunction propsToHTML(props : NodePropsType) : string {\n    const keys = Object.keys(props).filter(key => {\n        const val = props[key];\n\n        if (key === ELEMENT_PROP.INNER_HTML) {\n            return false;\n        }\n\n        if (typeof val === 'string' || typeof val === 'number' || val === true) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!keys.length) {\n        return '';\n    }\n\n    const pairs = keys.map(key => {\n        const val = props[key];\n\n        if (val === true) {\n            return `${ htmlEncode(key) }`;\n        }\n\n        if (typeof val !== 'string' && typeof val !== 'number') {\n            throw new TypeError(`Unexpected prop type: ${ typeof val }`);\n        }\n\n        if (val === '') {\n            return htmlEncode(key);\n        }\n\n        return `${ htmlEncode(key) }=\"${ htmlEncode(val.toString()) }\"`;\n    });\n\n    return ` ${ pairs.join(' ') }`;\n}\n\nexport function html() : HTMLRenderer {\n\n    const htmlRenderer = (node) => {\n        if (node.type === NODE_TYPE.COMPONENT) {\n            return [].concat(node.renderComponent(htmlRenderer)).join('');\n        }\n\n        if (node.type === NODE_TYPE.ELEMENT) {\n            const renderedProps = propsToHTML(node.props);\n\n            if (SELF_CLOSING_TAGS[node.name]) {\n                return `<${ node.name }${ renderedProps } />`;\n            } else {\n                const renderedChildren = (typeof node.props[ELEMENT_PROP.INNER_HTML] === 'string')\n                    ? node.props[ELEMENT_PROP.INNER_HTML]\n                    : node.renderChildren(htmlRenderer).join('');\n\n                return `<${ node.name }${ renderedProps }>${ renderedChildren }</${ node.name }>`;\n            }\n        }\n\n        if (node.type === NODE_TYPE.TEXT) {\n            return htmlEncode(node.text);\n        }\n\n        throw new TypeError(`Unhandleable node: ${ node.type }`);\n    };\n\n    return htmlRenderer;\n}\n","/* @flow */\n/* eslint max-lines: 0 */\n\nexport const COUNTRY = {\n  AD: (\"AD\": \"AD\"),\n  AE: (\"AE\": \"AE\"),\n  AG: (\"AG\": \"AG\"),\n  AI: (\"AI\": \"AI\"),\n  AL: (\"AL\": \"AL\"),\n  AM: (\"AM\": \"AM\"),\n  AN: (\"AN\": \"AN\"),\n  AO: (\"AO\": \"AO\"),\n  AR: (\"AR\": \"AR\"),\n  AT: (\"AT\": \"AT\"),\n  AU: (\"AU\": \"AU\"),\n  AW: (\"AW\": \"AW\"),\n  AZ: (\"AZ\": \"AZ\"),\n  BA: (\"BA\": \"BA\"),\n  BB: (\"BB\": \"BB\"),\n  BE: (\"BE\": \"BE\"),\n  BF: (\"BF\": \"BF\"),\n  BG: (\"BG\": \"BG\"),\n  BH: (\"BH\": \"BH\"),\n  BI: (\"BI\": \"BI\"),\n  BJ: (\"BJ\": \"BJ\"),\n  BM: (\"BM\": \"BM\"),\n  BN: (\"BN\": \"BN\"),\n  BO: (\"BO\": \"BO\"),\n  BR: (\"BR\": \"BR\"),\n  BS: (\"BS\": \"BS\"),\n  BT: (\"BT\": \"BT\"),\n  BW: (\"BW\": \"BW\"),\n  BY: (\"BY\": \"BY\"),\n  BZ: (\"BZ\": \"BZ\"),\n  CA: (\"CA\": \"CA\"),\n  CD: (\"CD\": \"CD\"),\n  CG: (\"CG\": \"CG\"),\n  CH: (\"CH\": \"CH\"),\n  CI: (\"CI\": \"CI\"),\n  CK: (\"CK\": \"CK\"),\n  CL: (\"CL\": \"CL\"),\n  CM: (\"CM\": \"CM\"),\n  CN: (\"CN\": \"CN\"),\n  CO: (\"CO\": \"CO\"),\n  CR: (\"CR\": \"CR\"),\n  CV: (\"CV\": \"CV\"),\n  CY: (\"CY\": \"CY\"),\n  CZ: (\"CZ\": \"CZ\"),\n  DE: (\"DE\": \"DE\"),\n  DJ: (\"DJ\": \"DJ\"),\n  DK: (\"DK\": \"DK\"),\n  DM: (\"DM\": \"DM\"),\n  DO: (\"DO\": \"DO\"),\n  DZ: (\"DZ\": \"DZ\"),\n  EC: (\"EC\": \"EC\"),\n  EE: (\"EE\": \"EE\"),\n  EG: (\"EG\": \"EG\"),\n  ER: (\"ER\": \"ER\"),\n  ES: (\"ES\": \"ES\"),\n  ET: (\"ET\": \"ET\"),\n  FI: (\"FI\": \"FI\"),\n  FJ: (\"FJ\": \"FJ\"),\n  FK: (\"FK\": \"FK\"),\n  FM: (\"FM\": \"FM\"),\n  FO: (\"FO\": \"FO\"),\n  FR: (\"FR\": \"FR\"),\n  GA: (\"GA\": \"GA\"),\n  GB: (\"GB\": \"GB\"),\n  GD: (\"GD\": \"GD\"),\n  GE: (\"GE\": \"GE\"),\n  GF: (\"GF\": \"GF\"),\n  GI: (\"GI\": \"GI\"),\n  GL: (\"GL\": \"GL\"),\n  GM: (\"GM\": \"GM\"),\n  GN: (\"GN\": \"GN\"),\n  GP: (\"GP\": \"GP\"),\n  GR: (\"GR\": \"GR\"),\n  GT: (\"GT\": \"GT\"),\n  GW: (\"GW\": \"GW\"),\n  GY: (\"GY\": \"GY\"),\n  HK: (\"HK\": \"HK\"),\n  HN: (\"HN\": \"HN\"),\n  HR: (\"HR\": \"HR\"),\n  HU: (\"HU\": \"HU\"),\n  ID: (\"ID\": \"ID\"),\n  IE: (\"IE\": \"IE\"),\n  IL: (\"IL\": \"IL\"),\n  IN: (\"IN\": \"IN\"),\n  IS: (\"IS\": \"IS\"),\n  IT: (\"IT\": \"IT\"),\n  JM: (\"JM\": \"JM\"),\n  JO: (\"JO\": \"JO\"),\n  JP: (\"JP\": \"JP\"),\n  KE: (\"KE\": \"KE\"),\n  KG: (\"KG\": \"KG\"),\n  KH: (\"KH\": \"KH\"),\n  KI: (\"KI\": \"KI\"),\n  KM: (\"KM\": \"KM\"),\n  KN: (\"KN\": \"KN\"),\n  KR: (\"KR\": \"KR\"),\n  KW: (\"KW\": \"KW\"),\n  KY: (\"KY\": \"KY\"),\n  KZ: (\"KZ\": \"KZ\"),\n  LA: (\"LA\": \"LA\"),\n  LC: (\"LC\": \"LC\"),\n  LI: (\"LI\": \"LI\"),\n  LK: (\"LK\": \"LK\"),\n  LS: (\"LS\": \"LS\"),\n  LT: (\"LT\": \"LT\"),\n  LU: (\"LU\": \"LU\"),\n  LV: (\"LV\": \"LV\"),\n  MA: (\"MA\": \"MA\"),\n  MC: (\"MC\": \"MC\"),\n  MD: (\"MD\": \"MD\"),\n  ME: (\"ME\": \"ME\"),\n  MG: (\"MG\": \"MG\"),\n  MH: (\"MH\": \"MH\"),\n  MK: (\"MK\": \"MK\"),\n  ML: (\"ML\": \"ML\"),\n  MN: (\"MN\": \"MN\"),\n  MQ: (\"MQ\": \"MQ\"),\n  MR: (\"MR\": \"MR\"),\n  MS: (\"MS\": \"MS\"),\n  MT: (\"MT\": \"MT\"),\n  MU: (\"MU\": \"MU\"),\n  MV: (\"MV\": \"MV\"),\n  MW: (\"MW\": \"MW\"),\n  MX: (\"MX\": \"MX\"),\n  MY: (\"MY\": \"MY\"),\n  MZ: (\"MZ\": \"MZ\"),\n  NA: (\"NA\": \"NA\"),\n  NC: (\"NC\": \"NC\"),\n  NE: (\"NE\": \"NE\"),\n  NF: (\"NF\": \"NF\"),\n  NG: (\"NG\": \"NG\"),\n  NI: (\"NI\": \"NI\"),\n  NL: (\"NL\": \"NL\"),\n  NO: (\"NO\": \"NO\"),\n  NP: (\"NP\": \"NP\"),\n  NR: (\"NR\": \"NR\"),\n  NU: (\"NU\": \"NU\"),\n  NZ: (\"NZ\": \"NZ\"),\n  OM: (\"OM\": \"OM\"),\n  PA: (\"PA\": \"PA\"),\n  PE: (\"PE\": \"PE\"),\n  PF: (\"PF\": \"PF\"),\n  PG: (\"PG\": \"PG\"),\n  PH: (\"PH\": \"PH\"),\n  PL: (\"PL\": \"PL\"),\n  PM: (\"PM\": \"PM\"),\n  PN: (\"PN\": \"PN\"),\n  PT: (\"PT\": \"PT\"),\n  PW: (\"PW\": \"PW\"),\n  PY: (\"PY\": \"PY\"),\n  QA: (\"QA\": \"QA\"),\n  RE: (\"RE\": \"RE\"),\n  RO: (\"RO\": \"RO\"),\n  RS: (\"RS\": \"RS\"),\n  RU: (\"RU\": \"RU\"),\n  RW: (\"RW\": \"RW\"),\n  SA: (\"SA\": \"SA\"),\n  SB: (\"SB\": \"SB\"),\n  SC: (\"SC\": \"SC\"),\n  SE: (\"SE\": \"SE\"),\n  SG: (\"SG\": \"SG\"),\n  SH: (\"SH\": \"SH\"),\n  SI: (\"SI\": \"SI\"),\n  SJ: (\"SJ\": \"SJ\"),\n  SK: (\"SK\": \"SK\"),\n  SL: (\"SL\": \"SL\"),\n  SM: (\"SM\": \"SM\"),\n  SN: (\"SN\": \"SN\"),\n  SO: (\"SO\": \"SO\"),\n  SR: (\"SR\": \"SR\"),\n  ST: (\"ST\": \"ST\"),\n  SV: (\"SV\": \"SV\"),\n  SZ: (\"SZ\": \"SZ\"),\n  TC: (\"TC\": \"TC\"),\n  TD: (\"TD\": \"TD\"),\n  TG: (\"TG\": \"TG\"),\n  TH: (\"TH\": \"TH\"),\n  TJ: (\"TJ\": \"TJ\"),\n  TM: (\"TM\": \"TM\"),\n  TN: (\"TN\": \"TN\"),\n  TO: (\"TO\": \"TO\"),\n  TR: (\"TR\": \"TR\"),\n  TT: (\"TT\": \"TT\"),\n  TV: (\"TV\": \"TV\"),\n  TW: (\"TW\": \"TW\"),\n  TZ: (\"TZ\": \"TZ\"),\n  UA: (\"UA\": \"UA\"),\n  UG: (\"UG\": \"UG\"),\n  US: (\"US\": \"US\"),\n  UY: (\"UY\": \"UY\"),\n  VA: (\"VA\": \"VA\"),\n  VC: (\"VC\": \"VC\"),\n  VE: (\"VE\": \"VE\"),\n  VG: (\"VG\": \"VG\"),\n  VN: (\"VN\": \"VN\"),\n  VU: (\"VU\": \"VU\"),\n  WF: (\"WF\": \"WF\"),\n  WS: (\"WS\": \"WS\"),\n  YE: (\"YE\": \"YE\"),\n  YT: (\"YT\": \"YT\"),\n  ZA: (\"ZA\": \"ZA\"),\n  ZM: (\"ZM\": \"ZM\"),\n  ZW: (\"ZW\": \"ZW\"),\n};\n\nexport const LANG = {\n  AR: (\"ar\": \"ar\"),\n  BG: (\"bg\": \"bg\"),\n  CS: (\"cs\": \"cs\"),\n  DA: (\"da\": \"da\"),\n  DE: (\"de\": \"de\"),\n  EL: (\"el\": \"el\"),\n  EN: (\"en\": \"en\"),\n  ES: (\"es\": \"es\"),\n  ET: (\"et\": \"et\"),\n  FI: (\"fi\": \"fi\"),\n  FR: (\"fr\": \"fr\"),\n  HE: (\"he\": \"he\"),\n  HU: (\"hu\": \"hu\"),\n  ID: (\"id\": \"id\"),\n  IT: (\"it\": \"it\"),\n  JA: (\"ja\": \"ja\"),\n  KO: (\"ko\": \"ko\"),\n  LT: (\"lt\": \"lt\"),\n  LV: (\"lv\": \"lv\"),\n  MS: (\"ms\": \"ms\"),\n  NL: (\"nl\": \"nl\"),\n  NO: (\"no\": \"no\"),\n  PL: (\"pl\": \"pl\"),\n  PT: (\"pt\": \"pt\"),\n  RO: (\"ro\": \"ro\"),\n  RU: (\"ru\": \"ru\"),\n  SI: (\"si\": \"si\"),\n  SK: (\"sk\": \"sk\"),\n  SL: (\"sl\": \"sl\"),\n  SQ: (\"sq\": \"sq\"),\n  SV: (\"sv\": \"sv\"),\n  TH: (\"th\": \"th\"),\n  TL: (\"tl\": \"tl\"),\n  TR: (\"tr\": \"tr\"),\n  VI: (\"vi\": \"vi\"),\n  ZH: (\"zh\": \"zh\"),\n  ZH_HANT: (\"zh_Hant\": \"zh_Hant\"),\n};\n\nexport type CountryLangs = {|\n  AD: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AE: \"en\" | \"fr\" | \"es\" | \"zh\" | \"ar\",\n  AG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AI: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AL: \"sq\" | \"en\",\n  AM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AN: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AO: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AR: \"es\" | \"en\",\n  AT: \"de\" | \"en\",\n  AU: \"en\",\n  AW: \"en\" | \"fr\" | \"es\" | \"zh\",\n  AZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  BA: \"en\",\n  BB: \"en\" | \"fr\" | \"es\" | \"zh\",\n  BE: \"en\" | \"nl\" | \"fr\",\n  BF: \"fr\" | \"en\" | \"es\" | \"zh\",\n  BG: \"bg\" | \"en\",\n  BH: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  BI: \"fr\" | \"en\" | \"es\" | \"zh\",\n  BJ: \"fr\" | \"en\" | \"es\" | \"zh\",\n  BM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  BN: \"ms\" | \"en\",\n  BO: \"es\" | \"en\" | \"fr\" | \"zh\",\n  BR: \"pt\" | \"en\",\n  BS: \"en\" | \"fr\" | \"es\" | \"zh\",\n  BT: \"en\",\n  BW: \"en\" | \"fr\" | \"es\" | \"zh\",\n  BY: \"en\",\n  BZ: \"en\" | \"es\" | \"fr\" | \"zh\",\n  CA: \"en\" | \"fr\",\n  CD: \"fr\" | \"en\" | \"es\" | \"zh\",\n  CG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  CH: \"de\" | \"fr\" | \"en\",\n  CI: \"fr\" | \"en\",\n  CK: \"en\" | \"fr\" | \"es\" | \"zh\",\n  CL: \"es\" | \"en\" | \"fr\" | \"zh\",\n  CM: \"fr\" | \"en\",\n  CN: \"zh\",\n  CO: \"es\" | \"en\" | \"fr\" | \"zh\",\n  CR: \"es\" | \"en\" | \"fr\" | \"zh\",\n  CV: \"en\" | \"fr\" | \"es\" | \"zh\",\n  CY: \"en\",\n  CZ: \"cs\" | \"en\",\n  DE: \"de\" | \"en\",\n  DJ: \"fr\" | \"en\" | \"es\" | \"zh\",\n  DK: \"da\" | \"en\",\n  DM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  DO: \"es\" | \"en\" | \"fr\" | \"zh\",\n  DZ: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  EC: \"es\" | \"en\" | \"fr\" | \"zh\",\n  EE: \"et\" | \"en\" | \"ru\",\n  EG: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  ER: \"en\" | \"fr\" | \"es\" | \"zh\",\n  ES: \"es\" | \"en\",\n  ET: \"en\" | \"fr\" | \"es\" | \"zh\",\n  FI: \"fi\" | \"en\",\n  FJ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  FK: \"en\" | \"fr\" | \"es\" | \"zh\",\n  FM: \"en\",\n  FO: \"da\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  FR: \"fr\" | \"en\",\n  GA: \"fr\" | \"en\" | \"es\" | \"zh\",\n  GB: \"en\",\n  GD: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GE: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GF: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GI: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GL: \"da\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  GM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GN: \"fr\" | \"en\" | \"es\" | \"zh\",\n  GP: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GR: \"el\" | \"en\",\n  GT: \"es\" | \"en\" | \"fr\" | \"zh\",\n  GW: \"en\" | \"fr\" | \"es\" | \"zh\",\n  GY: \"en\" | \"fr\" | \"es\" | \"zh\",\n  HK: \"en\" | \"zh_Hant\",\n  HN: \"es\" | \"en\" | \"fr\" | \"zh\",\n  HR: \"en\",\n  HU: \"hu\" | \"en\",\n  ID: \"id\" | \"en\",\n  IE: \"en\" | \"fr\" | \"es\" | \"zh\",\n  IL: \"he\" | \"en\",\n  IN: \"en\",\n  IS: \"en\",\n  IT: \"it\" | \"en\",\n  JM: \"en\" | \"es\" | \"fr\" | \"zh\",\n  JO: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  JP: \"ja\" | \"en\",\n  KE: \"en\" | \"fr\" | \"es\" | \"zh\",\n  KG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  KH: \"en\",\n  KI: \"en\" | \"fr\" | \"es\" | \"zh\",\n  KM: \"fr\" | \"en\" | \"es\" | \"zh\",\n  KN: \"en\" | \"fr\" | \"es\" | \"zh\",\n  KR: \"ko\" | \"en\",\n  KW: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  KY: \"en\" | \"fr\" | \"es\" | \"zh\",\n  KZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  LA: \"en\",\n  LC: \"en\" | \"fr\" | \"es\" | \"zh\",\n  LI: \"en\" | \"fr\" | \"es\" | \"zh\",\n  LK: \"si\" | \"en\",\n  LS: \"en\" | \"fr\" | \"es\" | \"zh\",\n  LT: \"lt\" | \"en\" | \"ru\" | \"zh\",\n  LU: \"en\" | \"de\" | \"fr\" | \"es\" | \"zh\",\n  LV: \"lv\" | \"en\" | \"ru\",\n  MA: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  MC: \"fr\" | \"en\",\n  MD: \"en\",\n  ME: \"en\",\n  MG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MH: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MK: \"en\",\n  ML: \"fr\" | \"en\" | \"es\" | \"zh\",\n  MN: \"en\",\n  MQ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MR: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MS: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MT: \"en\",\n  MU: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MV: \"en\",\n  MW: \"en\" | \"fr\" | \"es\" | \"zh\",\n  MX: \"es\" | \"en\",\n  MY: \"ms\" | \"en\",\n  MZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NA: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NC: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NE: \"fr\" | \"en\" | \"es\" | \"zh\",\n  NF: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NG: \"en\",\n  NI: \"es\" | \"en\" | \"fr\" | \"zh\",\n  NL: \"nl\" | \"en\",\n  NO: \"no\" | \"en\",\n  NP: \"en\",\n  NR: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NU: \"en\" | \"fr\" | \"es\" | \"zh\",\n  NZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  OM: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  PA: \"es\" | \"en\" | \"fr\" | \"zh\",\n  PE: \"es\" | \"en\" | \"fr\" | \"zh\",\n  PF: \"en\" | \"fr\" | \"es\" | \"zh\",\n  PG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  PH: \"tl\" | \"en\",\n  PL: \"pl\" | \"en\",\n  PM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  PN: \"en\" | \"fr\" | \"es\" | \"zh\",\n  PT: \"pt\" | \"en\",\n  PW: \"en\" | \"fr\" | \"es\" | \"zh\",\n  PY: \"es\" | \"en\",\n  QA: \"en\" | \"fr\" | \"es\" | \"zh\" | \"ar\",\n  RE: \"en\" | \"fr\" | \"es\" | \"zh\",\n  RO: \"ro\" | \"en\",\n  RS: \"en\" | \"fr\" | \"es\" | \"zh\",\n  RU: \"ru\" | \"en\",\n  RW: \"fr\" | \"en\" | \"es\" | \"zh\",\n  SA: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  SB: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SC: \"fr\" | \"en\" | \"es\" | \"zh\",\n  SE: \"sv\" | \"en\",\n  SG: \"en\",\n  SH: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SI: \"sl\" | \"en\",\n  SJ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SK: \"sk\" | \"en\",\n  SL: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SN: \"fr\" | \"en\" | \"es\" | \"zh\",\n  SO: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SR: \"en\" | \"fr\" | \"es\" | \"zh\",\n  ST: \"en\" | \"fr\" | \"es\" | \"zh\",\n  SV: \"es\" | \"en\" | \"fr\" | \"zh\",\n  SZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TC: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TD: \"fr\" | \"en\" | \"es\" | \"zh\",\n  TG: \"fr\" | \"en\" | \"es\" | \"zh\",\n  TH: \"th\" | \"en\",\n  TJ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TN: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  TO: \"en\",\n  TR: \"tr\" | \"en\",\n  TT: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TV: \"en\" | \"fr\" | \"es\" | \"zh\",\n  TW: \"zh_Hant\" | \"en\",\n  TZ: \"en\" | \"fr\" | \"es\" | \"zh\",\n  UA: \"en\" | \"ru\" | \"fr\" | \"es\" | \"zh\",\n  UG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  US: \"en\" | \"fr\" | \"es\" | \"zh\",\n  UY: \"es\" | \"en\" | \"fr\" | \"zh\",\n  VA: \"en\" | \"fr\" | \"es\" | \"zh\",\n  VC: \"en\" | \"fr\" | \"es\" | \"zh\",\n  VE: \"es\" | \"en\" | \"fr\" | \"zh\",\n  VG: \"en\" | \"fr\" | \"es\" | \"zh\",\n  VN: \"vi\" | \"en\",\n  VU: \"en\" | \"fr\" | \"es\" | \"zh\",\n  WF: \"en\" | \"fr\" | \"es\" | \"zh\",\n  WS: \"en\",\n  YE: \"ar\" | \"en\" | \"fr\" | \"es\" | \"zh\",\n  YT: \"en\" | \"fr\" | \"es\" | \"zh\",\n  ZA: \"en\" | \"fr\" | \"es\" | \"zh\",\n  ZM: \"en\" | \"fr\" | \"es\" | \"zh\",\n  ZW: \"en\",\n|};\n\ntype CountryMap = {\n  [$Values<typeof COUNTRY>]: $ReadOnlyArray<$Values<typeof LANG>>,\n};\n\nexport const COUNTRY_LANGS: CountryMap = {\n  AD: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AE: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH, LANG.AR],\n  AG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AI: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AL: [LANG.SQ, LANG.EN],\n  AM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AN: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AO: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AR: [LANG.ES, LANG.EN],\n  AT: [LANG.DE, LANG.EN],\n  AU: [LANG.EN],\n  AW: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  AZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BA: [LANG.EN],\n  BB: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BE: [LANG.EN, LANG.NL, LANG.FR],\n  BF: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  BG: [LANG.BG, LANG.EN],\n  BH: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BI: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  BJ: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  BM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BN: [LANG.MS, LANG.EN],\n  BO: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  BR: [LANG.PT, LANG.EN],\n  BS: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BT: [LANG.EN],\n  BW: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  BY: [LANG.EN],\n  BZ: [LANG.EN, LANG.ES, LANG.FR, LANG.ZH],\n  CA: [LANG.EN, LANG.FR],\n  CD: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  CG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  CH: [LANG.DE, LANG.FR, LANG.EN],\n  CI: [LANG.FR, LANG.EN],\n  CK: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  CL: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  CM: [LANG.FR, LANG.EN],\n  CN: [LANG.ZH],\n  CO: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  CR: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  CV: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  CY: [LANG.EN],\n  CZ: [LANG.CS, LANG.EN],\n  DE: [LANG.DE, LANG.EN],\n  DJ: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  DK: [LANG.DA, LANG.EN],\n  DM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  DO: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  DZ: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  EC: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  EE: [LANG.ET, LANG.EN, LANG.RU],\n  EG: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ER: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ES: [LANG.ES, LANG.EN],\n  ET: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  FI: [LANG.FI, LANG.EN],\n  FJ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  FK: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  FM: [LANG.EN],\n  FO: [LANG.DA, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  FR: [LANG.FR, LANG.EN],\n  GA: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  GB: [LANG.EN],\n  GD: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GE: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GF: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GI: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GL: [LANG.DA, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GN: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  GP: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GR: [LANG.EL, LANG.EN],\n  GT: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  GW: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  GY: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  HK: [LANG.EN, LANG.ZH_HANT, LANG.ZH],\n  HN: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  HR: [LANG.EN],\n  HU: [LANG.HU, LANG.EN],\n  ID: [LANG.ID, LANG.EN],\n  IE: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  IL: [LANG.HE, LANG.EN],\n  IN: [LANG.EN],\n  IS: [LANG.EN],\n  IT: [LANG.IT, LANG.EN],\n  JM: [LANG.EN, LANG.ES, LANG.FR, LANG.ZH],\n  JO: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  JP: [LANG.JA, LANG.EN],\n  KE: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KH: [LANG.EN],\n  KI: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KM: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  KN: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KR: [LANG.KO, LANG.EN],\n  KW: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KY: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  KZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  LA: [LANG.EN],\n  LC: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  LI: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  LK: [LANG.SI, LANG.EN],\n  LS: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  LT: [LANG.LT, LANG.EN, LANG.RU, LANG.ZH],\n  LU: [LANG.EN, LANG.DE, LANG.FR, LANG.ES, LANG.ZH],\n  LV: [LANG.LV, LANG.EN, LANG.RU],\n  MA: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MC: [LANG.FR, LANG.EN],\n  MD: [LANG.EN],\n  ME: [LANG.EN],\n  MG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MH: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MK: [LANG.EN],\n  ML: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  MN: [LANG.EN],\n  MQ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MR: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MS: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MT: [LANG.EN],\n  MU: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MV: [LANG.EN],\n  MW: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  MX: [LANG.ES, LANG.EN],\n  MY: [LANG.MS, LANG.EN],\n  MZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NA: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NC: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NE: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  NF: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NG: [LANG.EN],\n  NI: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  NL: [LANG.NL, LANG.EN],\n  NO: [LANG.NO, LANG.EN],\n  NP: [LANG.EN],\n  NR: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NU: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  NZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  OM: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PA: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  PE: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  PF: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PH: [LANG.TL, LANG.EN],\n  PL: [LANG.PL, LANG.EN],\n  PM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PN: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PT: [LANG.PT, LANG.EN],\n  PW: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  PY: [LANG.ES, LANG.EN],\n  QA: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH, LANG.AR],\n  RE: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  RO: [LANG.RO, LANG.EN],\n  RS: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  RU: [LANG.RU, LANG.EN],\n  RW: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  SA: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SB: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SC: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  SE: [LANG.SV, LANG.EN],\n  SG: [LANG.EN],\n  SH: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SI: [LANG.SL, LANG.EN],\n  SJ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SK: [LANG.SK, LANG.EN],\n  SL: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SN: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  SO: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SR: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ST: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  SV: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  SZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TC: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TD: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  TG: [LANG.FR, LANG.EN, LANG.ES, LANG.ZH],\n  TH: [LANG.TH, LANG.EN],\n  TJ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TN: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TO: [LANG.EN],\n  TR: [LANG.TR, LANG.EN],\n  TT: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TV: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  TW: [LANG.ZH_HANT, LANG.ZH, LANG.EN],\n  TZ: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  UA: [LANG.EN, LANG.RU, LANG.FR, LANG.ES, LANG.ZH],\n  UG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  US: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  UY: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  VA: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  VC: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  VE: [LANG.ES, LANG.EN, LANG.FR, LANG.ZH],\n  VG: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  VN: [LANG.VI, LANG.EN],\n  VU: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  WF: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  WS: [LANG.EN],\n  YE: [LANG.AR, LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  YT: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ZA: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ZM: [LANG.EN, LANG.FR, LANG.ES, LANG.ZH],\n  ZW: [LANG.EN],\n};\n\nexport type LocaleType = {|\n  country: $Values<typeof COUNTRY>,\n  lang: $Values<typeof LANG>,\n|};\n","/* @flow */\n\nexport const INTENT = {\n  CAPTURE: (\"capture\": \"capture\"),\n  AUTHORIZE: (\"authorize\": \"authorize\"),\n  ORDER: (\"order\": \"order\"),\n  TOKENIZE: (\"tokenize\": \"tokenize\"),\n  SUBSCRIPTION: (\"subscription\": \"subscription\"),\n};\n\nexport const COMMIT = {\n  TRUE: (true: true),\n  FALSE: (false: false),\n};\n\nexport const VAULT = {\n  TRUE: (true: true),\n  FALSE: (false: false),\n};\n\nexport const CURRENCY = {\n  AED: (\"AED\": \"AED\"),\n  ALL: (\"ALL\": \"ALL\"),\n  ANG: (\"ANG\": \"ANG\"),\n  AOA: (\"AOA\": \"AOA\"),\n  AUD: (\"AUD\": \"AUD\"),\n  AWG: (\"AWG\": \"AWG\"),\n  BAM: (\"BAM\": \"BAM\"),\n  BBD: (\"BBD\": \"BBD\"),\n  BGN: (\"BGN\": \"BGN\"),\n  BIF: (\"BIF\": \"BIF\"),\n  BMD: (\"BMD\": \"BMD\"),\n  BND: (\"BND\": \"BND\"),\n  BOB: (\"BOB\": \"BOB\"),\n  BRL: (\"BRL\": \"BRL\"),\n  BSD: (\"BSD\": \"BSD\"),\n  BTN: (\"BTN\": \"BTN\"),\n  CAD: (\"CAD\": \"CAD\"),\n  CDF: (\"CDF\": \"CDF\"),\n  CHF: (\"CHF\": \"CHF\"),\n  CLP: (\"CLP\": \"CLP\"),\n  COP: (\"COP\": \"COP\"),\n  CRC: (\"CRC\": \"CRC\"),\n  CVE: (\"CVE\": \"CVE\"),\n  CZK: (\"CZK\": \"CZK\"),\n  DJF: (\"DJF\": \"DJF\"),\n  DKK: (\"DKK\": \"DKK\"),\n  DOP: (\"DOP\": \"DOP\"),\n  DZD: (\"DZD\": \"DZD\"),\n  EGP: (\"EGP\": \"EGP\"),\n  ETB: (\"ETB\": \"ETB\"),\n  EUR: (\"EUR\": \"EUR\"),\n  FJD: (\"FJD\": \"FJD\"),\n  FKP: (\"FKP\": \"FKP\"),\n  GBP: (\"GBP\": \"GBP\"),\n  GIP: (\"GIP\": \"GIP\"),\n  GMD: (\"GMD\": \"GMD\"),\n  GNF: (\"GNF\": \"GNF\"),\n  GTQ: (\"GTQ\": \"GTQ\"),\n  GYD: (\"GYD\": \"GYD\"),\n  HKD: (\"HKD\": \"HKD\"),\n  HNL: (\"HNL\": \"HNL\"),\n  HRK: (\"HRK\": \"HRK\"),\n  HUF: (\"HUF\": \"HUF\"),\n  IDR: (\"IDR\": \"IDR\"),\n  ILS: (\"ILS\": \"ILS\"),\n  INR: (\"INR\": \"INR\"),\n  ISK: (\"ISK\": \"ISK\"),\n  JMD: (\"JMD\": \"JMD\"),\n  JPY: (\"JPY\": \"JPY\"),\n  KES: (\"KES\": \"KES\"),\n  KMF: (\"KMF\": \"KMF\"),\n  KRW: (\"KRW\": \"KRW\"),\n  KYD: (\"KYD\": \"KYD\"),\n  LAK: (\"LAK\": \"LAK\"),\n  LKR: (\"LKR\": \"LKR\"),\n  MDL: (\"MDL\": \"MDL\"),\n  MGA: (\"MGA\": \"MGA\"),\n  MKD: (\"MKD\": \"MKD\"),\n  MNT: (\"MNT\": \"MNT\"),\n  MRO: (\"MRO\": \"MRO\"),\n  MUR: (\"MUR\": \"MUR\"),\n  MVR: (\"MVR\": \"MVR\"),\n  MXN: (\"MXN\": \"MXN\"),\n  MYR: (\"MYR\": \"MYR\"),\n  NAD: (\"NAD\": \"NAD\"),\n  NIO: (\"NIO\": \"NIO\"),\n  NOK: (\"NOK\": \"NOK\"),\n  NPR: (\"NPR\": \"NPR\"),\n  NZD: (\"NZD\": \"NZD\"),\n  PEN: (\"PEN\": \"PEN\"),\n  PGK: (\"PGK\": \"PGK\"),\n  PHP: (\"PHP\": \"PHP\"),\n  PLN: (\"PLN\": \"PLN\"),\n  PYG: (\"PYG\": \"PYG\"),\n  QAR: (\"QAR\": \"QAR\"),\n  RON: (\"RON\": \"RON\"),\n  RSD: (\"RSD\": \"RSD\"),\n  RUB: (\"RUB\": \"RUB\"),\n  SAR: (\"SAR\": \"SAR\"),\n  SBD: (\"SBD\": \"SBD\"),\n  SCR: (\"SCR\": \"SCR\"),\n  SEK: (\"SEK\": \"SEK\"),\n  SGD: (\"SGD\": \"SGD\"),\n  SHP: (\"SHP\": \"SHP\"),\n  SLL: (\"SLL\": \"SLL\"),\n  SOS: (\"SOS\": \"SOS\"),\n  SRD: (\"SRD\": \"SRD\"),\n  SZL: (\"SZL\": \"SZL\"),\n  THB: (\"THB\": \"THB\"),\n  TJS: (\"TJS\": \"TJS\"),\n  TOP: (\"TOP\": \"TOP\"),\n  TTD: (\"TTD\": \"TTD\"),\n  TWD: (\"TWD\": \"TWD\"),\n  TZS: (\"TZS\": \"TZS\"),\n  USD: (\"USD\": \"USD\"),\n  UYU: (\"UYU\": \"UYU\"),\n  VND: (\"VND\": \"VND\"),\n  VUV: (\"VUV\": \"VUV\"),\n  WST: (\"WST\": \"WST\"),\n  XAF: (\"XAF\": \"XAF\"),\n  XCD: (\"XCD\": \"XCD\"),\n  YER: (\"YER\": \"YER\"),\n};\n","/* @flow */\n\nexport const SDK_PATH = \"/sdk/js\";\n\nexport const SDK_SETTINGS = {\n  NAMESPACE: (\"data-namespace\": \"data-namespace\"),\n  CLIENT_TOKEN: (\"data-client-token\": \"data-client-token\"),\n  MERCHANT_ID: (\"data-merchant-id\": \"data-merchant-id\"),\n  PARTNER_ATTRIBUTION_ID:\n    (\"data-partner-attribution-id\": \"data-partner-attribution-id\"),\n  STAGE_HOST: (\"data-stage-host\": \"data-stage-host\"),\n  API_STAGE_HOST: (\"data-api-stage-host\": \"data-api-stage-host\"),\n  CSP_NONCE: (\"data-csp-nonce\": \"data-csp-nonce\"),\n  ENABLE_3DS: (\"data-enable-3ds\": \"data-enable-3ds\"),\n  SDK_INTEGRATION_SOURCE:\n    (\"data-sdk-integration-source\": \"data-sdk-integration-source\"),\n  USER_ID_TOKEN: (\"data-user-id-token\": \"data-user-id-token\"),\n  AMOUNT: (\"data-amount\": \"data-amount\"),\n  CLIENT_METADATA_ID: (\"data-client-metadata-id\": \"data-client-metadata-id\"),\n  PAGE_TYPE: (\"data-page-type\": \"data-page-type\"),\n  USER_EXPERIENCE_FLOW:\n    (\"data-user-experience-flow\": \"data-user-experience-flow\"),\n  POPUPS_DISABLED: (\"data-popups-disabled\": \"data-popups-disabled\"),\n  SDK_TOKEN: (\"data-sdk-client-token\": \"data-sdk-client-token\"),\n};\n\nexport const SDK_QUERY_KEYS = {\n  COMPONENTS: (\"components\": \"components\"),\n\n  ENV: (\"env\": \"env\"),\n  DEBUG: (\"debug\": \"debug\"),\n  CACHEBUST: (\"cachebust\": \"cachebust\"),\n\n  CLIENT_ID: (\"client-id\": \"client-id\"),\n  MERCHANT_ID: (\"merchant-id\": \"merchant-id\"),\n\n  LOCALE: (\"locale\": \"locale\"),\n\n  CURRENCY: (\"currency\": \"currency\"),\n  INTENT: (\"intent\": \"intent\"),\n  COMMIT: (\"commit\": \"commit\"),\n  VAULT: (\"vault\": \"vault\"),\n\n  BUYER_COUNTRY: (\"buyer-country\": \"buyer-country\"),\n\n  ENABLE_FUNDING: (\"enable-funding\": \"enable-funding\"),\n  DISABLE_FUNDING: (\"disable-funding\": \"disable-funding\"),\n  DISABLE_CARD: (\"disable-card\": \"disable-card\"),\n\n  INTEGRATION_DATE: (\"integration-date\": \"integration-date\"),\n  STAGE_HOST: (\"stage-host\": \"stage-host\"),\n  STAGE_ALIAS: (\"stage-alias\": \"stage-alias\"),\n  CDN_REGISTRY: (\"cdn-registry\": \"cdn-registry\"),\n  VERSION: (\"version\": \"version\"),\n};\n\nexport const COMPONENTS = {\n  BUTTONS: (\"buttons\": \"buttons\"),\n  HOSTED_FIELDS: (\"hosted-fields\": \"hosted-fields\"),\n  CARD_FIELDS: (\"card-fields\": \"card-fields\"),\n};\n\nexport const DEBUG = {\n  TRUE: (true: true),\n  FALSE: (false: false),\n};\n\nexport const QUERY_BOOL = {\n  TRUE: (\"true\": \"true\"),\n  FALSE: (\"false\": \"false\"),\n};\n\nexport const UNKNOWN = (\"unknown\": \"unknown\");\n\nexport const PROTOCOL = {\n  HTTP: (\"http\": \"http\"),\n  HTTPS: (\"https\": \"https\"),\n};\n\nexport const PAGE_TYPES = {\n  HOME: (\"home\": \"home\"),\n  PRODUCT: (\"product\": \"product\"),\n  CART: (\"cart\": \"cart\"),\n  CHECKOUT: (\"checkout\": \"checkout\"),\n  PRODUCT_LISTING: (\"product-listing\": \"product-listing\"),\n  SEARCH_RESULTS: (\"search-results\": \"search-results\"),\n  PRODUCT_DETAILS: (\"product-details\": \"product-details\"),\n  MINI_CART: (\"mini-cart\": \"mini-cart\"),\n};\n\nexport const MERCHANT_ID_MAX = 10;\n\nexport const DISPLAY_ONLY_VALUES = {\n  VAULTABLE: (\"vaultable\": \"vaultable\"),\n};\n","/* @flow */\n\nimport { COUNTRY } from \"./locale\";\nimport { CURRENCY, INTENT, COMMIT, VAULT } from \"./order\";\nimport { COMPONENTS, DEBUG } from \"./params\";\n\nexport const DEFAULT_COUNTRY = COUNTRY.US;\nexport const DEFAULT_CURRENCY = CURRENCY.USD;\nexport const DEFAULT_INTENT = INTENT.CAPTURE;\nexport const DEFAULT_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_SALE_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_NONSALE_COMMIT = COMMIT.TRUE;\nexport const DEFAULT_VAULT = VAULT.FALSE;\nexport const DEFAULT_COMPONENTS = COMPONENTS.BUTTONS;\nexport const DEFAULT_DEBUG = DEBUG.FALSE;\n","/* @flow */\n\nexport const ENV = {\n  LOCAL: (\"local\": \"local\"),\n  STAGE: (\"stage\": \"stage\"),\n  SANDBOX: (\"sandbox\": \"sandbox\"),\n  PRODUCTION: (\"production\": \"production\"),\n  TEST: (\"test\": \"test\"),\n};\n\nexport const MOBILE_ENV = {\n  ANDROID: (\"android\": \"android\"),\n  IOS: (\"iOS\": \"iOS\"),\n};\n","/* @flow */\n\nexport const FPTI_KEY = {\n  FEED: (\"feed_name\": \"feed_name\"),\n  STATE: (\"state_name\": \"state_name\"),\n  EVENT_NAME: (\"event_name\": \"event_name\"),\n  TRANSITION: (\"transition_name\": \"transition_name\"),\n  PAGE: (\"page_name\": \"page_name\"),\n  BUTTON_TYPE: (\"button_type\": \"button_type\"),\n  SESSION_UID: (\"page_session_id\": \"page_session_id\"),\n  BUTTON_SESSION_UID: (\"button_session_id\": \"button_session_id\"),\n  TOKEN: (\"token\": \"token\"),\n  CONTEXT_ID: (\"context_id\": \"context_id\"),\n  CONTEXT_TYPE: (\"context_type\": \"context_type\"),\n  REFERER: (\"referer_url\": \"referer_url\"),\n  MERCHANT_DOMAIN: (\"merchant_domain\": \"merchant_domain\"),\n  PAY_ID: (\"pay_id\": \"pay_id\"),\n  SELLER_ID: (\"seller_id\": \"seller_id\"),\n  CLIENT_ID: (\"client_id\": \"client_id\"),\n  DATA_SOURCE: (\"serverside_data_source\": \"serverside_data_source\"),\n  BUTTON_SOURCE: (\"button_source\": \"button_source\"),\n  ERROR_CODE: (\"ext_error_code\": \"ext_error_code\"),\n  ERROR_DESC: (\"ext_error_desc\": \"ext_error_desc\"),\n  PAGE_LOAD_TIME: (\"page_load_time\": \"page_load_time\"),\n  EXPERIMENT_EXPERIENCE:\n    (\"experimentation_experience\": \"experimentation_experience\"),\n  EXPERIMENT_TREATMENT:\n    (\"experimentation_treatment\": \"experimentation_treatment\"),\n  EXPERIMENT_NAME: (\"pxp_exp_id\": \"pxp_exp_id\"),\n  TREATMENT_NAME: (\"pxp_trtmnt_id\": \"pxp_trtmnt_id\"),\n  TRANSITION_TIME: (\"transition_time\": \"transition_time\"),\n  FUNDING_LIST: (\"eligible_payment_methods\": \"eligible_payment_methods\"),\n  FUNDING_COUNT: (\"eligible_payment_count\": \"eligible_payment_count\"),\n  CHOSEN_FUNDING: (\"selected_payment_method\": \"selected_payment_method\"),\n  BUTTON_LAYOUT: (\"button_layout\": \"button_layout\"),\n  VERSION: (\"checkoutjs_version\": \"checkoutjs_version\"),\n  LOCALE: (\"locale\": \"locale\"),\n  BUYER_COUNTRY: (\"buyer_cntry\": \"buyer_cntry\"),\n  INTEGRATION_IDENTIFIER: (\"integration_identifier\": \"integration_identifier\"),\n  PARTNER_ATTRIBUTION_ID: (\"bn_code\": \"bn_code\"),\n  PAGE_TYPE: (\"pp_placement\": \"pp_placement\"),\n  SDK_NAME: (\"sdk_name\": \"sdk_name\"),\n  SDK_VERSION: (\"sdk_version\": \"sdk_version\"),\n  SDK_ENVIRONMENT: (\"sdk_environment\": \"sdk_environment\"),\n  MOBILE_APP_VERSION: (\"mobile_app_version\": \"mobile_app_version\"),\n  MOBILE_BUNDLE_IDENTIFIER: (\"mapv\": \"mapv\"),\n  USER_AGENT: (\"user_agent\": \"user_agent\"),\n  USER_ACTION: (\"user_action\": \"user_action\"),\n  CONTEXT_CORRID: (\"context_correlation_id\": \"context_correlation_id\"),\n  SDK_CACHE: (\"sdk_cache\": \"sdk_cache\"),\n  SDK_LOAD_TIME: (\"sdk_load_time\": \"sdk_load_time\"),\n  IS_VAULT: (\"is_vault\": \"is_vault\"),\n  DISABLE_FUNDING: (\"disable_funding\": \"disable_funding\"),\n  DISABLE_CARD: (\"disable_card\": \"disable_card\"),\n  RESPONSE_DURATION: (\"response_duration\": \"response_duration\"),\n  SDK_INTEGRATION_SOURCE: (\"sdk_integration_source\": \"sdk_integration_source\"),\n  PAYMENT_FLOW: (\"payment_flow\": \"payment_flow\"),\n  BUTTON_VERSION: (\"button_version\": \"button_version\"),\n  FI_LIST: (\"fi_list\": \"fi_list\"),\n  FI_ID: (\"fi_id\": \"fi_id\"),\n  PRODUCT: (\"product\": \"product\"),\n  CHOSEN_FI_TYPE: (\"chosen_fi_type\": \"chosen_fi_type\"),\n  SELECTED_FI:\n    (\"merchant_selected_funding_source\": \"merchant_selected_funding_source\"),\n  POTENTIAL_PAYMENT_METHODS:\n    (\"potential_payment_methods\": \"potential_payment_methods\"),\n  PAY_NOW: (\"pay_now\": \"pay_now\"),\n  STICKINESS_ID: (\"stickiness_id\": \"stickiness_id\"),\n  TIMESTAMP: (\"t\": \"t\"),\n  OPTION_SELECTED: (\"optsel\": \"optsel\"),\n  USER_IDENTITY_METHOD: (\"user_identity_method\": \"user_identity_method\"),\n  FIELDS_COMPONENT_SESSION_ID:\n    (\"fields_component_session_id\": \"fields_component_session_id\"),\n  CPL_COMP_METRICS: (\"cpl_comp_metrics\": \"cpl_comp_metrics\"),\n  CPL_CHUNK_METRICS: (\"cpl_chunk_metrics\": \"cpl_chunk_metrics\"),\n  CPL_QUERY_METRICS: (\"cpl_query_metrics\": \"cpl_query_metrics\"),\n};\n\nexport const FPTI_USER_ACTION = {\n  COMMIT: (\"commit\": \"commit\"),\n  CONTINUE: (\"continue\": \"continue\"),\n};\n\nexport const FPTI_DATA_SOURCE = {\n  PAYMENTS_SDK: (\"checkout\": \"checkout\"),\n};\n\nexport const FPTI_FEED = {\n  PAYMENTS_SDK: (\"payments_sdk\": \"payments_sdk\"),\n};\n\nexport const FPTI_SDK_NAME = {\n  PAYMENTS_SDK: (\"payments_sdk\": \"payments_sdk\"),\n};\n","/* @flow */\n\nexport const FUNDING = {\n  PAYPAL: (\"paypal\": \"paypal\"),\n  VENMO: (\"venmo\": \"venmo\"),\n  APPLEPAY: (\"applepay\": \"applepay\"),\n  ITAU: (\"itau\": \"itau\"),\n  CREDIT: (\"credit\": \"credit\"),\n  PAYLATER: (\"paylater\": \"paylater\"),\n  CARD: (\"card\": \"card\"),\n  IDEAL: (\"ideal\": \"ideal\"),\n  SEPA: (\"sepa\": \"sepa\"),\n  BANCONTACT: (\"bancontact\": \"bancontact\"),\n  GIROPAY: (\"giropay\": \"giropay\"),\n  SOFORT: (\"sofort\": \"sofort\"),\n  EPS: (\"eps\": \"eps\"),\n  MYBANK: (\"mybank\": \"mybank\"),\n  P24: (\"p24\": \"p24\"),\n  PAYU: (\"payu\": \"payu\"),\n  BLIK: (\"blik\": \"blik\"),\n  TRUSTLY: (\"trustly\": \"trustly\"),\n  OXXO: (\"oxxo\": \"oxxo\"),\n  BOLETO: (\"boleto\": \"boleto\"),\n  BOLETOBANCARIO: (\"boletobancario\": \"boletobancario\"),\n  WECHATPAY: (\"wechatpay\": \"wechatpay\"),\n  MERCADOPAGO: (\"mercadopago\": \"mercadopago\"),\n  MULTIBANCO: (\"multibanco\": \"multibanco\"),\n  SATISPAY: (\"satispay\": \"satispay\"),\n  PAIDY: (\"paidy\": \"paidy\"),\n};\n\nexport const FUNDING_BRAND_LABEL = {\n  PAYPAL: (\"PayPal\": \"PayPal\"),\n  CREDIT: (\"PayPal Credit\": \"PayPal Credit\"),\n};\n\nexport const CARD = {\n  VISA: (\"visa\": \"visa\"),\n  MASTERCARD: (\"mastercard\": \"mastercard\"),\n  AMEX: (\"amex\": \"amex\"),\n  DISCOVER: (\"discover\": \"discover\"),\n  HIPER: (\"hiper\": \"hiper\"),\n  ELO: (\"elo\": \"elo\"),\n  JCB: (\"jcb\": \"jcb\"),\n  CUP: (\"cup\": \"cup\"),\n};\n\nexport const WALLET_INSTRUMENT = {\n  BALANCE: (\"balance\": \"balance\"),\n  CARD: (\"card\": \"card\"),\n  BANK: (\"bank\": \"bank\"),\n  CREDIT: (\"credit\": \"credit\"),\n};\n\nexport const FUNDING_PRODUCTS = {\n  PAY_IN_3: (\"payIn3\": \"payIn3\"),\n  PAY_IN_4: (\"payIn4\": \"payIn4\"),\n  PAYLATER: (\"paylater\": \"paylater\"),\n  CREDIT: (\"credit\": \"credit\"),\n};\n","/* @flow */\n\nexport const PLATFORM = {\n  DESKTOP: (\"desktop\": \"desktop\"),\n  MOBILE: (\"mobile\": \"mobile\"),\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","/* @flow */\nimport { sfvcScreens } from \"./screenHeights\";\n\nexport function getUserAgent(): string {\n  return window.navigator.mockUserAgent || window.navigator.userAgent;\n}\n\nconst TABLET_PATTERN =\n  /ip(a|ro)d|silk|xoom|playbook|tablet|kindle|Nexus 7|GT-P10|SC-01C|SHW-M180S|SM-T320|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook|FOLIO|MB511.*RUTEM|Mac OS.*Silk/i;\n\nexport function isDevice(userAgent?: string = getUserAgent()): boolean {\n  if (\n    userAgent.match(\n      /Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i\n    )\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isTablet(userAgent?: string = getUserAgent()): boolean {\n  return TABLET_PATTERN.test(userAgent);\n}\n\nexport function isWebView(ua?: string = getUserAgent()): boolean {\n  return (\n    /(iPhone|iPod|iPad|Macintosh).*AppleWebKit(?!.*Safari)|.*WKWebView/i.test(\n      ua\n    ) ||\n    /\\bwv\\b/.test(ua) ||\n    /Android.*Version\\/(\\d)\\.(\\d)/i.test(ua)\n  );\n}\n\nexport function isStandAlone(): boolean {\n  return (\n    window.navigator.standalone === true ||\n    window.matchMedia(\"(display-mode: standalone)\").matches\n  );\n}\n\nexport function isFacebookWebView(ua?: string = getUserAgent()): boolean {\n  return /FBAN/.test(ua) || /FBAV/.test(ua);\n}\n\nexport function isFirefox(ua?: string = getUserAgent()): boolean {\n  return /Firefox/i.test(ua);\n}\n\nexport function isFirefoxIOS(ua?: string = getUserAgent()): boolean {\n  return /FxiOS/i.test(ua);\n}\n\nexport function isEdgeIOS(ua?: string = getUserAgent()): boolean {\n  return /EdgiOS/i.test(ua);\n}\n\nexport function isOperaMini(ua?: string = getUserAgent()): boolean {\n  return /Opera Mini/i.test(ua);\n}\n\nexport function isAndroid(ua?: string = getUserAgent()): boolean {\n  return /Android/.test(ua);\n}\n\nexport function isIos(ua?: string = getUserAgent()): boolean {\n  return /iPhone|iPod|iPad/.test(ua);\n}\n\nexport function isIOS14(ua?: string = getUserAgent()): boolean {\n  return /iPhone.*OS.*(1)?(?:(1)[0-4]| [0-9])_/.test(ua);\n}\n\nexport function isGoogleSearchApp(ua?: string = getUserAgent()): boolean {\n  return /\\bGSA\\b/.test(ua);\n}\n\nexport function isQQBrowser(ua?: string = getUserAgent()): boolean {\n  return /QQBrowser/.test(ua);\n}\n\nexport function isIosWebview(ua?: string = getUserAgent()): boolean {\n  if (isIos(ua)) {\n    if (isGoogleSearchApp(ua)) {\n      return true;\n    }\n    return /.+AppleWebKit(?!.*Safari)|.*WKWebView/.test(ua);\n  }\n  return false;\n}\n\nexport function isSFVC(ua?: string = getUserAgent()): boolean {\n  if (isIos(ua)) {\n    const height = window.innerHeight;\n    const scale =\n      Math.round((window.screen.width / window.innerWidth) * 100) / 100;\n    const computedHeight = Math.round(height * scale);\n\n    let device = null;\n    if (isIOS14(ua)) {\n      device = sfvcScreens[window.outerHeight];\n    } else {\n      if (scale !== 1) {\n        return true;\n      }\n\n      device = sfvcScreens[window.outerHeight];\n    }\n\n    if (!device) {\n      return true;\n    }\n\n    if (scale > 1 && device.zoomHeight && device.zoomHeight[scale]) {\n      return device.zoomHeight[scale].indexOf(computedHeight) !== -1;\n    } else {\n      return (\n        device.textSizeHeights.indexOf(computedHeight) !== -1 ||\n        device.textSizeHeightsNoTabs.indexOf(computedHeight) !== -1\n      );\n    }\n  }\n  return false;\n}\n\nexport function isSFVCorSafari(ua?: string = getUserAgent()): boolean {\n  if (isIos(ua)) {\n    const sfvc = isSFVC(ua);\n\n    const device = isIOS14(ua) ? sfvcScreens[window.outerHeight] : null;\n\n    if (!device) {\n      return false;\n    }\n\n    const height = window.innerHeight;\n    const scale =\n      Math.round((window.screen.width / window.innerWidth) * 100) / 100;\n\n    const computedHeight = Math.round(height * scale);\n    const possibleSafariSizes = device.maybeSafari;\n\n    let maybeSafari = false;\n    if (\n      scale > 1 &&\n      possibleSafariSizes[scale] &&\n      possibleSafariSizes[scale].indexOf(computedHeight) !== -1\n    ) {\n      maybeSafari = true;\n    }\n\n    return sfvc || maybeSafari;\n  }\n  return false;\n}\n\nexport function isAndroidWebview(ua?: string = getUserAgent()): boolean {\n  if (isAndroid(ua)) {\n    return /Version\\/[\\d.]+/.test(ua) && !isOperaMini(ua);\n  }\n  return false;\n}\n\nexport function isIE(): boolean {\n  if (window.document.documentMode) {\n    return true;\n  }\n\n  return Boolean(\n    window.navigator &&\n      window.navigator.userAgent &&\n      /Edge|MSIE|rv:11/i.test(window.navigator.userAgent)\n  );\n}\n\nexport function isIECompHeader(): boolean {\n  const mHttp = window.document.querySelector(\n    'meta[http-equiv=\"X-UA-Compatible\"]'\n  );\n  const mContent = window.document.querySelector('meta[content=\"IE=edge\"]');\n  if (mHttp && mContent) {\n    return true;\n  }\n  return false;\n}\n\nexport function isElectron(): boolean {\n  if (\n    typeof process !== \"undefined\" &&\n    process.versions &&\n    process.versions.electron\n  ) {\n    return true;\n  }\n  return false;\n}\n\nexport function isIEIntranet(): boolean {\n  // This status check only works for older versions of IE with document.documentMode set\n\n  if (window.document.documentMode) {\n    try {\n      const status = window.status;\n\n      window.status = \"testIntranetMode\";\n\n      if (window.status === \"testIntranetMode\") {\n        window.status = status;\n\n        return true;\n      }\n\n      return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nexport function isMacOsCna(): boolean {\n  const userAgent = getUserAgent();\n  return /Macintosh.*AppleWebKit(?!.*Safari)/i.test(userAgent);\n}\n\nexport function supportsPopups(ua?: string = getUserAgent()): boolean {\n  return !(\n    isWebView(ua) ||\n    isIosWebview(ua) ||\n    isAndroidWebview(ua) ||\n    isOperaMini(ua) ||\n    isFirefoxIOS(ua) ||\n    isEdgeIOS(ua) ||\n    isFacebookWebView(ua) ||\n    isQQBrowser(ua) ||\n    isElectron() ||\n    isMacOsCna() ||\n    isStandAlone()\n  );\n}\n\nexport function isChrome(ua?: string = getUserAgent()): boolean {\n  return (\n    /Chrome|Chromium|CriOS/.test(ua) && !/SamsungBrowser|Silk|EdgA/.test(ua)\n  );\n}\n\nexport function isSafari(ua?: string = getUserAgent()): boolean {\n  return /Safari/.test(ua) && !isChrome(ua) && !/Silk|FxiOS|EdgiOS/.test(ua);\n}\n\nexport function isApplePaySupported(): boolean {\n  try {\n    if (\n      window.ApplePaySession &&\n      window.ApplePaySession.supportsVersion(3) &&\n      window.ApplePaySession.canMakePayments()\n    ) {\n      return true;\n    }\n  } catch (e) {\n    return false;\n  }\n\n  return false;\n}\n\nexport function isCrossSiteTrackingEnabled(expectedCookieKey: string): boolean {\n  return window.document.cookie.indexOf(expectedCookieKey) === -1;\n}\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/* @flow */\n\nexport const KEY_CODES = {\n  ENTER: 13,\n  SPACE: 32,\n};\n\nexport const ATTRIBUTES = {\n  UID: \"data-uid\",\n};\n\nexport const UID_HASH_LENGTH = 30;\n\n/* eslint-disable no-control-regex*/\nexport const invalidProtocolRegex: RegExp =\n  /([^\\w]*)(javascript|data|vbscript)/im;\nexport const htmlEntitiesRegex: RegExp = /&#(\\w+)(^\\w|;)?/g;\nexport const htmlCtrlEntityRegex: RegExp = /&(newline|tab);/gi;\nexport const ctrlCharactersRegex: RegExp =\n  /[\\u0000-\\u001F\\u007F-\\u009F\\u2000-\\u200D\\uFEFF]/gim;\nexport const urlSchemeRegex: RegExp = /^.+(:|&colon;)/gim;\nexport const relativeFirstCharacters = [\".\", \"/\"];\nexport const BLANK_URL = \"about:blank\";\n/* eslint-enable no-control-regex*/\n","/* @flow */\n/* eslint max-lines: 0 */\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport { WeakMap } from \"@krakenjs/cross-domain-safe-weakmap/src\";\n\nimport {\n  BLANK_URL,\n  ctrlCharactersRegex,\n  htmlCtrlEntityRegex,\n  htmlEntitiesRegex,\n  invalidProtocolRegex,\n  relativeFirstCharacters,\n  urlSchemeRegex,\n} from \"./constants\";\nimport type { CancelableType } from \"./types\";\n\nexport function isElement(element: mixed): boolean {\n  let passed = false;\n\n  try {\n    if (element instanceof window.Element) {\n      passed = true;\n    } else if (\n      element !== null &&\n      typeof element === \"object\" &&\n      element.nodeType === 1 &&\n      typeof element.style === \"object\" &&\n      typeof element.ownerDocument === \"object\"\n    ) {\n      passed = true;\n    }\n  } catch (_) {\n    // we don't have an element\n  }\n\n  return passed;\n}\n\nexport function getFunctionName<T: Function>(fn: T): string {\n  return fn.name || fn.__name__ || fn.displayName || \"anonymous\";\n}\n\nexport function setFunctionName<T: Function>(fn: T, name: string): T {\n  try {\n    delete fn.name;\n    fn.name = name;\n  } catch (err) {\n    // pass\n  }\n\n  fn.__name__ = fn.displayName = name;\n  return fn;\n}\n\nexport function base64encode(str: string): string {\n  if (typeof btoa === \"function\") {\n    return btoa(\n      encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (m, p1) => {\n        return String.fromCharCode(parseInt(p1, 16));\n      })\n    ).replace(/[=]/g, \"\");\n  }\n\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(str, \"utf8\").toString(\"base64\").replace(/[=]/g, \"\");\n  }\n\n  throw new Error(`Can not find window.btoa or Buffer`);\n}\n\nexport function base64decode(str: string): string {\n  if (typeof atob === \"function\") {\n    return decodeURIComponent(\n      // $FlowFixMe[method-unbinding]\n      Array.prototype.map\n        .call(atob(str), (c) => {\n          // eslint-disable-next-line prefer-template\n          return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n        })\n        .join(\"\")\n    );\n  }\n\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(str, \"base64\").toString(\"utf8\");\n  }\n\n  throw new Error(`Can not find window.atob or Buffer`);\n}\n\nexport function uniqueID(): string {\n  const chars = \"0123456789abcdef\";\n\n  const randomID = \"xxxxxxxxxx\".replace(/./g, () => {\n    return chars.charAt(Math.floor(Math.random() * chars.length));\n  });\n\n  const timeID = base64encode(\n    new Date().toISOString().slice(11, 19).replace(\"T\", \".\")\n  )\n    .replace(/[^a-zA-Z0-9]/g, \"\")\n    .toLowerCase();\n\n  return `uid_${randomID}_${timeID}`;\n}\n\nexport function getGlobal(): Object {\n  if (typeof window !== \"undefined\") {\n    return window;\n  }\n  if (typeof global !== \"undefined\") {\n    return global;\n  }\n  if (typeof __GLOBAL__ !== \"undefined\") {\n    return __GLOBAL__;\n  }\n  throw new Error(`No global found`);\n}\n\nlet objectIDs;\n\nexport function getObjectID(obj: Object): string {\n  objectIDs = objectIDs || new WeakMap();\n\n  if (\n    obj === null ||\n    obj === undefined ||\n    (typeof obj !== \"object\" && typeof obj !== \"function\")\n  ) {\n    throw new Error(`Invalid object`);\n  }\n\n  let uid = objectIDs.get(obj);\n\n  if (!uid) {\n    uid = `${typeof obj}:${uniqueID()}`;\n    objectIDs.set(obj, uid);\n  }\n\n  return uid;\n}\n\nfunction serializeArgs<T>(args: $ReadOnlyArray<T>): string {\n  try {\n    // $FlowFixMe[method-unbinding]\n    return JSON.stringify(Array.prototype.slice.call(args), (subkey, val) => {\n      // Treat each distinct function as unique for purposes of memoization\n      // e.g. even if someFunction.stringify() is the same, we may use a different memoize cache\n      // if the actual function is different.\n      if (typeof val === \"function\") {\n        return `memoize[${getObjectID(val)}]`;\n      }\n\n      // By default JSON.stringify(domElement) returns '{}'. This ensures that stays true even for non-standard\n      // elements (e.g. React-rendered dom elements) with custom properties\n      if (isElement(val)) {\n        return {};\n      }\n\n      return val;\n    });\n  } catch (err) {\n    throw new Error(`Arguments not serializable -- can not be used to memoize`);\n  }\n}\n\nexport function getEmptyObject(): {||} {\n  // $FlowFixMe\n  return {};\n}\n\ntype MemoizeOptions = {|\n  name?: string,\n  time?: number,\n  thisNamespace?: boolean,\n|};\n\nconst getDefaultMemoizeOptions = (): MemoizeOptions => {\n  // $FlowFixMe\n  return {};\n};\n\nexport type Memoized<F> = F & {| reset: () => void |};\n\nlet memoizeGlobalIndex = 0;\nlet memoizeGlobalIndexValidFrom = 0;\n\nexport function memoize<F: Function>(\n  method: F,\n  options?: MemoizeOptions = getDefaultMemoizeOptions()\n): Memoized<F> {\n  const { thisNamespace = false, time: cacheTime } = options;\n\n  let simpleCache;\n  let thisCache;\n\n  let memoizeIndex = memoizeGlobalIndex;\n  memoizeGlobalIndex += 1;\n\n  const memoizedFunction = function memoizedFunction(...args): mixed {\n    if (memoizeIndex < memoizeGlobalIndexValidFrom) {\n      simpleCache = null;\n      thisCache = null;\n      memoizeIndex = memoizeGlobalIndex;\n      memoizeGlobalIndex += 1;\n    }\n\n    let cache;\n\n    if (thisNamespace) {\n      thisCache = thisCache || new WeakMap();\n      cache = thisCache.getOrSet(this, getEmptyObject);\n    } else {\n      cache = simpleCache = simpleCache || {};\n    }\n\n    let cacheKey;\n\n    try {\n      cacheKey = serializeArgs(args);\n    } catch {\n      return method.apply(this, arguments);\n    }\n\n    let cacheResult = cache[cacheKey];\n\n    if (cacheResult && cacheTime && Date.now() - cacheResult.time < cacheTime) {\n      delete cache[cacheKey];\n      cacheResult = null;\n    }\n\n    if (cacheResult) {\n      return cacheResult.value;\n    }\n\n    const time = Date.now();\n    const value = method.apply(this, arguments);\n\n    cache[cacheKey] = { time, value };\n\n    return value;\n  };\n\n  memoizedFunction.reset = () => {\n    simpleCache = null;\n    thisCache = null;\n  };\n\n  // $FlowFixMe\n  const result: F = memoizedFunction;\n\n  return setFunctionName(\n    result,\n    `${options.name || getFunctionName(method)}::memoized`\n  );\n}\n\nmemoize.clear = () => {\n  memoizeGlobalIndexValidFrom = memoizeGlobalIndex;\n};\n\nexport function promiseIdentity<T: mixed>(\n  item: ZalgoPromise<T> | T\n): ZalgoPromise<T> {\n  // $FlowFixMe\n  return ZalgoPromise.resolve(item);\n}\n\nexport function memoizePromise<R>(\n  // eslint-disable-next-line flowtype/no-weak-types\n  method: (...args: $ReadOnlyArray<any>) => ZalgoPromise<R>\n  // eslint-disable-next-line flowtype/no-weak-types\n): (...args: $ReadOnlyArray<any>) => ZalgoPromise<R> {\n  let cache = {};\n\n  function memoizedPromiseFunction(\n    // eslint-disable-next-line flowtype/no-weak-types\n    ...args: $ReadOnlyArray<any>\n  ): ZalgoPromise<R> {\n    const key: string = serializeArgs(args);\n\n    if (cache.hasOwnProperty(key)) {\n      return cache[key];\n    }\n\n    cache[key] = ZalgoPromise.try(() => method.apply(this, arguments)).finally(\n      () => {\n        delete cache[key];\n      }\n    );\n\n    return cache[key];\n  }\n\n  memoizedPromiseFunction.reset = () => {\n    cache = {};\n  };\n\n  return setFunctionName(\n    memoizedPromiseFunction,\n    `${getFunctionName(method)}::promiseMemoized`\n  );\n}\n\ntype PromisifyOptions = {|\n  name?: string,\n|};\n\nconst getDefaultPromisifyOptions = (): PromisifyOptions => {\n  // $FlowFixMe\n  return {};\n};\n\nexport function promisify<R>(\n  // eslint-disable-next-line flowtype/no-weak-types\n  method: (...args: $ReadOnlyArray<any>) => R,\n  options: PromisifyOptions = getDefaultPromisifyOptions()\n  // eslint-disable-next-line flowtype/no-weak-types\n): (...args: $ReadOnlyArray<any>) => ZalgoPromise<R> {\n  function promisifiedFunction(): ZalgoPromise<R> {\n    return ZalgoPromise.try(method, this, arguments);\n  }\n\n  if (options.name) {\n    promisifiedFunction.displayName = `${options.name}:promisified`;\n  }\n\n  return setFunctionName(\n    promisifiedFunction,\n    `${getFunctionName(method)}::promisified`\n  );\n}\n\nexport function inlineMemoize<R>(\n  // eslint-disable-next-line flowtype/no-weak-types\n  method: (...args: $ReadOnlyArray<any>) => R,\n  // eslint-disable-next-line flowtype/no-weak-types\n  logic: (...args: $ReadOnlyArray<any>) => R,\n  // eslint-disable-next-line flowtype/no-weak-types\n  args: $ReadOnlyArray<any> = []\n): R {\n  // $FlowFixMe\n  const cache: {| [string]: R |} = (method.__inline_memoize_cache__ =\n    // $FlowFixMe\n    method.__inline_memoize_cache__ || {});\n  const key = serializeArgs(args);\n\n  if (cache.hasOwnProperty(key)) {\n    return cache[key];\n  }\n\n  const result = (cache[key] = logic(...args));\n\n  return result;\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function noop(...args: $ReadOnlyArray<mixed>) {\n  // pass\n}\n\nexport function once(method: Function): Function {\n  let called = false;\n\n  const onceFunction = function (): mixed {\n    if (!called) {\n      called = true;\n      return method.apply(this, arguments);\n    }\n  };\n\n  return setFunctionName(onceFunction, `${getFunctionName(method)}::once`);\n}\n\nexport function hashStr(str: string): number {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash += str[i].charCodeAt(0) * Math.pow((i % 10) + 1, 5);\n  }\n  return Math.floor(Math.pow(Math.sqrt(hash), 5));\n}\n\nexport function strHashStr(str: string): string {\n  let hash = \"\";\n\n  for (let i = 0; i < str.length; i++) {\n    let total = str[i].charCodeAt(0) * i;\n\n    if (str[i + 1]) {\n      total += str[i + 1].charCodeAt(0) * (i - 1);\n    }\n\n    hash += String.fromCharCode(97 + (Math.abs(total) % 26));\n  }\n\n  return hash;\n}\n\nexport function match(str: string, pattern: RegExp): ?string {\n  const regmatch = str.match(pattern);\n  if (regmatch) {\n    return regmatch[1];\n  }\n}\n\nexport function awaitKey<T: mixed>(obj: Object, key: string): ZalgoPromise<T> {\n  return new ZalgoPromise((resolve) => {\n    let value = obj[key];\n\n    if (value) {\n      return resolve(value);\n    }\n\n    delete obj[key];\n\n    Object.defineProperty(obj, key, {\n      configurable: true,\n\n      set(item) {\n        value = item;\n\n        if (value) {\n          resolve(value);\n        }\n      },\n\n      get(): T {\n        return value;\n      },\n    });\n  });\n}\n\nexport function stringifyError(err: mixed, level: number = 1): string {\n  if (level >= 3) {\n    return \"stringifyError stack overflow\";\n  }\n\n  try {\n    if (!err) {\n      // $FlowFixMe[method-unbinding]\n      return `<unknown error: ${Object.prototype.toString.call(err)}>`;\n    }\n\n    if (typeof err === \"string\") {\n      return err;\n    }\n\n    if (err instanceof Error) {\n      const stack = err && err.stack;\n      const message = err && err.message;\n\n      if (stack && message) {\n        if (stack.indexOf(message) !== -1) {\n          return stack;\n        } else {\n          return `${message}\\n${stack}`;\n        }\n      } else if (stack) {\n        return stack;\n      } else if (message) {\n        return message;\n      }\n    }\n\n    if (err && err.toString && typeof err.toString === \"function\") {\n      // $FlowFixMe\n      return err.toString();\n    }\n\n    // $FlowFixMe[method-unbinding]\n    return Object.prototype.toString.call(err);\n  } catch (newErr) {\n    return `Error while stringifying error: ${stringifyError(\n      newErr,\n      level + 1\n    )}`;\n  }\n}\n\nexport function stringifyErrorMessage(err: mixed): string {\n  // $FlowFixMe[method-unbinding]\n  const defaultMessage = `<unknown error: ${Object.prototype.toString.call(\n    err\n  )}>`;\n\n  if (!err) {\n    return defaultMessage;\n  }\n\n  if (err instanceof Error) {\n    return err.message || defaultMessage;\n  }\n\n  if (typeof err.message === \"string\") {\n    return err.message || defaultMessage;\n  }\n\n  return defaultMessage;\n}\n\nexport function stringify(item: mixed): string {\n  if (typeof item === \"string\") {\n    return item;\n  }\n\n  if (item && item.toString && typeof item.toString === \"function\") {\n    // $FlowFixMe\n    return item.toString();\n  }\n\n  // $FlowFixMe[method-unbinding]\n  return Object.prototype.toString.call(item);\n}\n\nexport function domainMatches(hostname: string, domain: string): boolean {\n  hostname = hostname.split(\"://\")[1];\n  const index = hostname.indexOf(domain);\n  return index !== -1 && hostname.slice(index) === domain;\n}\n\nexport function patchMethod(obj: Object, name: string, handler: Function) {\n  const original = obj[name];\n\n  obj[name] = function patchedMethod(): mixed {\n    return handler({\n      context: this,\n      // $FlowFixMe[method-unbinding]\n      args: Array.prototype.slice.call(arguments),\n      original,\n      callOriginal: () => original.apply(this, arguments),\n    });\n  };\n}\n\nexport function extend<T: Object | Function>(obj: T, source: Object): T {\n  if (!source) {\n    return obj;\n  }\n\n  if (Object.assign) {\n    return Object.assign(obj, source);\n  }\n\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      obj[key] = source[key];\n    }\n  }\n\n  return obj;\n}\n\nexport function values<T>(obj: { [string]: T }): $ReadOnlyArray<T> {\n  if (Object.values) {\n    // $FlowFixMe\n    return Object.values(obj);\n  }\n\n  const result: Array<T> = [];\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      // $FlowFixMe[escaped-generic]\n      result.push(obj[key]);\n    }\n  }\n\n  // $FlowFixMe\n  return result;\n}\n\n// eslint-disable-next-line no-undef\nexport const memoizedValues: <T>({ [string]: T }) => $ReadOnlyArray<T> =\n  memoize(values);\n\nexport function perc(pixels: number, percentage: number): number {\n  return Math.round((pixels * percentage) / 100);\n}\n\nexport function min(...args: $ReadOnlyArray<number>): number {\n  return Math.min(...args);\n}\n\nexport function max(...args: $ReadOnlyArray<number>): number {\n  return Math.max(...args);\n}\n\nexport function roundUp(num: number, nearest: number): number {\n  const remainder = num % nearest;\n  return remainder ? num - remainder + nearest : num;\n}\n\nexport function regexMap<T>(\n  str: string,\n  regexp: RegExp,\n  handler: () => T\n): $ReadOnlyArray<T> {\n  const results = [];\n\n  // $FlowFixMe\n  str.replace(regexp, function regexMapMatcher(item) {\n    results.push(handler ? handler.apply(null, arguments) : item);\n  });\n\n  // $FlowFixMe\n  return results;\n}\n\nexport function svgToBase64(svg: string): string {\n  return `data:image/svg+xml;base64,${base64encode(svg)}`;\n}\n\nexport function objFilter<T, R>(\n  obj: { [string]: T },\n  filter?: (T, ?string) => mixed = Boolean\n): { [string]: R } {\n  const result = {};\n\n  for (const key in obj) {\n    if (!obj.hasOwnProperty(key) || !filter(obj[key], key)) {\n      continue;\n    }\n\n    result[key] = obj[key];\n  }\n\n  return result;\n}\n\nexport function identity<T>(item: T): T {\n  return item;\n}\n\nexport function regexTokenize(\n  text: string,\n  regexp: RegExp\n): $ReadOnlyArray<string> {\n  const result = [];\n  text.replace(regexp, (token) => {\n    result.push(token);\n    return \"\";\n  });\n  return result;\n}\n\nexport function promiseDebounce<T>(\n  method: () => ZalgoPromise<T> | T,\n  delay: number = 50\n): () => ZalgoPromise<T> {\n  let promise;\n  let timeout;\n\n  const promiseDebounced = function (): ZalgoPromise<T> {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    const localPromise = (promise = promise || new ZalgoPromise());\n\n    timeout = setTimeout(() => {\n      promise = null;\n      timeout = null;\n\n      ZalgoPromise.try(method).then(\n        (result) => {\n          localPromise.resolve(result);\n        },\n        (err) => {\n          localPromise.reject(err);\n        }\n      );\n    }, delay);\n\n    return localPromise;\n  };\n\n  return setFunctionName(\n    promiseDebounced,\n    `${getFunctionName(method)}::promiseDebounced`\n  );\n}\n\nexport function safeInterval(\n  method: Function,\n  time: number\n): {| cancel: () => void |} {\n  let timeout;\n\n  function loop() {\n    timeout = setTimeout(() => {\n      method();\n      loop();\n    }, time);\n  }\n\n  loop();\n\n  return {\n    cancel() {\n      clearTimeout(timeout);\n    },\n  };\n}\n\nexport function isInteger(str: string): boolean {\n  return Boolean(str.match(/^[0-9]+$/));\n}\n\nexport function isFloat(str: string): boolean {\n  return Boolean(str.match(/^[0-9]+\\.[0-9]+$/));\n}\n\nexport function serializePrimitive(value: string | number | boolean): string {\n  return value.toString();\n}\n\nexport function deserializePrimitive(value: string): string | number | boolean {\n  if (value === \"true\") {\n    return true;\n  } else if (value === \"false\") {\n    return false;\n  } else if (isInteger(value)) {\n    return parseInt(value, 10);\n  } else if (isFloat(value)) {\n    return parseFloat(value);\n  } else {\n    return value;\n  }\n}\n\nexport function dotify(\n  obj: Object,\n  prefix: string = \"\",\n  newobj: Object = {}\n): { [string]: string } {\n  prefix = prefix ? `${prefix}.` : prefix;\n  for (const key in obj) {\n    if (\n      !obj.hasOwnProperty(key) ||\n      obj[key] === undefined ||\n      obj[key] === null ||\n      typeof obj[key] === \"function\"\n    ) {\n      continue;\n    } else if (\n      obj[key] &&\n      Array.isArray(obj[key]) &&\n      obj[key].length &&\n      obj[key].every((val) => typeof val !== \"object\")\n    ) {\n      newobj[`${prefix}${key}[]`] = obj[key].join(\",\");\n    } else if (obj[key] && typeof obj[key] === \"object\") {\n      newobj = dotify(obj[key], `${prefix}${key}`, newobj);\n    } else {\n      newobj[`${prefix}${key}`] = serializePrimitive(obj[key]);\n    }\n  }\n  return newobj;\n}\n\nexport function undotify(obj: { [string]: string }): Object {\n  const result = {};\n\n  for (let key in obj) {\n    if (!obj.hasOwnProperty(key) || typeof obj[key] !== \"string\") {\n      continue;\n    }\n\n    let value = obj[key];\n\n    if (key.match(/^.+\\[\\]$/)) {\n      key = key.slice(0, -2);\n      value = value.split(\",\").map(deserializePrimitive);\n    } else {\n      value = deserializePrimitive(value);\n    }\n\n    let keyResult = result;\n    const parts = key.split(\".\");\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n      const isLast = i + 1 === parts.length;\n      const isIndex = !isLast && isInteger(parts[i + 1]);\n\n      if (\n        part === \"constructor\" ||\n        part === \"prototype\" ||\n        part === \"__proto__\"\n      ) {\n        throw new Error(`Disallowed key: ${part}`);\n      }\n\n      if (isLast) {\n        // $FlowFixMe\n        keyResult[part] = value;\n      } else {\n        // $FlowFixMe\n        keyResult = keyResult[part] = keyResult[part] || (isIndex ? [] : {});\n      }\n    }\n  }\n\n  return result;\n}\n\nexport type EventEmitterType = {|\n  on: (eventName: string, handler: Function) => CancelableType,\n  once: (eventName: string, handler: Function) => CancelableType,\n  trigger: (\n    eventName: string,\n    ...args: $ReadOnlyArray<mixed>\n  ) => ZalgoPromise<void>,\n  triggerOnce: (\n    eventName: string,\n    ...args: $ReadOnlyArray<mixed>\n  ) => ZalgoPromise<void>,\n  reset: () => void,\n|};\n\nexport function eventEmitter(): EventEmitterType {\n  const triggered = {};\n  let handlers = {};\n\n  const emitter = {\n    on(eventName: string, handler: Function): CancelableType {\n      const handlerList = (handlers[eventName] = handlers[eventName] || []);\n\n      handlerList.push(handler);\n\n      let cancelled = false;\n\n      return {\n        cancel() {\n          if (!cancelled) {\n            cancelled = true;\n            handlerList.splice(handlerList.indexOf(handler), 1);\n          }\n        },\n      };\n    },\n\n    once(eventName: string, handler: Function): CancelableType {\n      const listener = emitter.on(eventName, () => {\n        listener.cancel();\n        handler();\n      });\n\n      return listener;\n    },\n\n    trigger(\n      eventName: string,\n      ...args: $ReadOnlyArray<mixed>\n    ): ZalgoPromise<void> {\n      const handlerList = handlers[eventName];\n      const promises = [];\n\n      if (handlerList) {\n        for (const handler of handlerList) {\n          promises.push(ZalgoPromise.try(() => handler(...args)));\n        }\n      }\n\n      return ZalgoPromise.all(promises).then(noop);\n    },\n\n    triggerOnce(\n      eventName: string,\n      ...args: $ReadOnlyArray<mixed>\n    ): ZalgoPromise<void> {\n      if (triggered[eventName]) {\n        return ZalgoPromise.resolve();\n      }\n\n      triggered[eventName] = true;\n      return emitter.trigger(eventName, ...args);\n    },\n\n    reset() {\n      handlers = {};\n    },\n  };\n\n  return emitter;\n}\n\nexport function camelToDasherize(string: string): string {\n  return string.replace(/([A-Z])/g, (g) => {\n    return `-${g.toLowerCase()}`;\n  });\n}\n\nexport function dasherizeToCamel(string: string): string {\n  return string.replace(/-([a-z])/g, (g) => {\n    return g[1].toUpperCase();\n  });\n}\n\nexport function capitalizeFirstLetter(string: string): string {\n  return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n}\n\nexport function get(item: Object, path: string, def: mixed): mixed {\n  if (!path) {\n    return def;\n  }\n\n  const pathParts = path.split(\".\");\n\n  // Loop through each section of our key path\n\n  for (let i = 0; i < pathParts.length; i++) {\n    // If we have an object, we can get the key\n    if (typeof item === \"object\" && item !== null) {\n      item = item[pathParts[i]];\n\n      // Otherwise, we should return the default (undefined if not provided)\n    } else {\n      return def;\n    }\n  }\n\n  // If our final result is undefined, we should return the default\n\n  return item === undefined ? def : item;\n}\n\nexport function safeTimeout(method: Function, time: number) {\n  const interval = safeInterval(() => {\n    time -= 100;\n    if (time <= 0) {\n      interval.cancel();\n      method();\n    }\n  }, 100);\n}\n\nexport function defineLazyProp<T>(\n  obj: Object | $ReadOnlyArray<mixed>,\n  key: string | number,\n  getter: () => T\n) {\n  if (Array.isArray(obj)) {\n    if (typeof key !== \"number\") {\n      throw new TypeError(`Array key must be number`);\n    }\n  } else if (typeof obj === \"object\" && obj !== null) {\n    if (typeof key !== \"string\") {\n      throw new TypeError(`Object key must be string`);\n    }\n  }\n\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: true,\n    get: () => {\n      // $FlowFixMe\n      delete obj[key];\n      const value = getter();\n      // $FlowFixMe\n      obj[key] = value;\n      return value;\n    },\n    set: (value: T) => {\n      // $FlowFixMe\n      delete obj[key];\n      // $FlowFixMe\n      obj[key] = value;\n    },\n  });\n}\n\n// eslint-disable-next-line no-undef\nexport function arrayFrom<T>(item: Iterable<T>): $ReadOnlyArray<T> {\n  // $FlowFixMe[method-unbinding]\n  return Array.prototype.slice.call(item);\n}\n\nexport function isObject(item: mixed): boolean {\n  return typeof item === \"object\" && item !== null;\n}\n\nexport function isObjectObject(obj: mixed): boolean {\n  return (\n    // $FlowFixMe[method-unbinding]\n    isObject(obj) && Object.prototype.toString.call(obj) === \"[object Object]\"\n  );\n}\n\nexport function isPlainObject(obj: mixed): boolean {\n  if (!isObjectObject(obj)) {\n    return false;\n  }\n\n  // $FlowFixMe\n  const constructor = obj.constructor;\n\n  if (typeof constructor !== \"function\") {\n    return false;\n  }\n\n  const prototype = constructor.prototype;\n\n  if (!isObjectObject(prototype)) {\n    return false;\n  }\n\n  if (!prototype.hasOwnProperty(\"isPrototypeOf\")) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function replaceObject<T: $ReadOnlyArray<mixed> | Object>(\n  item: T,\n  replacer: (mixed, string | number, string) => mixed,\n  fullKey: string = \"\"\n): T {\n  if (Array.isArray(item)) {\n    const length = item.length;\n    const result: Array<mixed> = [];\n\n    for (let i = 0; i < length; i++) {\n      defineLazyProp(result, i, () => {\n        const itemKey = fullKey ? `${fullKey}.${i}` : `${i}`;\n        const el = item[i];\n\n        let child = replacer(el, i, itemKey);\n\n        if (isPlainObject(child) || Array.isArray(child)) {\n          // $FlowFixMe\n          child = replaceObject(child, replacer, itemKey);\n        }\n\n        return child;\n      });\n    }\n\n    // $FlowFixMe\n    return result;\n  } else if (isPlainObject(item)) {\n    const result = {};\n\n    for (const key in item) {\n      if (!item.hasOwnProperty(key)) {\n        continue;\n      }\n\n      defineLazyProp(result, key, () => {\n        const itemKey = fullKey ? `${fullKey}.${key}` : `${key}`;\n        // $FlowFixMe\n        const el = item[key];\n\n        let child = replacer(el, key, itemKey);\n\n        if (isPlainObject(child) || Array.isArray(child)) {\n          // $FlowFixMe\n          child = replaceObject(child, replacer, itemKey);\n        }\n\n        return child;\n      });\n    }\n\n    // $FlowFixMe\n    return result;\n  } else {\n    throw new Error(`Pass an object or array`);\n  }\n}\n\nexport function copyProp(\n  source: Object,\n  target: Object,\n  name: string,\n  def: mixed\n) {\n  if (source.hasOwnProperty(name)) {\n    const descriptor = Object.getOwnPropertyDescriptor(source, name);\n    // $FlowFixMe\n    Object.defineProperty(target, name, descriptor);\n  } else {\n    target[name] = def;\n  }\n}\n\ntype RegexResultType = {|\n  text: string,\n  groups: $ReadOnlyArray<string>,\n  start: number,\n  end: number,\n  length: number,\n  replace: (text: string) => string,\n|};\n\nexport function regex(\n  pattern: string | RegExp,\n  string: string,\n  start: number = 0\n): ?RegexResultType {\n  if (typeof pattern === \"string\") {\n    // eslint-disable-next-line security/detect-non-literal-regexp\n    pattern = new RegExp(pattern);\n  }\n\n  const result = string.slice(start).match(pattern);\n\n  if (!result) {\n    return;\n  }\n\n  // $FlowFixMe\n  const index: number = result.index;\n  const regmatch = result[0];\n\n  return {\n    text: regmatch,\n    groups: result.slice(1),\n    start: start + index,\n    end: start + index + regmatch.length,\n    length: regmatch.length,\n\n    replace(text: string): string {\n      if (!regmatch) {\n        return \"\";\n      }\n\n      return `${regmatch.slice(0, start + index)}${text}${regmatch.slice(\n        index + regmatch.length\n      )}`;\n    },\n  };\n}\n\nexport function regexAll(\n  pattern: string | RegExp,\n  string: string\n): $ReadOnlyArray<RegexResultType> {\n  const matches = [];\n  let start = 0;\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const regmatch = regex(pattern, string, start);\n\n    if (!regmatch) {\n      break;\n    }\n\n    matches.push(regmatch);\n    start = match.end;\n  }\n\n  return matches;\n}\n\nexport function isDefined(value: ?mixed): boolean {\n  return value !== null && value !== undefined;\n}\n\nexport function cycle(method: Function): ZalgoPromise<void> {\n  return ZalgoPromise.try(method).then(() => cycle(method));\n}\n\nexport function debounce<T>(\n  method: (...args: $ReadOnlyArray<mixed>) => T,\n  time: number = 100\n): (...args: $ReadOnlyArray<mixed>) => void {\n  let timeout;\n\n  const debounceWrapper = function () {\n    clearTimeout(timeout);\n\n    timeout = setTimeout(() => {\n      return method.apply(this, arguments);\n    }, time);\n  };\n\n  return setFunctionName(\n    debounceWrapper,\n    `${getFunctionName(method)}::debounced`\n  );\n}\n\nexport function isRegex(item: mixed): boolean {\n  // $FlowFixMe[method-unbinding]\n  return Object.prototype.toString.call(item) === \"[object RegExp]\";\n}\n\ntype FunctionProxy<T: Function> = (method: T) => T;\n\nexport const weakMapMemoize: FunctionProxy<*> = <R: mixed>(\n  // eslint-disable-next-line flowtype/no-weak-types\n  method: (arg: any) => R\n  // eslint-disable-next-line flowtype/no-weak-types\n): ((...args: $ReadOnlyArray<any>) => R) => {\n  const weakmap = new WeakMap();\n\n  // eslint-disable-next-line flowtype/no-weak-types\n  return function weakmapMemoized(arg: any): R {\n    return weakmap.getOrSet(arg, () => method.call(this, arg));\n  };\n};\n\ntype FunctionPromiseProxy<\n  R: mixed,\n  T: (...args: $ReadOnlyArray<mixed>) => ZalgoPromise<R>\n> = (T) => T;\n\nexport const weakMapMemoizePromise: FunctionPromiseProxy<*, *> = <R: mixed>(\n  // eslint-disable-next-line flowtype/no-weak-types\n  method: (arg: any) => ZalgoPromise<R>\n  // eslint-disable-next-line flowtype/no-weak-types\n): ((...args: $ReadOnlyArray<any>) => ZalgoPromise<R>) => {\n  const weakmap = new WeakMap();\n\n  // eslint-disable-next-line flowtype/no-weak-types\n  return function weakmapMemoizedPromise(arg: any): ZalgoPromise<R> {\n    return weakmap.getOrSet(arg, () =>\n      method.call(this, arg).finally(() => {\n        weakmap.delete(arg);\n      })\n    );\n  };\n};\n\nexport function getOrSet<O: Object, T: mixed>(\n  obj: O,\n  key: string,\n  getter: () => T\n): T {\n  if (obj.hasOwnProperty(key)) {\n    return obj[key];\n  }\n\n  const val = getter();\n  obj[key] = val;\n  return val;\n}\n\nexport type CleanupType = {|\n  set: <T: mixed>(string, T) => T, // eslint-disable-line no-undef\n  register: (Function) => {| cancel: () => void |},\n  all: (err?: mixed) => ZalgoPromise<void>,\n|};\n\nexport function cleanup(obj: Object): CleanupType {\n  const tasks = [];\n  let cleaned = false;\n  let cleanErr;\n\n  const cleaner = {\n    set<T: mixed>(name: string, item: T): T {\n      if (!cleaned) {\n        obj[name] = item;\n        cleaner.register(() => {\n          delete obj[name];\n        });\n      }\n      return item;\n    },\n\n    register(method: Function): {| cancel: () => void |} {\n      const task = once(() => method(cleanErr));\n\n      if (cleaned) {\n        method(cleanErr);\n      } else {\n        tasks.push(task);\n      }\n\n      return {\n        cancel: () => {\n          const index = tasks.indexOf(task);\n          if (index !== -1) {\n            tasks.splice(index, 1);\n          }\n        },\n      };\n    },\n\n    all(err?: mixed): ZalgoPromise<void> {\n      cleanErr = err;\n\n      const results = [];\n      cleaned = true;\n\n      while (tasks.length) {\n        const task = tasks.shift();\n        results.push(task());\n      }\n\n      return ZalgoPromise.all(results).then(noop);\n    },\n  };\n\n  return cleaner;\n}\n\nexport function tryCatch<T>(\n  fn: () => T\n): {| result: T, error: void |} | {| result: void, error: mixed |} {\n  let result;\n  let error;\n\n  try {\n    result = fn();\n  } catch (err) {\n    error = err;\n  }\n\n  // $FlowFixMe\n  return { result, error };\n}\n\n// eslint-disable-next-line flowtype/no-mutable-array\nexport function removeFromArray<X, T: Array<X>>(arr: T, item: X) {\n  const index = arr.indexOf(item);\n  if (index !== -1) {\n    arr.splice(index, 1);\n  }\n}\n\nexport function assertExists<T>(name: string, thing: void | null | T): T {\n  if (thing === null || typeof thing === \"undefined\") {\n    throw new Error(`Expected ${name} to be present`);\n  }\n\n  return thing;\n}\n\nexport function unique(arr: $ReadOnlyArray<string>): $ReadOnlyArray<string> {\n  const result = {};\n  for (const item of arr) {\n    result[item] = true;\n  }\n  return Object.keys(result);\n}\n\nexport const constHas = <X: string | boolean | number, T: { [string]: X }>(\n  constant: T,\n  value: X\n): boolean => {\n  return memoizedValues(constant).indexOf(value) !== -1;\n};\n\nexport function dedupeErrors<T>(handler: (mixed) => T): (mixed) => T | void {\n  const seenErrors = [];\n  const seenStringifiedErrors = {};\n\n  return (err) => {\n    if (seenErrors.indexOf(err) !== -1) {\n      return;\n    }\n\n    seenErrors.push(err);\n\n    const stringifiedError = stringifyError(err);\n    if (seenStringifiedErrors[stringifiedError]) {\n      return;\n    }\n\n    seenStringifiedErrors[stringifiedError] = true;\n    return handler(err);\n  };\n}\n\nexport class ExtendableError extends Error {\n  constructor(message: string) {\n    super(message);\n    // eslint-disable-next-line unicorn/custom-error-definition\n    this.name = this.constructor.name;\n    if (typeof Error.captureStackTrace === \"function\") {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\nfunction isRelativeUrlWithoutProtocol(url: string): boolean {\n  return relativeFirstCharacters.indexOf(url[0]) > -1;\n}\n\nfunction decodeHtmlCharacters(str: string): string {\n  const removedNullByte: string = str.replace(ctrlCharactersRegex, \"\");\n  return removedNullByte.replace(htmlEntitiesRegex, (matchRegex, dec) => {\n    return String.fromCharCode(dec);\n  });\n}\n\nexport function sanitizeUrl(url?: string): string {\n  if (!url) {\n    return BLANK_URL;\n  }\n\n  const sanitizedUrl = decodeHtmlCharacters(url)\n    .replace(htmlCtrlEntityRegex, \"\")\n    .replace(ctrlCharactersRegex, \"\")\n    .trim();\n\n  if (!sanitizedUrl) {\n    return BLANK_URL;\n  }\n\n  if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {\n    return sanitizedUrl;\n  }\n\n  const urlSchemeParseResults = sanitizedUrl.match(urlSchemeRegex);\n\n  if (!urlSchemeParseResults) {\n    return sanitizedUrl;\n  }\n\n  const urlScheme = urlSchemeParseResults[0];\n\n  if (invalidProtocolRegex.test(urlScheme)) {\n    return BLANK_URL;\n  }\n\n  return sanitizedUrl;\n}\n","/* @flow */\n/* eslint max-lines: off */\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport {\n  linkFrameWindow,\n  isWindowClosed,\n  assertSameDomain,\n  type SameDomainWindowType,\n  type CrossDomainWindowType,\n} from \"@krakenjs/cross-domain-utils/src\";\nimport { WeakMap } from \"@krakenjs/cross-domain-safe-weakmap/src\";\n\nimport {\n  isElement,\n  inlineMemoize,\n  memoize,\n  noop,\n  stringify,\n  capitalizeFirstLetter,\n  once,\n  extend,\n  safeInterval,\n  uniqueID,\n  arrayFrom,\n  ExtendableError,\n  strHashStr,\n} from \"./util\";\nimport { isDevice } from \"./device\";\nimport { KEY_CODES, ATTRIBUTES, UID_HASH_LENGTH } from \"./constants\";\nimport type { CancelableType } from \"./types\";\n\ntype ElementRefType = string | HTMLElement;\n\nexport function getBody(): HTMLBodyElement {\n  // eslint-disable-next-line compat/compat\n  const body = document.body;\n\n  if (!body) {\n    throw new Error(`Body element not found`);\n  }\n\n  return body;\n}\n\nexport function isDocumentReady(): boolean {\n  // eslint-disable-next-line compat/compat\n  return Boolean(document.body) && document.readyState === \"complete\";\n}\n\nexport function isDocumentInteractive(): boolean {\n  // eslint-disable-next-line compat/compat\n  return Boolean(document.body) && document.readyState === \"interactive\";\n}\n\nexport function urlEncode(str: string): string {\n  return encodeURIComponent(str);\n}\n\nexport function waitForWindowReady(): ZalgoPromise<void> {\n  return inlineMemoize(waitForWindowReady, (): ZalgoPromise<void> => {\n    return new ZalgoPromise((resolve) => {\n      if (isDocumentReady()) {\n        resolve();\n      }\n\n      window.addEventListener(\"load\", () => resolve());\n    });\n  });\n}\n\ntype WaitForDocumentReady = () => ZalgoPromise<void>;\n\nexport const waitForDocumentReady: WaitForDocumentReady = memoize(() => {\n  return new ZalgoPromise((resolve) => {\n    if (isDocumentReady() || isDocumentInteractive()) {\n      return resolve();\n    }\n\n    const interval = setInterval(() => {\n      if (isDocumentReady() || isDocumentInteractive()) {\n        clearInterval(interval);\n        return resolve();\n      }\n    }, 10);\n  });\n});\n\nexport function waitForDocumentBody(): ZalgoPromise<HTMLBodyElement> {\n  return ZalgoPromise.try(() => {\n    if (document.body) {\n      return document.body;\n    }\n\n    return waitForDocumentReady().then(() => {\n      if (document.body) {\n        return document.body;\n      }\n\n      throw new Error(\"Document ready but document.body not present\");\n    });\n  });\n}\n\nexport function parseQuery(queryString: string): Object {\n  return inlineMemoize(\n    parseQuery,\n    (): Object => {\n      const params = {};\n\n      if (!queryString) {\n        return params;\n      }\n\n      if (queryString.indexOf(\"=\") === -1) {\n        return params;\n      }\n\n      for (let pair of queryString.split(\"&\")) {\n        pair = pair.split(\"=\");\n\n        if (pair[0] && pair[1]) {\n          params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n        }\n      }\n\n      return params;\n    },\n    [queryString]\n  );\n}\n\nexport function getQueryParam(name: string): string {\n  return parseQuery(window.location.search.slice(1))[name];\n}\n\nexport function urlWillRedirectPage(url: string): boolean {\n  if (url.indexOf(\"#\") === -1) {\n    return true;\n  }\n\n  if (url.indexOf(\"#\") === 0) {\n    return false;\n  }\n\n  if (url.split(\"#\")[0] === window.location.href.split(\"#\")[0]) {\n    return false;\n  }\n\n  return true;\n}\n\nexport type Query = {\n  [string]: boolean | string,\n};\n\nexport function formatQuery(obj: Query = {}): string {\n  return Object.keys(obj)\n    .filter((key) => {\n      return typeof obj[key] === \"string\" || typeof obj[key] === \"boolean\";\n    })\n    .map((key) => {\n      const val = obj[key];\n\n      if (typeof val !== \"string\" && typeof val !== \"boolean\") {\n        throw new TypeError(`Invalid type for query`);\n      }\n\n      return `${urlEncode(key)}=${urlEncode(val.toString())}`;\n    })\n    .join(\"&\");\n}\n\nexport function extendQuery(originalQuery: string, props: Query = {}): string {\n  if (!props || !Object.keys(props).length) {\n    return originalQuery;\n  }\n\n  return formatQuery({\n    ...parseQuery(originalQuery),\n    ...props,\n  });\n}\n\nexport function extendUrl(\n  url: string,\n  options: {| query?: Query, hash?: Query |}\n): string {\n  const query = options.query || {};\n  const hash = options.hash || {};\n\n  let originalUrl;\n  let originalQuery;\n  let originalHash;\n\n  [originalUrl, originalHash] = url.split(\"#\");\n  [originalUrl, originalQuery] = originalUrl.split(\"?\");\n\n  const queryString = extendQuery(originalQuery, query);\n  const hashString = extendQuery(originalHash, hash);\n\n  if (queryString) {\n    originalUrl = `${originalUrl}?${queryString}`;\n  }\n\n  if (hashString) {\n    originalUrl = `${originalUrl}#${hashString}`;\n  }\n\n  return originalUrl;\n}\n\nexport function redirect(\n  url: string,\n  win: CrossDomainWindowType = window\n): ZalgoPromise<void> {\n  return new ZalgoPromise((resolve) => {\n    win.location = url;\n    if (!urlWillRedirectPage(url)) {\n      resolve();\n    }\n  });\n}\n\nexport function hasMetaViewPort(): boolean {\n  const meta = document.querySelector(\"meta[name=viewport]\");\n\n  if (isDevice() && window.screen.width < 660 && !meta) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isElementVisible(el: HTMLElement): boolean {\n  return Boolean(\n    el.offsetWidth || el.offsetHeight || el.getClientRects().length\n  );\n}\n\nexport function getPerformance(): ?Performance {\n  return inlineMemoize(getPerformance, (): ?Performance => {\n    const performance = window.performance;\n\n    if (\n      performance &&\n      performance.now &&\n      performance.timing &&\n      performance.timing.connectEnd &&\n      performance.timing.navigationStart &&\n      Math.abs(performance.now() - Date.now()) > 1000 &&\n      performance.now() -\n        (performance.timing.connectEnd - performance.timing.navigationStart) >\n        0\n    ) {\n      return performance;\n    }\n  });\n}\n\nexport function enablePerformance(): boolean {\n  return Boolean(getPerformance());\n}\n\nexport function getPageRenderTime(): ZalgoPromise<?number> {\n  return waitForDocumentReady().then(() => {\n    const performance = getPerformance();\n\n    if (!performance) {\n      return;\n    }\n\n    const timing = performance.timing;\n\n    if (timing.connectEnd && timing.domInteractive) {\n      return timing.domInteractive - timing.connectEnd;\n    }\n  });\n}\n\nexport function htmlEncode(html: string = \"\"): string {\n  return html\n    .toString()\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#39;\")\n    .replace(/\\//g, \"&#x2F;\");\n}\n\nexport function isBrowser(): boolean {\n  return typeof window !== \"undefined\" && window.location !== undefined;\n}\n\nexport function querySelectorAll(\n  selector: string,\n  doc: HTMLElement = window.document\n): $ReadOnlyArray<HTMLElement> {\n  // $FlowFixMe[method-unbinding]\n  return Array.prototype.slice.call(doc.querySelectorAll(selector));\n}\n\n/**\n * Sets up event handlers for click events and\n * enter/space keypresses.\n * @callback handler\n * @param {HTMLElement} element\n * @param {handler} handler\n */\nexport function onClick(element: HTMLElement, handler: (Event) => void) {\n  element.addEventListener(\"touchstart\", noop, { passive: true });\n  element.addEventListener(\"click\", handler);\n  element.addEventListener(\"keypress\", (event: Event) => {\n    if (\n      // $FlowFixMe\n      event.keyCode === KEY_CODES.ENTER ||\n      // $FlowFixMe\n      event.keyCode === KEY_CODES.SPACE\n    ) {\n      return handler(event);\n    }\n  });\n}\n\nexport function getScript({\n  host = window.location.host,\n  path,\n  reverse = false,\n}: {|\n  host?: string,\n  path: string,\n  reverse?: boolean,\n|}): ?HTMLScriptElement {\n  return inlineMemoize(\n    getScript,\n    (): ?HTMLScriptElement => {\n      const url = `${host}${path}`;\n      // $FlowFixMe[method-unbinding]\n      const scripts = Array.prototype.slice.call(\n        document.getElementsByTagName(\"script\")\n      );\n\n      if (reverse) {\n        scripts.reverse();\n      }\n\n      for (const script of scripts) {\n        if (!script.src) {\n          continue;\n        }\n\n        const src = script.src.replace(/^https?:\\/\\//, \"\").split(\"?\")[0];\n\n        if (src === url) {\n          return script;\n        }\n      }\n    },\n    [path]\n  );\n}\n\nexport function isLocalStorageEnabled(): boolean {\n  return inlineMemoize(isLocalStorageEnabled, () => {\n    try {\n      if (typeof window === \"undefined\") {\n        return false;\n      }\n\n      if (window.localStorage) {\n        const value = Math.random().toString();\n        window.localStorage.setItem(\"__test__localStorage__\", value);\n        const result = window.localStorage.getItem(\"__test__localStorage__\");\n        window.localStorage.removeItem(\"__test__localStorage__\");\n        if (value === result) {\n          return true;\n        }\n      }\n    } catch (err) {\n      // pass\n    }\n    return false;\n  });\n}\n\nexport function getBrowserLocales(): $ReadOnlyArray<{|\n  country?: string,\n  lang: string,\n|}> {\n  const nav = window.navigator;\n\n  const locales = nav.languages ? [...nav.languages] : [];\n\n  if (nav.language) {\n    locales.push(nav.language);\n  }\n\n  if (nav.userLanguage) {\n    locales.push(nav.userLanguage);\n  }\n\n  return locales\n    .map((locale) => {\n      if (locale && locale.match(/^[a-z]{2}[-_][A-Z]{2}$/)) {\n        const [lang, country] = locale.split(/[-_]/);\n        return { country, lang };\n      }\n\n      if (locale && locale.match(/^[a-z]{2}$/)) {\n        return { lang: locale };\n      }\n\n      return null;\n    })\n    .filter(Boolean);\n}\n\nexport function appendChild(container: HTMLElement, child: HTMLElement | Text) {\n  container.appendChild(child);\n}\n\nexport function getElementSafe(\n  id: ElementRefType,\n  doc: Document | HTMLElement = document\n): ?HTMLElement {\n  if (isElement(id)) {\n    // $FlowFixMe\n    return id;\n  }\n\n  if (typeof id === \"string\") {\n    return doc.querySelector(id);\n  }\n}\n\nexport function getElement(\n  id: ElementRefType,\n  doc: Document | HTMLElement = document\n): HTMLElement {\n  const element = getElementSafe(id, doc);\n\n  if (element) {\n    return element;\n  }\n\n  throw new Error(`Can not find element: ${stringify(id)}`);\n}\n\nexport function elementReady(id: ElementRefType): ZalgoPromise<HTMLElement> {\n  return new ZalgoPromise((resolve, reject) => {\n    const name = stringify(id);\n    let el = getElementSafe(id);\n\n    if (el) {\n      return resolve(el);\n    }\n\n    if (isDocumentReady()) {\n      return reject(\n        new Error(`Document is ready and element ${name} does not exist`)\n      );\n    }\n\n    const interval = setInterval(() => {\n      el = getElementSafe(id);\n\n      if (el) {\n        resolve(el);\n        clearInterval(interval);\n        return;\n      }\n\n      if (isDocumentReady()) {\n        clearInterval(interval);\n        return reject(\n          new Error(`Document is ready and element ${name} does not exist`)\n        );\n      }\n    }, 10);\n  });\n}\n\n// eslint-disable-next-line unicorn/custom-error-definition\nexport class PopupOpenError extends ExtendableError {}\n\ntype PopupOptions = {|\n  name?: string,\n  width?: number,\n  height?: number,\n  top?: number,\n  left?: number,\n  status?: 0 | 1,\n  resizable?: 0 | 1,\n  toolbar?: 0 | 1,\n  menubar?: 0 | 1,\n  scrollbars?: 0 | 1,\n  closeOnUnload?: 0 | 1,\n|};\n\nexport function popup(\n  url: string,\n  options?: PopupOptions\n): CrossDomainWindowType {\n  // $FlowFixMe\n  options = options || {};\n\n  const { closeOnUnload = 1, name = \"\", width, height } = options;\n\n  let top = 0;\n  let left = 0;\n\n  if (width) {\n    if (window.outerWidth) {\n      left = Math.round((window.outerWidth - width) / 2) + window.screenX;\n    } else if (window.screen.width) {\n      left = Math.round((window.screen.width - width) / 2);\n    }\n  }\n\n  if (height) {\n    if (window.outerHeight) {\n      top = Math.round((window.outerHeight - height) / 2) + window.screenY;\n    } else if (window.screen.height) {\n      top = Math.round((window.screen.height - height) / 2);\n    }\n  }\n\n  delete options.closeOnUnload;\n  delete options.name;\n\n  if (width && height) {\n    // $FlowFixMe\n    options = {\n      top,\n      left,\n      width,\n      height,\n      status: 1,\n      toolbar: 0,\n      menubar: 0,\n      resizable: 1,\n      scrollbars: 1,\n      ...options,\n    };\n  }\n\n  const params = Object.keys(options)\n    // eslint-disable-next-line array-callback-return\n    .map((key) => {\n      // $FlowFixMe\n      if (options[key] !== null && options[key] !== undefined) {\n        return `${key}=${stringify(options[key])}`;\n      }\n    })\n    .filter(Boolean)\n    .join(\",\");\n\n  let win;\n\n  try {\n    win = window.open(url, name, params);\n  } catch (err) {\n    throw new PopupOpenError(\n      `Can not open popup window - ${err.stack || err.message}`\n    );\n  }\n\n  if (isWindowClosed(win)) {\n    const err = new PopupOpenError(`Can not open popup window - blocked`);\n    throw err;\n  }\n\n  if (closeOnUnload) {\n    window.addEventListener(\"unload\", () => win.close());\n  }\n\n  return win;\n}\n\nexport function writeToWindow(win: SameDomainWindowType, html: string) {\n  try {\n    win.document.open();\n    win.document.write(html);\n    win.document.close();\n  } catch (err) {\n    try {\n      win.location = `javascript: document.open(); document.write(${JSON.stringify(\n        html\n      )}); document.close();`;\n    } catch (err2) {\n      // pass\n    }\n  }\n}\n\nexport function writeElementToWindow(\n  win: SameDomainWindowType,\n  el: HTMLElement\n) {\n  const tag = el.tagName.toLowerCase();\n\n  if (tag !== \"html\") {\n    throw new Error(`Expected element to be html, got ${tag}`);\n  }\n\n  const documentElement = win.document.documentElement;\n\n  for (const child of arrayFrom(documentElement.children)) {\n    documentElement.removeChild(child);\n  }\n\n  for (const child of arrayFrom(el.children)) {\n    documentElement.appendChild(child);\n  }\n}\n\nexport function setStyle(\n  el: HTMLElement,\n  styleText: string,\n  doc: Document = window.document\n) {\n  // $FlowFixMe\n  if (el.styleSheet) {\n    // $FlowFixMe\n    el.styleSheet.cssText = styleText;\n  } else {\n    el.appendChild(doc.createTextNode(styleText));\n  }\n}\n\nexport type ElementOptionsType = {|\n  style?: { [string]: string },\n  id?: string,\n  class?: ?$ReadOnlyArray<string>,\n  attributes?: { [string]: string },\n  styleSheet?: ?string,\n  html?: ?string,\n|};\n\nlet awaitFrameLoadPromises: WeakMap<\n  HTMLIFrameElement,\n  ZalgoPromise<HTMLIFrameElement>\n>;\n\nexport function awaitFrameLoad(\n  frame: HTMLIFrameElement\n): ZalgoPromise<HTMLIFrameElement> {\n  awaitFrameLoadPromises = awaitFrameLoadPromises || new WeakMap();\n\n  if (awaitFrameLoadPromises.has(frame)) {\n    const promise = awaitFrameLoadPromises.get(frame);\n    if (promise) {\n      return promise;\n    }\n  }\n\n  const promise = new ZalgoPromise((resolve, reject) => {\n    frame.addEventListener(\"load\", () => {\n      linkFrameWindow(frame);\n      resolve(frame);\n    });\n\n    frame.addEventListener(\"error\", (err: Event) => {\n      if (frame.contentWindow) {\n        resolve(frame);\n      } else {\n        reject(err);\n      }\n    });\n  });\n\n  awaitFrameLoadPromises.set(frame, promise);\n\n  return promise;\n}\n\nexport function awaitFrameWindow(\n  frame: HTMLIFrameElement\n): ZalgoPromise<CrossDomainWindowType> {\n  return awaitFrameLoad(frame).then((loadedFrame) => {\n    if (!loadedFrame.contentWindow) {\n      throw new Error(`Could not find window in iframe`);\n    }\n\n    return loadedFrame.contentWindow;\n  });\n}\n\nconst getDefaultCreateElementOptions = (): ElementOptionsType => {\n  // $FlowFixMe\n  return {};\n};\n\nexport function createElement(\n  tag: string = \"div\",\n  options: ElementOptionsType = getDefaultCreateElementOptions(),\n  container: ?HTMLElement\n): HTMLElement {\n  tag = tag.toLowerCase();\n  const element = document.createElement(tag);\n\n  if (options.style) {\n    extend(element.style, options.style);\n  }\n\n  if (options.class) {\n    element.className = options.class.join(\" \");\n  }\n\n  if (options.id) {\n    element.setAttribute(\"id\", options.id);\n  }\n\n  if (options.attributes) {\n    for (const key of Object.keys(options.attributes)) {\n      element.setAttribute(key, options.attributes[key]);\n    }\n  }\n\n  if (options.styleSheet) {\n    setStyle(element, options.styleSheet);\n  }\n\n  if (container) {\n    appendChild(container, element);\n  }\n\n  if (options.html) {\n    if (tag === \"iframe\") {\n      // $FlowFixMe\n      if (!container || !element.contentWindow) {\n        throw new Error(\n          `Iframe html can not be written unless container provided and iframe in DOM`\n        );\n      }\n\n      // $FlowFixMe\n      writeToWindow(element.contentWindow, options.html);\n    } else {\n      element.innerHTML = options.html;\n    }\n  }\n\n  return element;\n}\n\ntype StringMap = {|\n  [string]: string,\n|};\n\nexport type IframeElementOptionsType = {|\n  style?: StringMap,\n  class?: ?$ReadOnlyArray<string>,\n  attributes?: StringMap,\n  styleSheet?: ?string,\n  html?: ?string,\n  url?: ?string,\n|};\n\nconst getDefaultIframeOptions = (): IframeElementOptionsType => {\n  // $FlowFixMe\n  return {};\n};\n\nconst getDefaultStringMap = (): StringMap => {\n  // $FlowFixMe\n  return {};\n};\n\nexport function iframe(\n  options: IframeElementOptionsType = getDefaultIframeOptions(),\n  container: ?HTMLElement\n): HTMLIFrameElement {\n  const attributes = options.attributes || getDefaultStringMap();\n  const style = options.style || getDefaultStringMap();\n\n  // $FlowFixMe\n  const newAttributes = {\n    allowTransparency: \"true\",\n    ...attributes,\n  };\n\n  // $FlowFixMe\n  const newStyle = {\n    backgroundColor: \"transparent\",\n    border: \"none\",\n    ...style,\n  };\n\n  const frame = createElement(\"iframe\", {\n    attributes: newAttributes,\n    style: newStyle,\n    html: options.html,\n    class: options.class,\n  });\n\n  const isIE = window.navigator.userAgent.match(/MSIE|Edge/i);\n\n  if (!frame.hasAttribute(\"id\")) {\n    frame.setAttribute(\"id\", uniqueID());\n  }\n\n  // $FlowFixMe\n  awaitFrameLoad(frame);\n\n  if (container) {\n    const el = getElement(container);\n    el.appendChild(frame);\n  }\n\n  if (options.url || isIE) {\n    frame.setAttribute(\"src\", options.url || \"about:blank\");\n  }\n\n  // $FlowFixMe\n  return frame;\n}\n\nexport function addEventListener(\n  obj: HTMLElement,\n  event: string,\n  handler: (event: Event) => void\n): CancelableType {\n  obj.addEventListener(event, handler);\n  return {\n    cancel() {\n      obj.removeEventListener(event, handler);\n    },\n  };\n}\n\nexport function bindEvents(\n  element: HTMLElement,\n  eventNames: $ReadOnlyArray<string>,\n  handler: (event: Event) => void\n): CancelableType {\n  handler = once(handler);\n\n  for (const eventName of eventNames) {\n    element.addEventListener(eventName, handler);\n  }\n\n  return {\n    cancel: once(() => {\n      for (const eventName of eventNames) {\n        element.removeEventListener(eventName, handler);\n      }\n    }),\n  };\n}\n\nconst VENDOR_PREFIXES = [\"webkit\", \"moz\", \"ms\", \"o\"];\n\nexport function setVendorCSS(\n  element: HTMLElement,\n  name: string,\n  value: string\n) {\n  // $FlowFixMe\n  element.style[name] = value;\n\n  const capitalizedName = capitalizeFirstLetter(name);\n\n  for (const prefix of VENDOR_PREFIXES) {\n    // $FlowFixMe\n    element.style[`${prefix}${capitalizedName}`] = value;\n  }\n}\n\nconst ANIMATION_START_EVENTS = [\n  \"animationstart\",\n  \"webkitAnimationStart\",\n  \"oAnimationStart\",\n  \"MSAnimationStart\",\n];\nconst ANIMATION_END_EVENTS = [\n  \"animationend\",\n  \"webkitAnimationEnd\",\n  \"oAnimationEnd\",\n  \"MSAnimationEnd\",\n];\n\nexport function animate(\n  element: ElementRefType,\n  name: string,\n  clean: (Function) => void,\n  timeout: number = 1000\n): ZalgoPromise<void> {\n  return new ZalgoPromise((resolve, reject) => {\n    const el = getElement(element);\n\n    if (!el) {\n      return resolve();\n    }\n\n    let hasStarted = false;\n\n    // eslint-disable-next-line prefer-const\n    let startTimeout;\n    let endTimeout;\n    // eslint-disable-next-line prefer-const\n    let startEvent;\n    // eslint-disable-next-line prefer-const\n    let endEvent;\n\n    function cleanUp() {\n      clearTimeout(startTimeout);\n      clearTimeout(endTimeout);\n      startEvent.cancel();\n      endEvent.cancel();\n    }\n\n    startEvent = bindEvents(el, ANIMATION_START_EVENTS, (event) => {\n      // $FlowFixMe\n      if (event.target !== el || event.animationName !== name) {\n        return;\n      }\n\n      clearTimeout(startTimeout);\n\n      event.stopPropagation();\n\n      startEvent.cancel();\n      hasStarted = true;\n\n      endTimeout = setTimeout(() => {\n        cleanUp();\n        resolve();\n      }, timeout);\n    });\n\n    endEvent = bindEvents(el, ANIMATION_END_EVENTS, (event) => {\n      // $FlowFixMe\n      if (event.target !== el || event.animationName !== name) {\n        return;\n      }\n\n      cleanUp();\n\n      if (\n        // $FlowFixMe\n        typeof event.animationName === \"string\" &&\n        event.animationName !== name\n      ) {\n        return reject(\n          `Expected animation name to be ${name}, found ${event.animationName}`\n        );\n      }\n\n      return resolve();\n    });\n\n    setVendorCSS(el, \"animationName\", name);\n\n    startTimeout = setTimeout(() => {\n      if (!hasStarted) {\n        cleanUp();\n        return resolve();\n      }\n    }, 200);\n\n    if (clean) {\n      clean(cleanUp);\n    }\n  });\n}\n\nexport function makeElementVisible(element: HTMLElement) {\n  element.style.setProperty(\"visibility\", \"\");\n}\n\nexport function makeElementInvisible(element: HTMLElement) {\n  element.style.setProperty(\"visibility\", \"hidden\", \"important\");\n}\n\nexport function showElement(element: HTMLElement) {\n  element.style.setProperty(\"display\", \"\");\n}\n\nexport function hideElement(element: HTMLElement) {\n  element.style.setProperty(\"display\", \"none\", \"important\");\n}\n\nexport function destroyElement(element: HTMLElement) {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n\nexport function showAndAnimate(\n  element: HTMLElement,\n  name: string,\n  clean: (Function) => void\n): ZalgoPromise<void> {\n  const animation = animate(element, name, clean);\n  showElement(element);\n  return animation;\n}\n\nexport function animateAndHide(\n  element: HTMLElement,\n  name: string,\n  clean: (Function) => void\n): ZalgoPromise<void> {\n  return animate(element, name, clean).then(() => {\n    hideElement(element);\n  });\n}\n\nexport function addClass(element: HTMLElement, name: string) {\n  element.classList.add(name);\n}\n\nexport function removeClass(element: HTMLElement, name: string) {\n  element.classList.remove(name);\n}\n\nexport function isElementClosed(el: HTMLElement): boolean {\n  if (\n    !el ||\n    !el.parentNode ||\n    !el.ownerDocument ||\n    !el.ownerDocument.documentElement ||\n    !el.ownerDocument.documentElement.contains(el)\n  ) {\n    return true;\n  }\n  return false;\n}\n\nexport function watchElementForClose(\n  element: HTMLElement,\n  handler: () => mixed\n): CancelableType {\n  handler = once(handler);\n\n  let cancelled = false;\n  const mutationObservers = [];\n  // eslint-disable-next-line prefer-const\n  let interval;\n  // eslint-disable-next-line prefer-const\n  let sacrificialFrame;\n  let sacrificialFrameWin;\n\n  const cancel = () => {\n    cancelled = true;\n    for (const observer of mutationObservers) {\n      observer.disconnect();\n    }\n    if (interval) {\n      interval.cancel();\n    }\n    if (sacrificialFrameWin) {\n      // eslint-disable-next-line no-use-before-define\n      sacrificialFrameWin.removeEventListener(\"unload\", elementClosed);\n    }\n    if (sacrificialFrame) {\n      destroyElement(sacrificialFrame);\n    }\n  };\n\n  const elementClosed = () => {\n    if (!cancelled) {\n      handler();\n      cancel();\n    }\n  };\n\n  if (isElementClosed(element)) {\n    elementClosed();\n    return { cancel };\n  }\n\n  // Strategy 1: Mutation observer\n\n  if (window.MutationObserver) {\n    let mutationElement = element.parentElement;\n    while (mutationElement) {\n      const mutationObserver = new window.MutationObserver(() => {\n        if (isElementClosed(element)) {\n          elementClosed();\n        }\n      });\n\n      mutationObserver.observe(mutationElement, { childList: true });\n      mutationObservers.push(mutationObserver);\n      mutationElement = mutationElement.parentElement;\n    }\n  }\n\n  // Strategy 2: Sacrificial iframe\n\n  sacrificialFrame = document.createElement(\"iframe\");\n  sacrificialFrame.setAttribute(\"name\", `__detect_close_${uniqueID()}__`);\n  sacrificialFrame.style.display = \"none\";\n  awaitFrameWindow(sacrificialFrame).then((frameWin) => {\n    sacrificialFrameWin = assertSameDomain(frameWin);\n    sacrificialFrameWin.addEventListener(\"unload\", elementClosed);\n  });\n  element.appendChild(sacrificialFrame);\n\n  // Strategy 3: Poller\n\n  const check = () => {\n    if (isElementClosed(element)) {\n      elementClosed();\n    }\n  };\n  interval = safeInterval(check, 1000);\n\n  return { cancel };\n}\n\nexport function fixScripts(el: HTMLElement, doc: Document = window.document) {\n  for (const script of querySelectorAll(\"script\", el)) {\n    const parentNode = script.parentNode;\n\n    if (!parentNode) {\n      continue;\n    }\n\n    const newScript = doc.createElement(\"script\");\n    newScript.text = script.textContent;\n    parentNode.replaceChild(newScript, script);\n  }\n}\n\ntype OnResizeOptions = {|\n  width?: boolean,\n  height?: boolean,\n  interval?: number,\n  win?: SameDomainWindowType,\n|};\n\nexport function onResize(\n  el: HTMLElement,\n  handler: ({| width: number, height: number |}) => void,\n  {\n    width = true,\n    height = true,\n    interval = 100,\n    win = window,\n  }: OnResizeOptions = {}\n): {| cancel: () => void |} {\n  let currentWidth = el.offsetWidth;\n  let currentHeight = el.offsetHeight;\n  let canceled = false;\n\n  handler({ width: currentWidth, height: currentHeight });\n\n  const check = () => {\n    if (canceled || !isElementVisible(el)) {\n      return;\n    }\n\n    const newWidth = el.offsetWidth;\n    const newHeight = el.offsetHeight;\n\n    if (\n      (width && newWidth !== currentWidth) ||\n      (height && newHeight !== currentHeight)\n    ) {\n      handler({ width: newWidth, height: newHeight });\n    }\n\n    currentWidth = newWidth;\n    currentHeight = newHeight;\n  };\n\n  let observer;\n  let timeout;\n\n  win.addEventListener(\"resize\", check);\n\n  if (typeof win.ResizeObserver !== \"undefined\") {\n    observer = new win.ResizeObserver(check);\n    observer.observe(el);\n    timeout = safeInterval(check, interval * 10);\n  } else if (typeof win.MutationObserver !== \"undefined\") {\n    observer = new win.MutationObserver(check);\n    observer.observe(el, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n      characterData: false,\n    });\n    timeout = safeInterval(check, interval * 10);\n  } else {\n    timeout = safeInterval(check, interval);\n  }\n\n  return {\n    cancel: () => {\n      canceled = true;\n      observer.disconnect();\n      window.removeEventListener(\"resize\", check);\n      timeout.cancel();\n    },\n  };\n}\n\nexport function getResourceLoadTime(url: string): ?number {\n  const performance = getPerformance();\n\n  if (!performance) {\n    return;\n  }\n\n  // $FlowFixMe[method-unbinding]\n  if (typeof performance.getEntries !== \"function\") {\n    return;\n  }\n\n  const entries = performance.getEntries();\n\n  for (let i = 0; i < entries.length; i++) {\n    const entry = entries[i];\n\n    if (\n      entry &&\n      entry.name &&\n      entry.name.indexOf(url) === 0 &&\n      typeof entry.duration === \"number\"\n    ) {\n      return Math.floor(entry.duration);\n    }\n  }\n}\n\nexport function isShadowElement(element: Node): boolean {\n  while (element.parentNode) {\n    element = element.parentNode;\n  }\n\n  return element.toString() === \"[object ShadowRoot]\";\n}\n\nexport function getShadowRoot(element: Node): ?Node {\n  while (element.parentNode) {\n    element = element.parentNode;\n  }\n\n  if (isShadowElement(element)) {\n    return element;\n  }\n}\n\nexport function getShadowHost(element: Node): ?HTMLElement {\n  const shadowRoot = getShadowRoot(element);\n\n  // $FlowFixMe\n  if (shadowRoot && shadowRoot.host) {\n    // $FlowFixMe\n    return shadowRoot.host;\n  }\n}\n\nexport function insertShadowSlot(element: HTMLElement): HTMLElement {\n  const shadowHost = getShadowHost(element);\n\n  if (!shadowHost) {\n    throw new Error(`Element is not in shadow dom`);\n  }\n\n  const slotName = `shadow-slot-${uniqueID()}`;\n  const slot = document.createElement(\"slot\");\n  slot.setAttribute(\"name\", slotName);\n  element.appendChild(slot);\n\n  const slotProvider = document.createElement(\"div\");\n  slotProvider.setAttribute(\"slot\", slotName);\n  shadowHost.appendChild(slotProvider);\n\n  if (isShadowElement(shadowHost)) {\n    return insertShadowSlot(slotProvider);\n  }\n\n  return slotProvider;\n}\n\nexport function preventClickFocus(el: HTMLElement) {\n  const onFocus = (event: Event) => {\n    el.removeEventListener(\"focus\", onFocus);\n    event.preventDefault();\n    el.blur();\n    return false;\n  };\n\n  el.addEventListener(\"mousedown\", () => {\n    el.addEventListener(\"focus\", onFocus);\n    setTimeout(() => {\n      el.removeEventListener(\"focus\", onFocus);\n    }, 1);\n  });\n}\n\nexport function getStackTrace(): string {\n  try {\n    throw new Error(\"_\");\n  } catch (err) {\n    return err.stack || \"\";\n  }\n}\n\nfunction inferCurrentScript(): ?HTMLScriptElement {\n  try {\n    const stack = getStackTrace();\n    const stackDetails = /.*at [^(]*\\((.*):(.+):(.+)\\)$/gi.exec(stack);\n    const scriptLocation = stackDetails && stackDetails[1];\n\n    if (!scriptLocation) {\n      return;\n    }\n\n    // $FlowFixMe[method-unbinding]\n    for (const script of Array.prototype.slice\n      .call(document.getElementsByTagName(\"script\"))\n      .reverse()) {\n      if (script.src && script.src === scriptLocation) {\n        return script;\n      }\n    }\n  } catch (err) {\n    // pass\n  }\n}\n\nlet currentScript =\n  // eslint-disable-next-line compat/compat\n  typeof document !== \"undefined\" ? document.currentScript : null;\n\ntype GetCurrentScript = () => HTMLScriptElement;\n\nexport const getCurrentScript: GetCurrentScript = memoize(() => {\n  if (currentScript) {\n    return currentScript;\n  }\n\n  currentScript = inferCurrentScript();\n\n  if (currentScript) {\n    return currentScript;\n  }\n\n  throw new Error(\"Can not determine current script\");\n});\n\nconst currentUID = uniqueID();\n\ntype GetCurrentScriptUID = () => string;\n\nexport const getCurrentScriptUID: GetCurrentScriptUID = memoize(() => {\n  let script;\n\n  try {\n    script = getCurrentScript();\n  } catch (err) {\n    return currentUID;\n  }\n\n  let uid = script.getAttribute(ATTRIBUTES.UID);\n\n  if (uid && typeof uid === \"string\") {\n    return uid;\n  }\n\n  uid = script.getAttribute(`${ATTRIBUTES.UID}-auto`);\n\n  if (uid && typeof uid === \"string\") {\n    return uid;\n  }\n\n  if (script.src) {\n    const { src, dataset } = script;\n    const stringToHash = JSON.stringify({ src, dataset });\n    const hashedString = strHashStr(stringToHash);\n    const hashResult = hashedString.slice(\n      hashedString.length - UID_HASH_LENGTH\n    );\n\n    uid = `uid_${hashResult}`;\n  } else {\n    uid = uniqueID();\n  }\n\n  script.setAttribute(`${ATTRIBUTES.UID}-auto`, uid);\n\n  return uid;\n});\n\ntype SubmitFormOptions = {|\n  url: string,\n  target: string,\n  body?: {| [string]: string | boolean |},\n  method?: string,\n|};\n\nexport function submitForm({\n  url,\n  target,\n  body,\n  method = \"post\",\n}: SubmitFormOptions) {\n  const form = document.createElement(\"form\");\n  form.setAttribute(\"target\", target);\n  form.setAttribute(\"method\", method);\n  form.setAttribute(\"action\", url);\n  form.style.display = \"none\";\n\n  if (body) {\n    for (const key of Object.keys(body)) {\n      const input = document.createElement(\"input\");\n      input.setAttribute(\"name\", key);\n      input.setAttribute(\"value\", body[key]?.toString());\n      form.appendChild(input);\n    }\n  }\n\n  getBody().appendChild(form);\n  form.submit();\n  getBody().removeChild(form);\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","/* @flow */\n\nimport { uniqueID, getGlobal, inlineMemoize } from \"./util\";\nimport { isLocalStorageEnabled } from \"./dom\";\n\ntype Getter<T> = <T>(handler: (Object) => T) => T;\n\nexport type Storage = {|\n  getState: Getter<*>,\n  getID: () => string,\n  isStateFresh: () => boolean,\n  getSessionState: Getter<*>,\n  getSessionID: () => string,\n|};\n\nconst DEFAULT_SESSION_STORAGE = 20 * 60 * 1000;\n\nexport function getStorage({\n  name,\n  lifetime = DEFAULT_SESSION_STORAGE,\n  // a sticky session id helps to identify sdk sessions that were created by other sdks\n  // like the situation where the Braintree SDK loads the PP SDK\n  stickySessionId,\n}: {|\n  name: string,\n  lifetime?: number,\n  stickySessionId?: string,\n|}): Storage {\n  return inlineMemoize(\n    getStorage,\n    () => {\n      const STORAGE_KEY = `__${name}_storage__`;\n      const newStateID = uniqueID();\n\n      let accessedStorage;\n\n      function getState<T>(handler: (storage: Object) => T): T {\n        const localStorageEnabled = isLocalStorageEnabled();\n        let storage;\n\n        if (accessedStorage) {\n          storage = accessedStorage;\n        }\n\n        if (!storage && localStorageEnabled) {\n          const rawStorage = window.localStorage.getItem(STORAGE_KEY);\n\n          if (rawStorage) {\n            storage = JSON.parse(rawStorage);\n          }\n        }\n\n        if (!storage) {\n          storage = getGlobal()[STORAGE_KEY];\n        }\n\n        if (!storage) {\n          storage = {\n            id: newStateID,\n          };\n        }\n\n        if (!storage.id) {\n          storage.id = newStateID;\n        }\n\n        accessedStorage = storage;\n\n        const result = handler(storage);\n\n        if (localStorageEnabled) {\n          window.localStorage.setItem(STORAGE_KEY, JSON.stringify(storage));\n        } else {\n          getGlobal()[STORAGE_KEY] = storage;\n        }\n\n        accessedStorage = null;\n\n        return result;\n      }\n\n      function getID(): string {\n        return getState((storage) => storage.id);\n      }\n\n      function isStateFresh(): boolean {\n        return getID() === newStateID;\n      }\n\n      function getSession<T>(handler: (state: Object) => T): T {\n        return getState((storage) => {\n          let session = storage.__session__;\n          const now = Date.now();\n\n          if (session && now - session.created > lifetime) {\n            session = null;\n          }\n\n          if (!session) {\n            session = {\n              guid: stickySessionId || uniqueID(),\n              created: now,\n            };\n          }\n\n          storage.__session__ = session;\n\n          return handler(session);\n        });\n      }\n\n      function getSessionState<T>(handler: (state: Object) => T): T {\n        return getSession((session) => {\n          session.state = session.state || {};\n          return handler(session.state);\n        });\n      }\n\n      function getSessionID(): string {\n        return getSession((session) => session.guid);\n      }\n\n      return {\n        getState,\n        getID,\n        isStateFresh,\n        getSessionState,\n        getSessionID,\n      };\n    },\n    [{ name, lifetime }]\n  );\n}\n","/* @flow */\n\nimport { noop } from \"./util\";\nimport { getStorage } from \"./storage\";\n\nfunction getBelterExperimentStorage(): Object {\n  return getStorage({ name: \"belter_experiment\" });\n}\n\nfunction isEventUnique(name: string): boolean {\n  return getBelterExperimentStorage().getSessionState((state) => {\n    state.loggedBeacons = state.loggedBeacons || [];\n\n    if (state.loggedBeacons.indexOf(name) === -1) {\n      state.loggedBeacons.push(name);\n      return true;\n    }\n\n    return false;\n  });\n}\n\ntype Payload = {\n  [string]: ?(string | boolean),\n};\n\nexport type Experiment = {|\n  isEnabled: () => boolean,\n  isDisabled: () => boolean,\n  getTreatment: () => string,\n  log: (string, payload?: Payload) => Experiment,\n  logStart: (payload?: Payload) => Experiment,\n  logComplete: (payload?: Payload) => Experiment,\n|};\n\nfunction getRandomInteger(range: number): number {\n  return Math.floor(Math.random() * range);\n}\n\nfunction getThrottlePercentile(name: string): number {\n  return getBelterExperimentStorage().getState((state) => {\n    state.throttlePercentiles = state.throttlePercentiles || {};\n    state.throttlePercentiles[name] =\n      state.throttlePercentiles[name] || getRandomInteger(100);\n    return state.throttlePercentiles[name];\n  });\n}\n\nconst THROTTLE_GROUP = {\n  TEST: \"test\",\n  CONTROL: \"control\",\n  THROTTLE: \"throttle\",\n};\n\ntype ExperimentOptions = {|\n  name: string,\n  sample?: number,\n  logTreatment?: ({|\n    name: string,\n    treatment: string,\n    payload: Payload,\n    throttle: number,\n  |}) => void,\n  logCheckpoint?: ({|\n    name: string,\n    treatment: string,\n    checkpoint: string,\n    payload: Payload,\n    throttle: number,\n  |}) => void,\n  sticky?: boolean,\n|};\n\nexport function experiment({\n  name,\n  sample = 50,\n  logTreatment = noop,\n  logCheckpoint = noop,\n  sticky = true,\n}: ExperimentOptions): Experiment {\n  const throttle = sticky ? getThrottlePercentile(name) : getRandomInteger(100);\n\n  let group;\n\n  if (throttle < sample && !__TEST__) {\n    group = THROTTLE_GROUP.TEST;\n  } else if (sample >= 50 || (sample <= throttle && throttle < sample * 2)) {\n    group = THROTTLE_GROUP.CONTROL;\n  } else {\n    group = THROTTLE_GROUP.THROTTLE;\n  }\n\n  const treatment = `${name}_${group}`;\n\n  let started = false;\n  let forced = false;\n\n  try {\n    if (window.localStorage && window.localStorage.getItem(name)) {\n      forced = true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  const exp = {\n    isEnabled(): boolean {\n      return group === THROTTLE_GROUP.TEST || forced;\n    },\n\n    isDisabled(): boolean {\n      return group !== THROTTLE_GROUP.TEST && !forced;\n    },\n\n    getTreatment(): string {\n      return treatment;\n    },\n\n    log(checkpoint: string, payload?: Payload = {}): Experiment {\n      if (!started) {\n        return exp;\n      }\n\n      if (isEventUnique(`${treatment}_${JSON.stringify(payload)}`)) {\n        logTreatment({ name, treatment, payload, throttle });\n      }\n\n      if (\n        isEventUnique(`${treatment}_${checkpoint}_${JSON.stringify(payload)}`)\n      ) {\n        logCheckpoint({ name, treatment, checkpoint, payload, throttle });\n      }\n\n      return exp;\n    },\n\n    logStart(payload?: Payload = {}): Experiment {\n      started = true;\n      return exp.log(`start`, payload);\n    },\n\n    logComplete(payload?: Payload = {}): Experiment {\n      return exp.log(`complete`, payload);\n    },\n  };\n\n  return exp;\n}\n","/* @flow */\n\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport { type SameDomainWindowType } from \"@krakenjs/cross-domain-utils/src\";\n\ntype RequestOptionsType = {|\n  url: string,\n  method?: string,\n  headers?: { [key: string]: string },\n  json?: $ReadOnlyArray<mixed> | Object,\n  data?: { [key: string]: string },\n  body?: string,\n  win?: SameDomainWindowType,\n  timeout?: number,\n|};\n\ntype ResponseType = {|\n  status: number,\n  headers: { [string]: string },\n  body: Object,\n|};\n\nconst HEADERS = {\n  CONTENT_TYPE: \"content-type\",\n  ACCEPT: \"accept\",\n};\n\nconst headerBuilders = [];\n\nfunction parseHeaders(rawHeaders: string = \"\"): { [string]: string } {\n  const result = {};\n  for (const line of rawHeaders.trim().split(\"\\n\")) {\n    const [key, ...values] = line.split(\":\");\n    result[key.toLowerCase()] = values.join(\":\").trim();\n  }\n  return result;\n}\n\nexport function request({\n  url,\n  method = \"get\",\n  headers = {},\n  json,\n  data,\n  body,\n  win = window,\n  timeout = 0,\n}: RequestOptionsType): ZalgoPromise<ResponseType> {\n  return new ZalgoPromise((resolve, reject) => {\n    if ((json && data) || (json && body) || (data && json)) {\n      throw new Error(\n        `Only options.json or options.data or options.body should be passed`\n      );\n    }\n\n    const normalizedHeaders = {};\n\n    for (const key of Object.keys(headers)) {\n      normalizedHeaders[key.toLowerCase()] = headers[key];\n    }\n\n    if (json) {\n      normalizedHeaders[HEADERS.CONTENT_TYPE] =\n        normalizedHeaders[HEADERS.CONTENT_TYPE] || \"application/json\";\n    } else if (data || body) {\n      normalizedHeaders[HEADERS.CONTENT_TYPE] =\n        normalizedHeaders[HEADERS.CONTENT_TYPE] ||\n        \"application/x-www-form-urlencoded; charset=utf-8\";\n    }\n\n    normalizedHeaders[HEADERS.ACCEPT] =\n      normalizedHeaders[HEADERS.ACCEPT] || \"application/json\";\n\n    for (const headerBuilder of headerBuilders) {\n      const builtHeaders = headerBuilder();\n\n      for (const key of Object.keys(builtHeaders)) {\n        normalizedHeaders[key.toLowerCase()] = builtHeaders[key];\n      }\n    }\n\n    const xhr = new win.XMLHttpRequest();\n\n    xhr.addEventListener(\n      \"load\",\n      function xhrLoad(): void {\n        const responseHeaders = parseHeaders(this.getAllResponseHeaders());\n\n        if (!this.status) {\n          return reject(\n            new Error(\n              `Request to ${method.toLowerCase()} ${url} failed: no response status code.`\n            )\n          );\n        }\n\n        const contentType = responseHeaders[\"content-type\"];\n        const isJSON =\n          contentType &&\n          (contentType.indexOf(\"application/json\") === 0 ||\n            contentType.indexOf(\"text/json\") === 0);\n        let responseBody = this.responseText;\n\n        try {\n          responseBody = JSON.parse(responseBody);\n        } catch (err) {\n          if (isJSON) {\n            return reject(new Error(`Invalid json: ${this.responseText}.`));\n          }\n        }\n\n        const res = {\n          status: this.status,\n          headers: responseHeaders,\n          body: responseBody,\n        };\n\n        return resolve(res);\n      },\n      false\n    );\n\n    xhr.addEventListener(\n      \"error\",\n      (evt) => {\n        reject(\n          new Error(\n            `Request to ${method.toLowerCase()} ${url} failed: ${evt.toString()}.`\n          )\n        );\n      },\n      false\n    );\n\n    xhr.open(method, url, true);\n\n    for (const key in normalizedHeaders) {\n      if (normalizedHeaders.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, normalizedHeaders[key]);\n      }\n    }\n\n    if (json) {\n      body = JSON.stringify(json);\n    } else if (data) {\n      body = Object.keys(data)\n        .map((key) => {\n          return `${encodeURIComponent(key)}=${\n            data ? encodeURIComponent(data[key]) : \"\"\n          }`;\n        })\n        .join(\"&\");\n    }\n\n    xhr.timeout = timeout;\n    xhr.ontimeout = function xhrTimeout() {\n      reject(\n        new Error(`Request to ${method.toLowerCase()} ${url} has timed out`)\n      );\n    };\n\n    xhr.send(body);\n  });\n}\n\nexport function addHeaderBuilder(method: () => { [string]: string }) {\n  headerBuilders.push(method);\n}\n","/* @flow */\n\nexport function isPromise(item : mixed) : boolean {\n    try {\n        if (!item) {\n            return false;\n        }\n\n        if (typeof Promise !== 'undefined' && item instanceof Promise) {\n            return true;\n        }\n\n        if (typeof window !== 'undefined' && typeof window.Window === 'function' && item instanceof window.Window) {\n            return false;\n        }\n\n        if (typeof window !== 'undefined' && typeof window.constructor === 'function' && item instanceof window.constructor) {\n            return false;\n        }\n\n        const toString = ({}).toString;\n\n        if (toString) {\n            const name = toString.call(item);\n\n            if (name === '[object Window]' || name === '[object global]' || name === '[object DOMWindow]') {\n                return false;\n            }\n        }\n\n        if (typeof item.then === 'function') {\n            return true;\n        }\n    } catch (err) {\n        return false;\n    }\n\n    return false;\n}\n","/* @flow */\n\nimport type { ZalgoPromise } from './promise';\n\nconst dispatchedErrors = [];\nconst possiblyUnhandledPromiseHandlers : Array<(mixed, promise? : ZalgoPromise<mixed>) => void> = [];\n\nexport function dispatchPossiblyUnhandledError<T>(err : mixed, promise : ZalgoPromise<T>) {\n\n    if (dispatchedErrors.indexOf(err) !== -1) {\n        return;\n    }\n\n    dispatchedErrors.push(err);\n\n    setTimeout(() => {\n        if (__DEBUG__) {\n            // $FlowFixMe\n            throw new Error(`${ err.stack || err.toString() }\\n\\nFrom promise:\\n\\n${ promise.stack }`);\n        }\n\n        throw err;\n    }, 1);\n\n    for (let j = 0; j < possiblyUnhandledPromiseHandlers.length; j++) {\n        // $FlowFixMe\n        possiblyUnhandledPromiseHandlers[j](err, promise);\n    }\n}\n\nexport function onPossiblyUnhandledException(handler : (mixed, promise? : ZalgoPromise<mixed>) => void) : {| cancel : () => void |} {\n    possiblyUnhandledPromiseHandlers.push(handler);\n\n    return {\n        cancel() {\n            possiblyUnhandledPromiseHandlers.splice(possiblyUnhandledPromiseHandlers.indexOf(handler), 1);\n        }\n    };\n}\n","/* @flow */\n\nimport type { ZalgoPromise } from './promise';\n\nlet activeCount = 0;\nlet flushPromise;\n\nfunction flushActive() {\n    if (!activeCount && flushPromise) {\n        const promise = flushPromise;\n        flushPromise = null;\n        promise.resolve();\n    }\n}\n\nexport function startActive() {\n    activeCount += 1;\n}\n\nexport function endActive() {\n    activeCount -= 1;\n    flushActive();\n}\n\nexport function awaitActive(Zalgo : Class<ZalgoPromise<*>>) : ZalgoPromise<void> { // eslint-disable-line no-undef\n    const promise = flushPromise = flushPromise || new Zalgo();\n    flushActive();\n    return promise;\n}\n","/* @flow */\n/* eslint no-use-before-define: off */\n\nimport { isPromise } from './utils';\nimport { onPossiblyUnhandledException, dispatchPossiblyUnhandledError } from './exceptions';\nimport { startActive, endActive, awaitActive } from './flush';\n\nexport class ZalgoPromise<R : mixed> {\n\n    resolved : boolean;\n    rejected : boolean;\n    errorHandled : boolean;\n    value : R;\n    error : mixed;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    handlers : Array<{|\n        promise : ZalgoPromise<*>,\n        onSuccess : void | (result : R) => mixed,\n        onError : void | (error : mixed) => mixed\n    |}>;\n    dispatching : boolean;\n    stack : string;\n\n    constructor(handler : ?(resolve : (result : R) => void, reject : (error : mixed) => void) => void) {\n\n        this.resolved = false;\n        this.rejected = false;\n        this.errorHandled = false;\n\n        this.handlers = [];\n\n        if (handler) {\n\n            let result;\n            let error;\n            let resolved = false;\n            let rejected = false;\n            let isAsync = false;\n\n            startActive();\n\n            try {\n                handler(res => {\n                    if (isAsync) {\n                        this.resolve(res);\n                    } else {\n                        resolved = true;\n                        result = res;\n                    }\n\n                }, err => {\n                    if (isAsync) {\n                        this.reject(err);\n                    } else {\n                        rejected = true;\n                        error = err;\n                    }\n                });\n\n            } catch (err) {\n                endActive();\n                this.reject(err);\n                return;\n            }\n\n            endActive();\n\n            isAsync = true;\n\n            if (resolved) {\n                // $FlowFixMe\n                this.resolve(result);\n            } else if (rejected) {\n                this.reject(error);\n            }\n        }\n\n        if (__DEBUG__) {\n            try {\n                throw new Error(`ZalgoPromise`);\n            } catch (err) {\n                this.stack = err.stack;\n            }\n        }\n    }\n\n    resolve(result : R) : ZalgoPromise<R> {\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        if (isPromise(result)) {\n            throw new Error('Can not resolve promise with another promise');\n        }\n\n        this.resolved = true;\n        this.value = result;\n        this.dispatch();\n\n        return this;\n    }\n\n    reject(error : mixed) : ZalgoPromise<R> {\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        if (isPromise(error)) {\n            throw new Error('Can not reject promise with another promise');\n        }\n\n        if (!error) {\n            // $FlowFixMe\n            const err = (error && typeof error.toString === 'function' ? error.toString() : Object.prototype.toString.call(error));\n            error = new Error(`Expected reject to be called with Error, got ${ err }`);\n        }\n\n        this.rejected = true;\n        this.error = error;\n\n        if (!this.errorHandled) {\n            setTimeout(() => {\n                if (!this.errorHandled) {\n                    dispatchPossiblyUnhandledError(error, this);\n                }\n            }, 1);\n        }\n\n        this.dispatch();\n\n        return this;\n    }\n\n    asyncReject(error : mixed) : ZalgoPromise<R> {\n        this.errorHandled = true;\n        this.reject(error);\n        return this;\n    }\n\n    dispatch() {\n\n        const { dispatching, resolved, rejected, handlers } = this;\n\n        if (dispatching) {\n            return;\n        }\n\n        if (!resolved && !rejected) {\n            return;\n        }\n\n        this.dispatching = true;\n        startActive();\n\n        const chain = <T>(firstPromise : ZalgoPromise<T>, secondPromise : ZalgoPromise<T>) => {\n            return firstPromise.then(res => {\n                secondPromise.resolve(res);\n            }, err => {\n                secondPromise.reject(err);\n            });\n        };\n\n        for (let i = 0; i < handlers.length; i++) {\n\n            const { onSuccess, onError, promise } = handlers[i];\n\n            let result;\n\n            if (resolved) {\n\n                try {\n                    result = onSuccess ? onSuccess(this.value) : this.value;\n                } catch (err) {\n                    promise.reject(err);\n                    continue;\n                }\n\n            } else if (rejected) {\n\n                if (!onError) {\n                    promise.reject(this.error);\n                    continue;\n                }\n\n                try {\n                    result = onError(this.error);\n                } catch (err) {\n                    promise.reject(err);\n                    continue;\n                }\n            }\n\n            if (result instanceof ZalgoPromise && (result.resolved || result.rejected)) {\n                const promiseResult : ZalgoPromise<*> = result;\n\n                if (promiseResult.resolved) {\n                    promise.resolve(promiseResult.value);\n                } else {\n                    promise.reject(promiseResult.error);\n                }\n\n                promiseResult.errorHandled = true;\n\n            } else if (isPromise(result)) {\n\n                if (result instanceof ZalgoPromise && (result.resolved || result.rejected)) {\n                    if (result.resolved) {\n                        promise.resolve(result.value);\n                    } else {\n                        promise.reject(result.error);\n                    }\n\n                } else {\n                    // $FlowFixMe\n                    chain(result, promise);\n                }\n\n            } else {\n\n                promise.resolve(result);\n            }\n        }\n\n        handlers.length = 0;\n        this.dispatching = false;\n        endActive();\n    }\n\n    then<X, Y>(onSuccess : void | (result : R) => (ZalgoPromise<X> | Y), onError : void | (error : mixed) => (ZalgoPromise<X> | Y)) : ZalgoPromise<X | Y> {\n\n        if (onSuccess && typeof onSuccess !== 'function' && !onSuccess.call) {\n            throw new Error('Promise.then expected a function for success handler');\n        }\n\n        if (onError && typeof onError !== 'function' && !onError.call) {\n            throw new Error('Promise.then expected a function for error handler');\n        }\n\n        const promise = new ZalgoPromise();\n\n        this.handlers.push({\n            promise,\n            onSuccess,\n            onError\n        });\n\n        this.errorHandled = true;\n\n        this.dispatch();\n\n        return promise;\n    }\n\n    catch<X, Y>(onError : (error : mixed) => ZalgoPromise<X> | Y) : ZalgoPromise<X | Y> {\n        // $FlowFixMe incompatible-call\n        const resultPromise : ZalgoPromise<X | Y> = this.then(undefined, onError);\n        return resultPromise;\n    }\n\n    finally(onFinally : () => mixed) : ZalgoPromise<R> {\n\n        if (onFinally && typeof onFinally !== 'function' && !onFinally.call) {\n            throw new Error('Promise.finally expected a function');\n        }\n\n        return this.then((result) => {\n            return ZalgoPromise.try(onFinally)\n                .then(() => {\n                    return result;\n                });\n        }, (err) => {\n            return ZalgoPromise.try(onFinally)\n                .then(() => {\n                    throw err;\n                });\n        });\n    }\n\n    timeout(time : number, err : ?Error) : ZalgoPromise<R> {\n\n        if (this.resolved || this.rejected) {\n            return this;\n        }\n\n        const timeout = setTimeout(() => {\n\n            if (this.resolved || this.rejected) {\n                return;\n            }\n\n            this.reject(err || new Error(`Promise timed out after ${ time }ms`));\n\n        }, time);\n\n        return this.then(result => {\n            clearTimeout(timeout);\n            return result;\n        });\n    }\n\n    // $FlowFixMe\n    toPromise() : Promise<R> {\n        // $FlowFixMe\n        if (typeof Promise === 'undefined') {\n            throw new TypeError(`Could not find Promise`);\n        }\n        // $FlowFixMe\n        return Promise.resolve(this); // eslint-disable-line compat/compat\n    }\n\n    lazy() : ZalgoPromise<R> {\n        this.errorHandled = true;\n        return this;\n    }\n\n    static resolve<X, Y>(value : ZalgoPromise<X> | Y) : ZalgoPromise<X | Y> {\n\n        if (value instanceof ZalgoPromise) {\n            // $FlowFixMe incompatible-type-arg\n            const result : ZalgoPromise<X | Y> = value;\n            return result;\n        }\n\n        if (isPromise(value)) {\n            // $FlowFixMe\n            return new ZalgoPromise((resolve, reject) => value.then(resolve, reject));\n        }\n\n        return new ZalgoPromise().resolve(value);\n    }\n\n    static reject(error : mixed) : ZalgoPromise<R> {\n        return new ZalgoPromise().reject(error);\n    }\n\n    static asyncReject(error : mixed) : ZalgoPromise<R> {\n        return new ZalgoPromise().asyncReject(error);\n    }\n\n    static all<X : $ReadOnlyArray<mixed>>(promises : X) : ZalgoPromise<$TupleMap<X, <Y>(ZalgoPromise<Y> | Y) => Y>> { // eslint-disable-line no-undef\n\n        const promise = new ZalgoPromise();\n        let count = promises.length;\n        // eslint-disable-next-line no-undef, unicorn/prefer-spread\n        const results = ([] : $TupleMap<X, <Y>(ZalgoPromise<Y> | Y) => Y>).slice();\n\n        if (!count) {\n            promise.resolve(results);\n            return promise;\n        }\n\n        const chain = <T>(i : number, firstPromise : ZalgoPromise<T>, secondPromise : ZalgoPromise<T>) => {\n            return firstPromise.then(res => {\n                results[i] = res;\n                count -= 1;\n                if (count === 0) {\n                    promise.resolve(results);\n                }\n            }, err => {\n                secondPromise.reject(err);\n            });\n        };\n\n        for (let i = 0; i < promises.length; i++) {\n            const prom = promises[i];\n\n            if (prom instanceof ZalgoPromise) {\n                if (prom.resolved) {\n                    results[i] = prom.value;\n                    count -= 1;\n                    continue;\n                }\n            } else if (!isPromise(prom)) {\n                results[i] = prom;\n                count -= 1;\n                continue;\n            }\n\n            chain(i, ZalgoPromise.resolve(prom), promise);\n        }\n\n        if (count === 0) {\n            promise.resolve(results);\n        }\n\n        return promise;\n    }\n\n    static hash<O : Object>(promises : O) : ZalgoPromise<$ObjMap<O, <Y>(ZalgoPromise<Y> | Y) => Y>> { // eslint-disable-line no-undef\n        const result = {};\n        const awaitPromises = [];\n\n        for (const key in promises) {\n            if (promises.hasOwnProperty(key)) {\n                const value = promises[key];\n\n                if (isPromise(value)) {\n                    awaitPromises.push(value.then(res => {\n                        result[key] = res;\n                    }));\n                } else {\n                    result[key] = value;\n                }\n            }\n        }\n\n        return ZalgoPromise.all(awaitPromises).then(() => result);\n    }\n\n    static map<T, X>(items : $ReadOnlyArray<T>, method : (T) => (ZalgoPromise<X> | X)) : ZalgoPromise<$ReadOnlyArray<X>> {\n        // $FlowFixMe\n        return ZalgoPromise.all(items.map(method));\n    }\n\n    static onPossiblyUnhandledException(handler : (err : mixed) => void) : {| cancel : () => void |} {\n        return onPossiblyUnhandledException(handler);\n    }\n\n    static try<X, Y, C : mixed, A : $ReadOnlyArray<mixed>>(method : (...args : $ReadOnlyArray<mixed>) => (ZalgoPromise<X> | Y), context? : C, args? : A) : ZalgoPromise<X | Y> {\n\n        if (method && typeof method !== 'function' && !method.call) {\n            throw new Error('Promise.try expected a function');\n        }\n\n        let result : ZalgoPromise<X> | Y;\n\n        startActive();\n\n        try {\n            result = method.apply(context, args || []);\n        } catch (err) {\n            endActive();\n            return ZalgoPromise.reject(err);\n        }\n\n        endActive();\n\n        // $FlowFixMe incompatible-call\n        const resultPromise = ZalgoPromise.resolve(result);\n\n        return resultPromise;\n    }\n\n    static delay(delay : number) : ZalgoPromise<void> {\n        return new ZalgoPromise(resolve => {\n            setTimeout(resolve, delay);\n        });\n    }\n\n    static isPromise(value : mixed) : boolean {\n\n        if (value && value instanceof ZalgoPromise) {\n            return true;\n        }\n\n        return isPromise(value);\n    }\n\n    static flush() : ZalgoPromise<void> {\n        return awaitActive(ZalgoPromise);\n    }\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","/* @flow */\n\nexport const PROTOCOL = {\n  MOCK: (\"mock:\": \"mock:\"),\n  FILE: (\"file:\": \"file:\"),\n  ABOUT: (\"about:\": \"about:\"),\n};\n\nexport const WILDCARD = \"*\";\n\nexport const WINDOW_TYPE = {\n  IFRAME: (\"iframe\": \"iframe\"),\n  POPUP: (\"popup\": \"popup\"),\n};\n","/* @flow */\n/* eslint max-lines: 0 */\n\nimport { isRegex, noop } from \"./util\";\nimport type {\n  CrossDomainWindowType,\n  SameDomainWindowType,\n  DomainMatcher,\n} from \"./types\";\nimport { PROTOCOL, WILDCARD } from \"./constants\";\n\nconst IE_WIN_ACCESS_ERROR = \"Call was rejected by callee.\\r\\n\";\n\nexport function getActualProtocol(win: SameDomainWindowType = window): ?string {\n  return win.location.protocol;\n}\n\nexport function getProtocol(win: SameDomainWindowType = window): ?string {\n  if (win.mockDomain) {\n    const protocol = win.mockDomain.split(\"//\")[0];\n\n    if (protocol) {\n      return protocol;\n    }\n  }\n\n  return getActualProtocol(win);\n}\n\nexport function isFileProtocol(win: SameDomainWindowType = window): boolean {\n  return getProtocol(win) === PROTOCOL.FILE;\n}\n\nexport function isAboutProtocol(win: SameDomainWindowType = window): boolean {\n  return getProtocol(win) === PROTOCOL.ABOUT;\n}\n\nexport function isMockProtocol(win: SameDomainWindowType = window): boolean {\n  return getProtocol(win) === PROTOCOL.MOCK;\n}\n\nexport function getParent(\n  win?: CrossDomainWindowType = window\n): ?CrossDomainWindowType {\n  if (!win) {\n    return;\n  }\n\n  try {\n    if (win.parent && win.parent !== win) {\n      return win.parent;\n    }\n  } catch (err) {\n    // pass\n  }\n}\n\nexport function getOpener(\n  win?: CrossDomainWindowType = window\n): ?CrossDomainWindowType {\n  if (!win) {\n    return;\n  }\n\n  // Make sure we're not actually an iframe which has had window.open() called on us\n  if (getParent(win)) {\n    return;\n  }\n\n  try {\n    return win.opener;\n  } catch (err) {\n    // pass\n  }\n}\n\nexport function canReadFromWindow(\n  win: CrossDomainWindowType | SameDomainWindowType\n): boolean {\n  try {\n    // $FlowFixMe\n    noop(win && win.location && win.location.href);\n    return true;\n  } catch (err) {\n    // pass\n  }\n\n  return false;\n}\n\nexport function getActualDomain(win?: SameDomainWindowType = window): string {\n  const location = win.location;\n\n  if (!location) {\n    throw new Error(`Can not read window location`);\n  }\n\n  const protocol = getActualProtocol(win);\n\n  if (!protocol) {\n    throw new Error(`Can not read window protocol`);\n  }\n\n  if (protocol === PROTOCOL.FILE) {\n    return `${PROTOCOL.FILE}//`;\n  }\n\n  if (protocol === PROTOCOL.ABOUT) {\n    const parent = getParent(win);\n    if (parent && canReadFromWindow(parent)) {\n      // $FlowFixMe\n      return getActualDomain(parent);\n    }\n\n    return `${PROTOCOL.ABOUT}//`;\n  }\n\n  const host = location.host;\n\n  if (!host) {\n    throw new Error(`Can not read window host`);\n  }\n\n  return `${protocol}//${host}`;\n}\n\nexport function getDomain(win?: SameDomainWindowType = window): string {\n  const domain = getActualDomain(win);\n\n  if (domain && win.mockDomain && win.mockDomain.indexOf(PROTOCOL.MOCK) === 0) {\n    return win.mockDomain;\n  }\n\n  return domain;\n}\n\nexport function isBlankDomain(win: CrossDomainWindowType): boolean {\n  try {\n    // $FlowFixMe\n    if (!win.location.href) {\n      return true;\n    }\n\n    if (win.location.href === \"about:blank\") {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  return false;\n}\n\nexport function isActuallySameDomain(win: CrossDomainWindowType): boolean {\n  try {\n    if (win === window) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    const desc = Object.getOwnPropertyDescriptor(win, \"location\");\n\n    if (desc && desc.enumerable === false) {\n      return false;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    // $FlowFixMe\n    if (isAboutProtocol(win) && canReadFromWindow(win)) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    // $FlowFixMe\n    if (isMockProtocol(win) && canReadFromWindow(win)) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    // $FlowFixMe\n    if (getActualDomain(win) === getActualDomain(window)) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  return false;\n}\n\nexport function isSameDomain(\n  win: CrossDomainWindowType | SameDomainWindowType\n): boolean {\n  if (!isActuallySameDomain(win)) {\n    return false;\n  }\n\n  try {\n    if (win === window) {\n      return true;\n    }\n\n    // $FlowFixMe\n    if (isAboutProtocol(win) && canReadFromWindow(win)) {\n      return true;\n    }\n\n    // $FlowFixMe\n    if (getDomain(window) === getDomain(win)) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  return false;\n}\n\nexport function assertSameDomain(\n  win: CrossDomainWindowType | SameDomainWindowType\n): SameDomainWindowType {\n  if (!isSameDomain(win)) {\n    throw new Error(`Expected window to be same domain`);\n  }\n\n  // $FlowFixMe\n  return win;\n}\n\nexport function getParents(\n  win: CrossDomainWindowType\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const result = [];\n\n  try {\n    while (win.parent !== win) {\n      result.push(win.parent);\n      win = win.parent;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  return result;\n}\n\nexport function isAncestorParent(\n  parent: CrossDomainWindowType,\n  child: CrossDomainWindowType\n): boolean {\n  if (!parent || !child) {\n    return false;\n  }\n\n  const childParent = getParent(child);\n\n  if (childParent) {\n    return childParent === parent;\n  }\n\n  if (getParents(child).indexOf(parent) !== -1) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function getFrames(\n  win: CrossDomainWindowType\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const result = [];\n\n  let frames;\n\n  try {\n    frames = win.frames;\n  } catch (err) {\n    frames = win;\n  }\n\n  let len;\n\n  try {\n    len = frames.length;\n  } catch (err) {\n    // pass\n  }\n\n  if (len === 0) {\n    return result;\n  }\n\n  if (len) {\n    for (let i = 0; i < len; i++) {\n      let frame;\n\n      try {\n        frame = frames[i];\n      } catch (err) {\n        continue;\n      }\n\n      result.push(frame);\n    }\n\n    return result;\n  }\n\n  for (let i = 0; i < 100; i++) {\n    let frame;\n\n    try {\n      frame = frames[i];\n    } catch (err) {\n      return result;\n    }\n\n    if (!frame) {\n      return result;\n    }\n\n    result.push(frame);\n  }\n\n  return result;\n}\n\nexport function getAllChildFrames(\n  win: CrossDomainWindowType\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const result = [];\n\n  for (const frame of getFrames(win)) {\n    result.push(frame);\n\n    for (const childFrame of getAllChildFrames(frame)) {\n      result.push(childFrame);\n    }\n  }\n\n  return result;\n}\n\nexport function getTop(\n  win?: CrossDomainWindowType = window\n): ?CrossDomainWindowType {\n  try {\n    if (win.top) {\n      return win.top;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  if (getParent(win) === win) {\n    return win;\n  }\n\n  try {\n    if (isAncestorParent(window, win) && window.top) {\n      return window.top;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    if (isAncestorParent(win, window) && window.top) {\n      return window.top;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  for (const frame of getAllChildFrames(win)) {\n    try {\n      if (frame.top) {\n        return frame.top;\n      }\n    } catch (err) {\n      // pass\n    }\n\n    if (getParent(frame) === frame) {\n      return frame;\n    }\n  }\n}\n\nexport function getNextOpener(\n  win?: CrossDomainWindowType = window\n): ?CrossDomainWindowType {\n  return getOpener(getTop(win) || win);\n}\n\nexport function getUltimateTop(\n  win?: CrossDomainWindowType = window\n): CrossDomainWindowType {\n  const opener = getNextOpener(win);\n\n  if (opener) {\n    return getUltimateTop(opener);\n  }\n\n  return top;\n}\n\nexport function getAllFramesInWindow(\n  win: CrossDomainWindowType\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const top = getTop(win);\n\n  if (!top) {\n    throw new Error(`Can not determine top window`);\n  }\n\n  let result = [...getAllChildFrames(top), top];\n\n  // Win may be in shadow dom\n  if (result.indexOf(win) === -1) {\n    result = [...result, win, ...getAllChildFrames(win)];\n  }\n\n  return result;\n}\n\nexport function getAllWindows(\n  win?: CrossDomainWindowType = window\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const frames = getAllFramesInWindow(win);\n  const opener = getNextOpener(win);\n\n  if (opener) {\n    return [...getAllWindows(opener), ...frames];\n  } else {\n    return frames;\n  }\n}\n\nexport function isTop(win: CrossDomainWindowType): boolean {\n  return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame: HTMLIFrameElement): boolean {\n  if (!frame.contentWindow) {\n    return true;\n  }\n\n  if (!frame.parentNode) {\n    return true;\n  }\n\n  const doc = frame.ownerDocument;\n\n  if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n    let parent = frame;\n\n    while (parent.parentNode && parent.parentNode !== parent) {\n      parent = parent.parentNode;\n    }\n\n    // $FlowFixMe\n    if (!parent.host || !doc.documentElement.contains(parent.host)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction safeIndexOf<T>(collection: $ReadOnlyArray<T>, item: T): number {\n  for (let i = 0; i < collection.length; i++) {\n    try {\n      if (collection[i] === item) {\n        return i;\n      }\n    } catch (err) {\n      // pass\n    }\n  }\n\n  return -1;\n}\n\nconst iframeWindows = [];\nconst iframeFrames = [];\n\nexport function isWindowClosed(\n  win: CrossDomainWindowType,\n  allowMock: boolean = true\n): boolean {\n  try {\n    if (win === window) {\n      return false;\n    }\n  } catch (err) {\n    return true;\n  }\n\n  try {\n    if (!win) {\n      return true;\n    }\n  } catch (err) {\n    return true;\n  }\n\n  try {\n    if (win.closed) {\n      return true;\n    }\n  } catch (err) {\n    // I love you so much IE\n\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return false;\n    }\n\n    return true;\n  }\n\n  if (allowMock && isSameDomain(win)) {\n    try {\n      // $FlowFixMe\n      if (win.mockclosed) {\n        return true;\n      }\n    } catch (err) {\n      // pass\n    }\n  }\n\n  // Mobile safari\n\n  try {\n    if (!win.parent || !win.top) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  // Yes, this actually happens in IE. win === win errors out when the window\n  // is from an iframe, and the iframe was removed from the page.\n\n  try {\n    noop(win === win); // eslint-disable-line no-self-compare\n  } catch (err) {\n    return true;\n  }\n\n  // IE orphaned frame\n\n  const iframeIndex = safeIndexOf(iframeWindows, win);\n\n  if (iframeIndex !== -1) {\n    const frame = iframeFrames[iframeIndex];\n\n    if (frame && isFrameWindowClosed(frame)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction cleanIframes() {\n  for (let i = 0; i < iframeWindows.length; i++) {\n    let closed = false;\n\n    try {\n      closed = iframeWindows[i].closed;\n    } catch (err) {\n      // pass\n    }\n\n    if (closed) {\n      iframeFrames.splice(i, 1);\n      iframeWindows.splice(i, 1);\n    }\n  }\n}\n\nexport function linkFrameWindow(frame: HTMLIFrameElement) {\n  cleanIframes();\n\n  if (frame && frame.contentWindow) {\n    try {\n      iframeWindows.push(frame.contentWindow);\n      iframeFrames.push(frame);\n    } catch (err) {\n      // pass\n    }\n  }\n}\n\nexport function getUserAgent(win: ?SameDomainWindowType): string {\n  win = win || window;\n  return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\nexport function getFrameByName(\n  win: CrossDomainWindowType,\n  name: string\n): ?CrossDomainWindowType {\n  const winFrames = getFrames(win);\n\n  for (const childFrame of winFrames) {\n    try {\n      if (\n        isSameDomain(childFrame) &&\n        // $FlowFixMe\n        childFrame.name === name &&\n        winFrames.indexOf(childFrame) !== -1\n      ) {\n        return childFrame;\n      }\n    } catch (err) {\n      // pass\n    }\n  }\n\n  try {\n    // $FlowFixMe\n    if (winFrames.indexOf(win.frames[name]) !== -1) {\n      // $FlowFixMe\n      return win.frames[name];\n    }\n  } catch (err) {\n    // pass\n  }\n\n  try {\n    if (winFrames.indexOf(win[name]) !== -1) {\n      return win[name];\n    }\n  } catch (err) {\n    // pass\n  }\n}\n\nexport function findChildFrameByName(\n  win: CrossDomainWindowType,\n  name: string\n): ?CrossDomainWindowType {\n  const frame = getFrameByName(win, name);\n\n  if (frame) {\n    return frame;\n  }\n\n  for (const childFrame of getFrames(win)) {\n    const namedFrame = findChildFrameByName(childFrame, name);\n\n    if (namedFrame) {\n      return namedFrame;\n    }\n  }\n}\n\nexport function findFrameByName(\n  win: CrossDomainWindowType,\n  name: string\n): ?CrossDomainWindowType {\n  const frame = getFrameByName(win, name);\n\n  if (frame) {\n    return frame;\n  }\n\n  const top = getTop(win) || win;\n\n  return findChildFrameByName(top, name);\n}\n\nexport function isParent(\n  win: CrossDomainWindowType,\n  frame: CrossDomainWindowType\n): boolean {\n  const frameParent = getParent(frame);\n\n  if (frameParent) {\n    return frameParent === win;\n  }\n\n  for (const childFrame of getFrames(win)) {\n    if (childFrame === frame) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function isOpener(\n  parent: CrossDomainWindowType,\n  child: CrossDomainWindowType\n): boolean {\n  return parent === getOpener(child);\n}\n\nexport function getAncestor(\n  win?: CrossDomainWindowType = window\n): ?CrossDomainWindowType {\n  win = win || window;\n\n  const opener = getOpener(win);\n\n  if (opener) {\n    return opener;\n  }\n\n  const parent = getParent(win);\n\n  if (parent) {\n    return parent;\n  }\n}\n\nexport function getAncestors(\n  win: CrossDomainWindowType\n): $ReadOnlyArray<CrossDomainWindowType> {\n  const results = [];\n\n  let ancestor = win;\n\n  while (ancestor) {\n    ancestor = getAncestor(ancestor);\n    if (ancestor) {\n      results.push(ancestor);\n    }\n  }\n\n  return results;\n}\n\nexport function isAncestor(\n  parent: CrossDomainWindowType,\n  child: CrossDomainWindowType\n): boolean {\n  const actualParent = getAncestor(child);\n\n  if (actualParent) {\n    if (actualParent === parent) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (child === parent) {\n    return false;\n  }\n\n  if (getTop(child) === child) {\n    return false;\n  }\n\n  for (const frame of getFrames(parent)) {\n    if (frame === child) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function isPopup(win?: CrossDomainWindowType = window): boolean {\n  return Boolean(getOpener(win));\n}\n\nexport function isIframe(win?: CrossDomainWindowType = window): boolean {\n  return Boolean(getParent(win));\n}\n\nexport function isFullpage(win?: CrossDomainWindowType = window): boolean {\n  return Boolean(!isIframe(win) && !isPopup(win));\n}\n\nfunction anyMatch(collection1, collection2): boolean {\n  for (const item1 of collection1) {\n    for (const item2 of collection2) {\n      if (item1 === item2) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport function getDistanceFromTop(\n  win: CrossDomainWindowType = window\n): number {\n  let distance = 0;\n  let parent = win;\n\n  while (parent) {\n    parent = getParent(parent);\n    if (parent) {\n      distance += 1;\n    }\n  }\n\n  return distance;\n}\n\nexport function getNthParent(\n  win: CrossDomainWindowType,\n  n: number = 1\n): ?CrossDomainWindowType {\n  let parent = win;\n\n  for (let i = 0; i < n; i++) {\n    if (!parent) {\n      return;\n    }\n\n    parent = getParent(parent);\n  }\n\n  return parent;\n}\n\nexport function getNthParentFromTop(\n  win: CrossDomainWindowType,\n  n: number = 1\n): ?CrossDomainWindowType {\n  return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(\n  win1: CrossDomainWindowType,\n  win2: CrossDomainWindowType\n): boolean {\n  const top1 = getTop(win1) || win1;\n  const top2 = getTop(win2) || win2;\n\n  try {\n    if (top1 && top2) {\n      if (top1 === top2) {\n        return true;\n      }\n\n      return false;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  const allFrames1 = getAllFramesInWindow(win1);\n  const allFrames2 = getAllFramesInWindow(win2);\n\n  if (anyMatch(allFrames1, allFrames2)) {\n    return true;\n  }\n\n  const opener1 = getOpener(top1);\n  const opener2 = getOpener(top2);\n\n  if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n    return false;\n  }\n\n  if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n    return false;\n  }\n\n  return false;\n}\n\nexport function matchDomain(\n  pattern: DomainMatcher,\n  origin: DomainMatcher\n): boolean {\n  if (typeof pattern === \"string\") {\n    if (typeof origin === \"string\") {\n      return pattern === WILDCARD || origin === pattern;\n    }\n\n    if (isRegex(origin)) {\n      return false;\n    }\n\n    if (Array.isArray(origin)) {\n      return false;\n    }\n  }\n\n  if (isRegex(pattern)) {\n    if (isRegex(origin)) {\n      return pattern.toString() === origin.toString();\n    }\n\n    if (Array.isArray(origin)) {\n      return false;\n    }\n\n    // $FlowFixMe\n    return Boolean(origin.match(pattern));\n  }\n\n  if (Array.isArray(pattern)) {\n    if (Array.isArray(origin)) {\n      return JSON.stringify(pattern) === JSON.stringify(origin);\n    }\n\n    if (isRegex(origin)) {\n      return false;\n    }\n\n    return pattern.some((subpattern) => matchDomain(subpattern, origin));\n  }\n\n  return false;\n}\n\nexport function stringifyDomainPattern(pattern: DomainMatcher): string {\n  if (Array.isArray(pattern)) {\n    return `(${pattern.join(\" | \")})`;\n  } else if (isRegex(pattern)) {\n    return `RegExp(${pattern.toString()})`;\n  } else {\n    return pattern.toString();\n  }\n}\n\nexport function getDomainFromUrl(url: string): string {\n  let domain;\n\n  if (url.match(/^(https?|mock|file):\\/\\//)) {\n    domain = url;\n  } else {\n    return getDomain();\n  }\n\n  domain = domain.split(\"/\").slice(0, 3).join(\"/\");\n\n  return domain;\n}\n\nexport function onCloseWindow(\n  win: CrossDomainWindowType,\n  callback: Function,\n  delay: number = 1000,\n  maxtime: number = Infinity\n): {| cancel: () => void |} {\n  let timeout;\n\n  const check = () => {\n    if (isWindowClosed(win)) {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      return callback();\n    }\n\n    if (maxtime <= 0) {\n      clearTimeout(timeout);\n    } else {\n      maxtime -= delay;\n      timeout = setTimeout(check, delay);\n    }\n  };\n\n  check();\n\n  return {\n    cancel() {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n    },\n  };\n}\n\n// eslint-disable-next-line complexity\nexport function isWindow(obj: Object): boolean {\n  try {\n    if (obj === window) {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    // $FlowFixMe method-unbinding\n    if (Object.prototype.toString.call(obj) === \"[object Window]\") {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    if (window.Window && obj instanceof window.Window) {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    if (obj && obj.self === obj) {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    if (obj && obj.parent === obj) {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    if (obj && obj.top === obj) {\n      return true;\n    }\n  } catch (err) {\n    if (err && err.message === IE_WIN_ACCESS_ERROR) {\n      return true;\n    }\n  }\n\n  try {\n    // eslint-disable-next-line no-self-compare\n    if (noop(obj === obj) === \"__unlikely_value__\") {\n      return false;\n    }\n  } catch (err) {\n    return true;\n  }\n\n  try {\n    if (\n      obj &&\n      obj.__cross_domain_utils_window_check__ === \"__unlikely_value__\"\n    ) {\n      return false;\n    }\n  } catch (err) {\n    return true;\n  }\n\n  try {\n    if (\"postMessage\" in obj && \"self\" in obj && \"location\" in obj) {\n      return true;\n    }\n  } catch (err) {\n    // pass\n  }\n\n  return false;\n}\n\nexport function isBrowser(): boolean {\n  return (\n    typeof window !== \"undefined\" && typeof window.location !== \"undefined\"\n  );\n}\n\nexport function isCurrentDomain(domain: string): boolean {\n  if (!isBrowser()) {\n    return false;\n  }\n\n  return getDomain() === domain;\n}\n\nexport function isMockDomain(domain: string): boolean {\n  return domain.indexOf(PROTOCOL.MOCK) === 0;\n}\n\nexport function normalizeMockUrl(url: string): string {\n  if (!isMockDomain(getDomainFromUrl(url))) {\n    return url;\n  }\n\n  if (!__TEST__) {\n    throw new Error(`Mock urls not supported out of test mode`);\n  }\n\n  return url.replace(/^mock:\\/\\/[^/]+/, getActualDomain(window));\n}\n\nexport function getFrameForWindow(win: CrossDomainWindowType): ?HTMLElement {\n  if (isSameDomain(win)) {\n    return assertSameDomain(win).frameElement;\n  }\n\n  for (const frame of document.querySelectorAll(\"iframe\")) {\n    if (frame && frame.contentWindow && frame.contentWindow === win) {\n      return frame;\n    }\n  }\n}\n\nexport function closeWindow(win: CrossDomainWindowType) {\n  if (isIframe(win)) {\n    const frame = getFrameForWindow(win);\n    if (frame && frame.parentElement) {\n      frame.parentElement.removeChild(frame);\n      return;\n    }\n  }\n\n  try {\n    win.close();\n  } catch (err) {\n    // pass\n  }\n}\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","var $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\nmodule.exports = $documentAll.IS_HTMLDDA ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","export const OFFER = {\n    PAY_LATER_LONG_TERM: 'PAY_LATER_LONG_TERM',\n    PAY_LATER_SHORT_TERM: 'PAY_LATER_SHORT_TERM',\n    PAY_LATER_PAY_IN_1: 'PAY_LATER_PAY_IN_1',\n    PAYPAL_CREDIT_INSTALLMENTS: 'PAYPAL_CREDIT_INSTALLMENTS',\n    PAYPAL_CREDIT_NO_INTEREST: 'PAYPAL_CREDIT_NO_INTEREST'\n};\n\nexport const TAG = {\n    MESSAGE: 'paypal-message',\n    MODAL: 'paypal-credit-modal',\n    TREATEMENTS: 'paypal-credit-treatments'\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar isCallable = require('../internals/is-callable');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar isForced = require('../internals/is-forced');\nvar path = require('../internals/path');\nvar bind = require('../internals/function-bind-context');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\n\nvar wrapConstructor = function (NativeConstructor) {\n  var Wrapper = function (a, b, c) {\n    if (this instanceof Wrapper) {\n      switch (arguments.length) {\n        case 0: return new NativeConstructor();\n        case 1: return new NativeConstructor(a);\n        case 2: return new NativeConstructor(a, b);\n      } return new NativeConstructor(a, b, c);\n    } return apply(NativeConstructor, this, arguments);\n  };\n  Wrapper.prototype = NativeConstructor.prototype;\n  return Wrapper;\n};\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var PROTO = options.proto;\n\n  var nativeSource = GLOBAL ? global : STATIC ? global[TARGET] : (global[TARGET] || {}).prototype;\n\n  var target = GLOBAL ? path : path[TARGET] || createNonEnumerableProperty(path, TARGET, {})[TARGET];\n  var targetPrototype = target.prototype;\n\n  var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;\n  var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;\n\n  for (key in source) {\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contains in native\n    USE_NATIVE = !FORCED && nativeSource && hasOwn(nativeSource, key);\n\n    targetProperty = target[key];\n\n    if (USE_NATIVE) if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(nativeSource, key);\n      nativeProperty = descriptor && descriptor.value;\n    } else nativeProperty = nativeSource[key];\n\n    // export native or implementation\n    sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];\n\n    if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue;\n\n    // bind methods to global for calling from export context\n    if (options.bind && USE_NATIVE) resultProperty = bind(sourceProperty, global);\n    // wrap global constructors for prevent changes in this version\n    else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);\n    // make static versions for prototype methods\n    else if (PROTO && isCallable(sourceProperty)) resultProperty = uncurryThis(sourceProperty);\n    // default case\n    else resultProperty = sourceProperty;\n\n    // add a flag to not completely full polyfills\n    if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(resultProperty, 'sham', true);\n    }\n\n    createNonEnumerableProperty(target, key, resultProperty);\n\n    if (PROTO) {\n      VIRTUAL_PROTOTYPE = TARGET + 'Prototype';\n      if (!hasOwn(path, VIRTUAL_PROTOTYPE)) {\n        createNonEnumerableProperty(path, VIRTUAL_PROTOTYPE, {});\n      }\n      // export virtual prototype methods\n      createNonEnumerableProperty(path[VIRTUAL_PROTOTYPE], key, sourceProperty);\n      // export real prototype methods\n      if (options.real && targetPrototype && (FORCED || !targetPrototype[key])) {\n        createNonEnumerableProperty(targetPrototype, key, sourceProperty);\n      }\n    }\n  }\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || this || Function('return this')();\n","/* @flow */\n\nexport const SUPPORTED_BROWSERS = {\n  msie: \"11\",\n  firefox: \"30\",\n  chrome: \"27\",\n  safari: \"7\",\n  opera: \"16\",\n  msedge: \"12\",\n  samsungBrowser: \"2.1\",\n  silk: \"59.3\",\n  ucbrowser: \"10.0.0.488\",\n  vivaldi: \"1.91\",\n};\n\nconst SANDBOX_ALIAS =\n  \"AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R\";\n\nexport const CLIENT_ID_ALIAS = {\n  sandbox: SANDBOX_ALIAS,\n  sb: SANDBOX_ALIAS,\n  test: SANDBOX_ALIAS,\n};\n\nexport const URI = {\n  LOGGER: `/xoplatform/logger/api/logger`,\n  AUTH: `/v1/oauth2/token`,\n  ORDER: `/v2/checkout/orders`,\n};\n","/* @flow */\n\nimport {\n  getCurrentScriptUID,\n  ATTRIBUTES,\n  parseQuery,\n  getBrowserLocales,\n  base64decode,\n  values,\n  getCurrentScript,\n  memoize,\n  stringifyError,\n  getScript,\n} from \"@krakenjs/belter/src\";\nimport {\n  COUNTRY,\n  SDK_SETTINGS,\n  SDK_QUERY_KEYS,\n  INTENT,\n  COMMIT,\n  VAULT,\n  CURRENCY,\n  FUNDING,\n  CARD,\n  COUNTRY_LANGS,\n  DEFAULT_INTENT,\n  DEFAULT_CURRENCY,\n  DEFAULT_VAULT,\n  QUERY_BOOL,\n  LANG,\n  type LocaleType,\n  DEFAULT_SALE_COMMIT,\n  DEFAULT_NONSALE_COMMIT,\n  PAGE_TYPES,\n} from \"@paypal/sdk-constants/src\";\n\nimport { getPath, getDefaultNamespace, getSDKHost } from \"./global\";\nimport { CLIENT_ID_ALIAS } from \"./config\";\nimport { getComputedLocales } from \"./utils\";\n\ntype GetSDKScript = () => HTMLScriptElement;\n\nconst buildScriptNotFoundError = (host, path, error) => {\n  const errorString = error ? stringifyError(error) : \"\";\n\n  return new Error(\n    `PayPal Payments SDK script not found on page! Expected to find <script src=\"https://${host}${path}\">\\n\\n${errorString}`\n  );\n};\n\nexport const getSDKScript: GetSDKScript = memoize(() => {\n  if (__TEST__) {\n    const script = getScript({\n      host: getSDKHost(),\n      path: getPath(),\n      reverse: true,\n    });\n    if (!script) {\n      throw buildScriptNotFoundError(getSDKHost(), getPath());\n    }\n    return script;\n  }\n\n  try {\n    return getCurrentScript();\n  } catch (error) {\n    throw buildScriptNotFoundError(getSDKHost(), getPath(), error);\n  }\n});\n\ntype GetSDKAttributes = () => { [string]: string };\n\nexport const getSDKAttributes: GetSDKAttributes = memoize(() => {\n  const sdkScript = getSDKScript();\n  const result = {};\n  for (const attr of sdkScript.attributes) {\n    if (attr.name.indexOf(\"data-\") === 0) {\n      result[attr.name] = attr.value;\n    }\n  }\n  result[ATTRIBUTES.UID] = getCurrentScriptUID();\n  return result;\n});\n\nexport function getSDKAttribute<T: string | void>(\n  name: $Values<typeof SDK_SETTINGS>,\n  def: T\n): T {\n  // $FlowFixMe\n  return getSDKAttributes()[name] || def;\n}\n\nexport function getSDKQueryParams(): { [string]: string } {\n  const script = getSDKScript();\n  return parseQuery(script.src.split(\"?\")[1] || \"\");\n}\n\ntype GetSDKQueryParam =\n  // eslint-disable-next-line no-undef\n  (<T: string>($Values<typeof SDK_QUERY_KEYS>) => T | void) &\n    // eslint-disable-next-line no-undef\n    (<T: string>($Values<typeof SDK_QUERY_KEYS>, T) => T);\n\nexport const getSDKQueryParam: GetSDKQueryParam = <T>(name: string, def: T) => {\n  // $FlowFixMe\n  return getSDKQueryParams()[name] || def;\n};\n\nexport function getScriptUrl(): string {\n  const src = getSDKScript().getAttribute(\"src\");\n  if (!src) {\n    throw new Error(`Can not find src for sdk script`);\n  }\n  return src;\n}\n\nexport function getSDKQueryParamBool<T: boolean>(\n  name: $Values<typeof SDK_QUERY_KEYS>,\n  def?: T\n): T {\n  return (\n    // $FlowFixMe\n    getSDKQueryParam(name, def ? def.toString() : QUERY_BOOL.FALSE) ===\n    QUERY_BOOL.TRUE\n  );\n}\n\nexport function getClientID(): string {\n  const clientID = getSDKQueryParam(SDK_QUERY_KEYS.CLIENT_ID);\n\n  if (!clientID) {\n    throw new Error(\n      `Expected ${SDK_QUERY_KEYS.CLIENT_ID} parameter in sdk url`\n    );\n  }\n\n  if (CLIENT_ID_ALIAS[clientID]) {\n    return CLIENT_ID_ALIAS[clientID];\n  }\n\n  return clientID;\n}\n\nexport function getMerchantID(): $ReadOnlyArray<string> {\n  const merchantIDString = getSDKQueryParam(SDK_QUERY_KEYS.MERCHANT_ID);\n\n  if (merchantIDString === \"*\") {\n    // get multiple merchant ids or emails from data-merchant-id\n    const merchantIDAttribute = getSDKAttribute(SDK_SETTINGS.MERCHANT_ID);\n\n    if (!merchantIDAttribute) {\n      throw new Error(\n        `Must pass ${SDK_SETTINGS.MERCHANT_ID} when ${SDK_QUERY_KEYS.MERCHANT_ID}=* passed in url`\n      );\n    }\n\n    const merchantID = merchantIDAttribute.split(\",\");\n\n    if (merchantID.length <= 1) {\n      throw new Error(\n        `Must pass multiple merchant ids to ${SDK_SETTINGS.MERCHANT_ID}. If passing a single id, pass ${SDK_QUERY_KEYS.MERCHANT_ID}=XYZ in url`\n      );\n    }\n\n    // check duplicates\n    const hasDuplicate = merchantID.some(\n      (val, i) => merchantID && merchantID.indexOf(val) !== i\n    );\n\n    if (hasDuplicate) {\n      throw new Error(\n        `Duplicates ${SDK_SETTINGS.MERCHANT_ID}. Must pass unique merchant ids to ${SDK_SETTINGS.MERCHANT_ID}.`\n      );\n    }\n    return merchantID;\n  }\n\n  if (merchantIDString) {\n    return merchantIDString.split(\",\");\n  }\n\n  return [];\n}\n\nexport function getIntent(): $Values<typeof INTENT> {\n  return getSDKQueryParam(SDK_QUERY_KEYS.INTENT, DEFAULT_INTENT);\n}\n\nexport function getCommit(): $Values<typeof COMMIT> {\n  return getSDKQueryParamBool(\n    SDK_QUERY_KEYS.COMMIT,\n    getIntent() === INTENT.CAPTURE\n      ? DEFAULT_SALE_COMMIT\n      : DEFAULT_NONSALE_COMMIT\n  );\n}\n\nexport function getVault(): $Values<typeof VAULT> {\n  return getSDKQueryParamBool(SDK_QUERY_KEYS.VAULT, DEFAULT_VAULT);\n}\n\nexport function getCurrency(): $Values<typeof CURRENCY> {\n  return getSDKQueryParam(SDK_QUERY_KEYS.CURRENCY, DEFAULT_CURRENCY);\n}\n\nexport function getEnableFunding(): $ReadOnlyArray<?$Values<typeof FUNDING>> {\n  const funding = getSDKQueryParam(SDK_QUERY_KEYS.ENABLE_FUNDING);\n  if (funding) {\n    return funding.split(\",\");\n  }\n  return [];\n}\n\nexport function getDisableFunding(): $ReadOnlyArray<?$Values<typeof FUNDING>> {\n  const funding = getSDKQueryParam(SDK_QUERY_KEYS.DISABLE_FUNDING);\n  if (funding) {\n    return funding.split(\",\");\n  }\n  return [];\n}\n\nexport function getDisableCard(): $ReadOnlyArray<?$Values<typeof CARD>> {\n  const funding = getSDKQueryParam(SDK_QUERY_KEYS.DISABLE_CARD);\n  if (funding) {\n    return funding.split(\",\");\n  }\n  return [];\n}\n\nexport function getBuyerCountry(): ?$Values<typeof COUNTRY> {\n  return getSDKQueryParam(SDK_QUERY_KEYS.BUYER_COUNTRY);\n}\n\nexport function getNamespace(): string {\n  return getSDKAttribute(SDK_SETTINGS.NAMESPACE) || getDefaultNamespace();\n}\n\nexport function getClientToken(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.CLIENT_TOKEN);\n}\n\nexport function getAmount(): ?string {\n  const amount = getSDKAttribute(SDK_SETTINGS.AMOUNT);\n  if (amount && !amount.match(/^\\d+\\.\\d\\d$/)) {\n    throw new Error(`Invalid amount: ${amount}`);\n  }\n  return amount;\n}\n\nexport function getUserIDToken(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.USER_ID_TOKEN);\n}\n\nexport function getClientAccessToken(): ?string {\n  const clientToken = getClientToken();\n\n  if (clientToken) {\n    return JSON.parse(base64decode(clientToken)).paypal.accessToken;\n  }\n}\n\nexport function getPartnerAttributionID(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.PARTNER_ATTRIBUTION_ID);\n}\n\nexport function getMerchantRequestedPopupsDisabled(): boolean {\n  return getSDKAttribute(SDK_SETTINGS.POPUPS_DISABLED) === \"true\";\n}\n\nexport function getPageType(): ?string {\n  const pageType = getSDKAttribute(SDK_SETTINGS.PAGE_TYPE, \"\");\n  const validPageType =\n    values(PAGE_TYPES).indexOf(pageType.toLowerCase()) !== -1;\n\n  if (!validPageType && pageType.length) {\n    throw new Error(`Invalid page type, '${pageType}'`);\n  }\n  return pageType.toLowerCase();\n}\n\nexport function getLocale(): LocaleType {\n  const locale = getSDKQueryParam(SDK_QUERY_KEYS.LOCALE);\n\n  if (locale) {\n    return getComputedLocales(locale);\n  }\n\n  for (let { country, lang } of getBrowserLocales()) {\n    country = country && COUNTRY[country];\n    lang = lang && LANG[lang.toUpperCase()];\n\n    if (\n      country &&\n      lang &&\n      COUNTRY_LANGS[country] &&\n      COUNTRY_LANGS[country].indexOf(lang) !== -1\n    ) {\n      return { country, lang };\n    } else if (lang) {\n      // We infer country from language if there is only one possible country match\n      const possibleCountries = Object.keys(COUNTRY_LANGS).filter((c) =>\n        COUNTRY_LANGS[c].some((l) => l === lang)\n      );\n\n      if (possibleCountries.length === 1) {\n        const possibleCountry = possibleCountries[0];\n        return { country: possibleCountry, lang };\n      }\n    }\n  }\n\n  for (const { country } of getBrowserLocales()) {\n    if (COUNTRY_LANGS.hasOwnProperty(country)) {\n      // $FlowFixMe\n      return { country, lang: COUNTRY_LANGS[country][0] };\n    }\n  }\n\n  return {\n    lang: LANG.EN,\n    country: COUNTRY.US,\n  };\n}\n\nexport function getCSPNonce(): string {\n  return getSDKAttribute(SDK_SETTINGS.CSP_NONCE) || \"\";\n}\n\nexport function getEnableThreeDomainSecure(): boolean {\n  return getSDKAttributes().hasOwnProperty(SDK_SETTINGS.ENABLE_3DS);\n}\n\nexport function getSDKIntegrationSource(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.SDK_INTEGRATION_SOURCE);\n}\n\nexport function getUserExperienceFlow(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.USER_EXPERIENCE_FLOW);\n}\n\nexport function getSDKToken(): ?string {\n  return getSDKAttribute(SDK_SETTINGS.SDK_TOKEN);\n}\n\n// whether in zoid window\nexport function isChildWindow(): boolean {\n  return Boolean(window.xprops);\n}\n\n// istanbul ignore next\nexport function getUserAccessToken(): ?string {\n  // pass\n}\n\n// istanbul ignore next\nexport function getUserAuthCode(): ?string {\n  // pass\n}\n\n// Remove\n// istanbul ignore next\nexport function getCountry(): $Values<typeof COUNTRY> {\n  return getLocale().country;\n}\n\n// Remove\n// istanbul ignore next\nexport function getLang(): $Values<typeof LANG> {\n  return getLocale().lang;\n}\n","/* @flow */\n\nimport {\n  ENV,\n  PROTOCOL,\n  COMPONENTS,\n  PLATFORM,\n  type FundingEligibilityType,\n} from \"@paypal/sdk-constants/src\";\nimport { isDevice } from \"@krakenjs/belter/src\";\n\nimport type { Experimentation } from \"./types\";\n\nexport function getSDKHost(): string {\n  return __SDK_HOST__;\n}\n\nexport function getProtocol(): $Values<typeof PROTOCOL> {\n  return typeof __PROTOCOL__ !== \"undefined\" ? __PROTOCOL__ : PROTOCOL.HTTPS;\n}\n\nexport function getHost(): string {\n  return __HOST__;\n}\n\nexport function getHostName(): string {\n  return __HOSTNAME__;\n}\n\nexport function getPort(): number {\n  return __PORT__;\n}\n\nexport function getPath(): string {\n  return __PATH__;\n}\n\nexport function getEnv(): $Values<typeof ENV> {\n  return __ENV__;\n}\n\nexport function getPayPalDomain(): string {\n  return __PAYPAL_DOMAIN__;\n}\n\nexport function getPayPalAPIDomain(): string {\n  return __PAYPAL_API_DOMAIN__;\n}\n\nexport function getDefaultServiceStageHost(): ?string {\n  if (\n    typeof __SERVICE_STAGE_HOST__ !== \"undefined\" &&\n    __SERVICE_STAGE_HOST__ !== null\n  ) {\n    return __SERVICE_STAGE_HOST__;\n  }\n}\n\nexport function getDefaultStageHost(): ?string {\n  if (typeof __STAGE_HOST__ !== \"undefined\" && __STAGE_HOST__ !== null) {\n    return __STAGE_HOST__;\n  }\n}\n\nexport function getDefaultAPIStageHost(): ?string {\n  const serviceStageHost = getDefaultServiceStageHost();\n  const stageHost = getDefaultStageHost();\n\n  if (serviceStageHost) {\n    return serviceStageHost;\n  } else if (stageHost) {\n    return stageHost;\n  }\n}\n\nexport function getStageHost(): ?string {\n  return getDefaultStageHost();\n}\n\nexport function getAPIStageHost(): ?string {\n  const defaultAPIStageHost = getDefaultAPIStageHost();\n\n  if (defaultAPIStageHost) {\n    return defaultAPIStageHost.replace(\"www.\", \"api.\");\n  }\n}\n\nexport function getVersion(): string {\n  return __VERSION__;\n}\n\nexport function getCorrelationID(): string {\n  return __CORRELATION_ID__;\n}\n\nexport function getDefaultNamespace(): string {\n  return __NAMESPACE__;\n}\n\nexport function getDebug(): boolean {\n  return __DEBUG__;\n}\n\nexport function getComponents(): $ReadOnlyArray<$Values<typeof COMPONENTS>> {\n  return __COMPONENTS__;\n}\n\nexport function getFundingEligibility(): FundingEligibilityType {\n  return __FUNDING_ELIGIBILITY__;\n}\n\nexport function getPlatform(): $Values<typeof PLATFORM> {\n  return isDevice() ? PLATFORM.MOBILE : PLATFORM.DESKTOP;\n}\n\n// Experiment Variable\nexport function getDisableSetCookie(): boolean {\n  if (typeof __DISABLE_SET_COOKIE__ !== \"undefined\") {\n    return __DISABLE_SET_COOKIE__;\n  }\n\n  return false;\n}\n\nexport function getExperimentation(): Experimentation | null {\n  if (typeof __EXPERIMENTATION__ !== \"undefined\") {\n    if (__EXPERIMENTATION__) {\n      const experimation: Experimentation = {};\n      if (__EXPERIMENTATION__.__EXPERIENCE__) {\n        experimation.experience = __EXPERIMENTATION__.__EXPERIENCE__;\n      }\n      if (__EXPERIMENTATION__.__TREATMENT__) {\n        experimation.treatment = __EXPERIMENTATION__.__TREATMENT__;\n      }\n      return experimation;\n    }\n  }\n\n  return null;\n}\n","/* @flow */\n\nimport { Logger, type LoggerType } from \"@krakenjs/beaver-logger/src\";\nimport { memoize } from \"@krakenjs/belter/src\";\n\nimport { getDisableSetCookie } from \"./global\";\nimport { getPayPalLoggerUrl } from \"./domains\";\n\ntype GetLogger = () => LoggerType;\n\nexport const getLogger: GetLogger = memoize(() => {\n  const disableSetCookieQuery = \"disableSetCookie=true\";\n\n  const loggerUrl = getDisableSetCookie()\n    ? `${getPayPalLoggerUrl()}?${disableSetCookieQuery}`\n    : getPayPalLoggerUrl();\n\n  return Logger({\n    url: loggerUrl,\n  });\n});\n\nexport const sendCountMetric = ({\n  dimensions,\n  event,\n  name,\n  value = 1,\n}: {|\n  event: string,\n  name: string,\n  value?: number,\n  dimensions: {\n    [string]: mixed,\n  },\n  // $FlowIssue return type\n|}) =>\n  getLogger().metric({\n    dimensions,\n    metricEventName: event,\n    metricNamespace: name,\n    metricValue: value,\n    metricType: \"counter\",\n  });\n","/* @flow */\n\nimport { ENV } from \"@paypal/sdk-constants/src\";\nimport {\n  getDomain,\n  getActualDomain,\n  isCurrentDomain,\n} from \"@krakenjs/cross-domain-utils/src\";\n\nimport {\n  getProtocol,\n  getStageHost,\n  getPayPalDomain,\n  getPayPalAPIDomain,\n} from \"./global\";\nimport { URI } from \"./config\";\n\nexport function getPayPalLoggerDomain(): string {\n  if (__ENV__ === ENV.LOCAL) {\n    const stageHost = getStageHost();\n\n    if (!stageHost) {\n      throw new Error(`No stage host found`);\n    }\n\n    return `${getProtocol()}://${stageHost}`;\n  }\n\n  return getPayPalDomain();\n}\n\nexport function buildPayPalUrl(path: string = \"\"): string {\n  return __TEST__ && __WEB__\n    ? `${getActualDomain()}${path}`\n    : `${getPayPalDomain()}${path}`;\n}\n\nexport function buildPayPalAPIUrl(path: string = \"\"): string {\n  const paypalAPIDomain = isCurrentDomain(getPayPalDomain())\n    ? getPayPalDomain()\n    : getPayPalAPIDomain();\n\n  return __TEST__ && __WEB__\n    ? `${getActualDomain()}${path}`\n    : `${paypalAPIDomain}${path}`;\n}\n\nexport function getPayPalLoggerUrl(): string {\n  return buildPayPalUrl(URI.LOGGER);\n}\n\nexport function getAuthAPIUrl(): string {\n  return buildPayPalAPIUrl(URI.AUTH);\n}\n\nexport function getOrderAPIUrl(): string {\n  return buildPayPalAPIUrl(URI.ORDER);\n}\n\nexport function getPayPalDomainRegex(): RegExp {\n  if (__ENV__ === ENV.LOCAL) {\n    return /.*loca.*/;\n  }\n  // eslint-disable-next-line security/detect-unsafe-regex\n  return /\\.paypal\\.(com|cn)(:\\d+)?$/;\n}\n\nexport function getVenmoDomainRegex(): RegExp {\n  // eslint-disable-next-line security/detect-unsafe-regex\n  return /http.*(\\.|\\/)venmo\\.com(:\\d*)?$/;\n}\n\nexport function isPayPalDomain(): boolean {\n  return Boolean(getDomain().match(getPayPalDomainRegex()));\n}\n\nexport function isPayPalTrustedDomain(): boolean {\n  return (\n    Boolean(getDomain().match(getPayPalDomainRegex())) ||\n    Boolean(getDomain().match(getVenmoDomainRegex()))\n  );\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/* @flow */\nimport { ENV } from \"@paypal/sdk-constants/src\";\n\nexport const FPTI_CONTEXT_TYPE = {\n  ORDER_ID: (\"EC-Token\": \"EC-Token\"),\n};\n\nexport const FPTI_TRANSITION = {\n  CREATE_ORDER: (\"process_create_order\": \"process_create_order\"),\n  SCRIPT_LOAD: (\"process_script_load\": \"process_script_load\"),\n  PXP: (\"process_pxp_check\": \"process_pxp_check\"),\n};\n\nexport const FPTI_STATE = {\n  PXP: (\"PXP_CHECK\": \"PXP_CHECK\"),\n};\n\ntype FraudnetUrl = {|\n  [$Values<typeof ENV>]: string,\n|};\n\nexport const FRAUDNET_URL: FraudnetUrl = {\n  [ENV.LOCAL]:\n    \"https://cdn-latest.static.engineering.dev.paypalinc.com/qaRdaAssets/fraudnet/async/fb-raw.js\",\n  [ENV.STAGE]:\n    \"https://cdn-latest.static.engineering.dev.paypalinc.com/qaRdaAssets/fraudnet/async/fb-raw.js\",\n  [ENV.SANDBOX]: \"https://c.paypal.com/da/r/fb.js\",\n  [ENV.PRODUCTION]: \"https://c.paypal.com/da/r/fb.js\",\n  [ENV.TEST]: \"https://c.paypal.com/da/r/fb.js\",\n};\n\nexport const FRAUDNET_FNCLS = \"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99\";\n","/* eslint-disable promise/no-native, no-restricted-globals */\n/* @flow */\n\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport { ENV } from \"@paypal/sdk-constants/src\";\nimport { memoize, type Memoized } from \"@krakenjs/belter/src\";\n\nimport { FRAUDNET_FNCLS, FRAUDNET_URL } from \"./constants\";\nimport { getLogger } from \"./logger\";\n\ntype FraudnetOptions = {|\n  env: $Values<typeof ENV>,\n  clientMetadataID: string,\n  cspNonce: string,\n  appName: string,\n  queryStringParams?: { [string]: string | boolean },\n|};\n\ntype FraudnetConfig = {|\n  f: string,\n  s: string,\n  u?: string,\n  cb1: string,\n  sandbox?: boolean,\n  io: boolean,\n|};\n\ntype CreateConfigOptions = {|\n  env: $Values<typeof ENV>,\n  cspNonce: string,\n  clientMetadataID: string,\n  appName: string,\n|};\n\ntype CreateFraudnetOptions = {|\n  cspNonce: string,\n  env: $Values<typeof ENV>,\n  queryStringParams?: { [string]: string | boolean },\n|};\n\nexport const createConfigScript = ({\n  env,\n  cspNonce = \"\",\n  clientMetadataID,\n  appName,\n}: CreateConfigOptions): ZalgoPromise<void> => {\n  return new ZalgoPromise((resolve) => {\n    if (__TEST__) {\n      return resolve();\n    }\n\n    const config: FraudnetConfig = {\n      f: clientMetadataID,\n      s: appName,\n      io: true,\n      cb1: \"fnCallback\",\n    };\n\n    if (env === ENV.SANDBOX) {\n      config.sandbox = true;\n    }\n\n    const configScript = document.createElement(\"script\");\n\n    configScript.setAttribute(\"nonce\", cspNonce);\n    configScript.setAttribute(\"type\", \"application/json\");\n    configScript.setAttribute(\"id\", \"fconfig\");\n    configScript.setAttribute(\"fncls\", FRAUDNET_FNCLS);\n    configScript.text = JSON.stringify(config);\n    // eslint-disable-next-line compat/compat\n    document.body?.appendChild(configScript);\n  });\n};\n\nexport const createFraudnetScript = ({\n  cspNonce,\n  env,\n  queryStringParams = {},\n}: CreateFraudnetOptions): ZalgoPromise<void> => {\n  return new ZalgoPromise((resolve, reject) => {\n    const fraudnetScript = document.createElement(\"script\");\n    const queryString = Object.keys(queryStringParams)\n      .map(\n        (key) => `${key}=${encodeURIComponent(String(queryStringParams[key]))}`\n      )\n      .join(\"&\");\n\n    const fraudnetUrl = queryString.length\n      ? `${FRAUDNET_URL[env]}?${queryString}`\n      : FRAUDNET_URL[env];\n\n    fraudnetScript.setAttribute(\"nonce\", cspNonce || \"\");\n    fraudnetScript.setAttribute(\"src\", fraudnetUrl);\n    fraudnetScript.addEventListener(\"error\", () => resolve());\n\n    window.fnCallback = resolve;\n    // eslint-disable-next-line compat/compat\n    document.body?.appendChild(fraudnetScript);\n\n    fraudnetScript.addEventListener(\"load\", () => {\n      resolve();\n    });\n    fraudnetScript.addEventListener(\"error\", () => {\n      reject(new Error(`Fraudnet failed to load.`));\n    });\n    fraudnetScript.addEventListener(\"abort\", () => {\n      reject(new Error(`Fraudnet load was aborted.`));\n    });\n  });\n};\n\ntype LoadFraudnetResponse = {|\n  collect: () => Promise<*> | void,\n|};\ntype LoadFraudnet = (opts: FraudnetOptions) => LoadFraudnetResponse;\n\nexport const loadFraudnet: Memoized<LoadFraudnet> = memoize(\n  ({ env, clientMetadataID, cspNonce, appName, queryStringParams = {} }) => {\n    createConfigScript({ env, cspNonce, clientMetadataID, appName });\n\n    const fraudnetPromise = createFraudnetScript({\n      cspNonce,\n      env,\n      queryStringParams,\n    }).catch(() => {\n      getLogger().warn(\"ppcp_axo_init_fraudnet_failed\");\n    });\n\n    return {\n      collect: async () => {\n        try {\n          await fraudnetPromise;\n          await window.PAYPAL.asyncData.collect();\n        } catch (err) {\n          getLogger().warn(\"ppcp_axo_collect_fraudnet_failed\");\n        }\n      },\n    };\n  }\n);\n/* eslint-enable promise/no-native, no-restricted-globals */\n","/* @flow */\n\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport { memoize, request, base64encode } from \"@krakenjs/belter/src\";\nimport { FPTI_KEY, SDK_QUERY_KEYS, UNKNOWN } from \"@paypal/sdk-constants/src\";\n\nimport { getOrderAPIUrl, getAuthAPIUrl } from \"./domains\";\nimport { getLogger } from \"./logger\";\nimport {\n  getIntent,\n  getCurrency,\n  getPartnerAttributionID,\n  getMerchantID,\n} from \"./script\";\nimport { FPTI_CONTEXT_TYPE, FPTI_TRANSITION } from \"./constants\";\n\ntype ApplicationContext = {||};\n\nexport type OrderCreateRequest = {|\n  intent?: \"CAPTURE\" | \"AUTHORIZE\",\n  application_context?: ApplicationContext,\n  purchase_units: $ReadOnlyArray<{|\n    amount: {|\n      currency_code: string,\n      value: string,\n    |},\n    payee?: {|\n      merchant_id?: string,\n      email_address?: string,\n    |},\n  |}>,\n|};\n\nexport type OrderCaptureResponse = {||};\nexport type OrderGetResponse = {||};\nexport type OrderAuthorizeResponse = {||};\n\ntype CreateAccessToken = (string) => ZalgoPromise<string>;\n\nexport const createAccessToken: CreateAccessToken = memoize((clientID) => {\n  getLogger().info(`rest_api_create_access_token`);\n\n  const basicAuth = base64encode(`${clientID}:`);\n\n  return request({\n    method: `post`,\n    url: getAuthAPIUrl(),\n    headers: {\n      Authorization: `Basic ${basicAuth}`,\n    },\n    data: {\n      grant_type: `client_credentials`,\n    },\n  }).then(({ body }) => {\n    if (body && body.error === \"invalid_client\") {\n      throw new Error(\n        `Auth Api invalid client id: ${clientID}:\\n\\n${JSON.stringify(\n          body,\n          null,\n          4\n        )}`\n      );\n    }\n\n    if (!body || !body.access_token) {\n      throw new Error(\n        `Auth Api response error:\\n\\n${JSON.stringify(body, null, 4)}`\n      );\n    }\n\n    return body.access_token;\n  });\n});\n\ntype OrderCreateOptions = {|\n  fptiState?: string,\n|};\n\nconst getDefaultApplicationContext = (): ApplicationContext => {\n  // $FlowFixMe\n  return {};\n};\n\nexport function createOrder(\n  clientID: string,\n  order: OrderCreateRequest,\n  { fptiState = \"\" }: OrderCreateOptions = {}\n): ZalgoPromise<string> {\n  getLogger().info(`rest_api_create_order_token`);\n\n  if (!clientID) {\n    throw new Error(`Client ID not passed`);\n  }\n\n  if (!order) {\n    throw new Error(`Expected order details to be passed`);\n  }\n\n  const currency = getCurrency();\n  const intent = getIntent();\n  const merchantID = getMerchantID();\n\n  order = { ...order };\n\n  if (order.intent && order.intent.toLowerCase() !== intent) {\n    throw new Error(\n      `Unexpected intent: ${\n        order.intent\n      } passed to order.create. Please ensure you are passing /sdk/js?${\n        SDK_QUERY_KEYS.INTENT\n      }=${order.intent.toLowerCase()} in the paypal script tag.`\n    );\n  }\n\n  // $FlowFixMe\n  order = { ...order, intent: intent.toUpperCase() };\n\n  order.purchase_units = order.purchase_units.map((unit) => {\n    if (unit.amount.currency_code && unit.amount.currency_code !== currency) {\n      throw new Error(\n        `Unexpected currency: ${unit.amount.currency_code} passed to order.create. Please ensure you are passing /sdk/js?${SDK_QUERY_KEYS.CURRENCY}=${unit.amount.currency_code} in the paypal script tag.`\n      );\n    }\n    const payee = unit.payee;\n\n    if (payee) {\n      if (!merchantID) {\n        throw new Error(\n          `Pass ${SDK_QUERY_KEYS.MERCHANT_ID}=XYZ in the paypal script tag. Pass ${SDK_QUERY_KEYS.MERCHANT_ID}=${UNKNOWN} if you do not have access to the merchant id`\n        );\n      }\n    }\n\n    return {\n      ...unit,\n      payee,\n      amount: { ...unit.amount, currency_code: currency },\n    };\n  });\n\n  order.application_context =\n    order.application_context || getDefaultApplicationContext();\n\n  return createAccessToken(clientID)\n    .then((accessToken): ZalgoPromise<Object> => {\n      const headers: Object = {\n        Authorization: `Bearer ${accessToken}`,\n        \"PayPal-Partner-Attribution-Id\": getPartnerAttributionID(),\n      };\n\n      return request({\n        method: `post`,\n        url: getOrderAPIUrl(),\n        headers,\n        json: order,\n      });\n    })\n    .then(({ body }): string => {\n      if (!body || !body.id) {\n        throw new Error(\n          `Order Api response error:\\n\\n${JSON.stringify(body, null, 4)}`\n        );\n      }\n\n      getLogger().track({\n        [FPTI_KEY.STATE]: fptiState,\n        [FPTI_KEY.TRANSITION]: FPTI_TRANSITION.CREATE_ORDER,\n        [FPTI_KEY.CONTEXT_TYPE]: FPTI_CONTEXT_TYPE.ORDER_ID,\n        [FPTI_KEY.TOKEN]: body.id,\n        [FPTI_KEY.CONTEXT_ID]: body.id,\n      });\n\n      return body.id;\n    });\n}\n","/* @flow */\n\nimport {\n  memoize,\n  eventEmitter,\n  type EventEmitterType,\n} from \"@krakenjs/belter/src\";\n\nexport const getEventEmitter: () => EventEmitterType = memoize(eventEmitter);\n","/* eslint-disable eslint-comments/disable-enable-pair, no-else-return */\nimport arrayFrom from 'core-js-pure/stable/array/from';\n\nimport { getStorage as getBelterStorage } from '@krakenjs/belter/src';\nimport { SDK_QUERY_KEYS, SDK_SETTINGS } from '@paypal/sdk-constants/src';\nimport {\n    getClientID,\n    getMerchantID,\n    getSDKScript,\n    getEnv as getSDKEnv,\n    getFundingEligibility,\n    getSDKMeta,\n    getSDKAttributes,\n    getSDKQueryParam,\n    getCSPNonce,\n    getNamespace as getSDKNamespace,\n    getDefaultNamespace as getDefaultSDKNamespace,\n    getSessionID as getSDKSessionID,\n    getStorageID as getSDKStorageID,\n    getStorageState as getSDKStorageState,\n    getPayPalDomain as getSDKPayPalDomain,\n    getDisableSetCookie as getSDKDisableCookie\n} from '@paypal/sdk-client/src';\n\nimport { TAG } from './constants';\n\nexport function getDisableSetCookie() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKDisableCookie();\n    } else {\n        return false;\n    }\n}\n\n// SDK helper functions with standalone build polyfills\nexport function getEnv() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKEnv();\n    } else {\n        return __ENV__;\n    }\n}\n\nexport function getMerchantConfig() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // TODO: remove getFundingEligibility call and try catch after globals swap\n        try {\n            return __MESSAGING_GLOBALS__?.merchantProfile?.hash;\n        } catch {\n            return getFundingEligibility()?.paylater?.merchantConfigHash;\n        }\n    } else {\n        return undefined;\n    }\n}\n\nexport function getAccount() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // TODO: Should we pass both up if they exist so that nodeweb can create a partner context?\n        return getMerchantID().join(',') || `client-id:${getClientID()}`;\n    } else {\n        return undefined;\n    }\n}\n\nexport function getNonce() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getCSPNonce();\n    } else {\n        return undefined;\n    }\n}\n\n// Partner accounts should always integrate using client id so no need to prefix it with 'client-id:'\nexport function getPartnerAccount() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getMerchantID()[0] && `client-id:${getClientID()}`;\n    } else {\n        return undefined;\n    }\n}\n\nconst { currentScript } = typeof document !== 'undefined' ? document : {};\nexport function getScript() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKScript();\n    } else {\n        return (\n            currentScript ||\n            document.querySelector('script[src$=\"messaging.js\"]') ||\n            document.querySelector('script[src$=\"merchant.js\"]')\n        );\n    }\n}\n\nexport function getCurrency() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        // Returns 'currency' query param without default to USD\n        return getSDKQueryParam(SDK_QUERY_KEYS.CURRENCY);\n    } else {\n        return undefined;\n    }\n}\n\nexport function getMeta() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKMeta();\n    } else {\n        return undefined;\n    }\n}\n\nexport function getScriptAttributes() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKAttributes();\n    } else {\n        return {};\n    }\n}\n\nexport function getDefaultNamespace() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getDefaultSDKNamespace();\n    } else {\n        return 'paypal';\n    }\n}\n\nexport function getNamespace() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKNamespace();\n    } else {\n        return getScript()?.getAttribute('data-pp-namespace') || getDefaultNamespace();\n    }\n}\n\nexport function getLibraryVersion() {\n    return __MESSAGES__.__VERSION__;\n}\n\nexport function isZoidComponent() {\n    // Merchants may use `zoid` to place our components inside an IFrame\n    // so we ensure that we check for the tags of our components\n    return Object.values(TAG).some(tag => window.name.startsWith(`__zoid__${tag.replace(/-/g, '_')}`));\n}\n\nexport function getStorage() {\n    return getBelterStorage({ name: getNamespace() });\n}\n\n// Use SDK methods when available, otherwise manually fetch storage via belter\n// see: https://github.com/paypal/paypal-sdk-client/blob/master/src/session.js\nexport function getSessionID() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKSessionID();\n    } else {\n        return getStorage().getSessionID();\n    }\n}\n\n// Retrieves storageID. NOTE: Creates new ID if not already in local storage.\nexport function getOrCreateDeviceID() {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKStorageID();\n    } else {\n        return getStorage().getID();\n    }\n}\n\nexport function updateStorage(values) {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKStorageState(storage => Object.assign(storage, values));\n    } else {\n        return getStorage().getState(storage => Object.assign(storage, values));\n    }\n}\n\n// Check if the current script is in the process of being destroyed since\n// the MutationObservers can fire before the SDK destroy lifecycle hook\nexport const isScriptBeingDestroyed = () => {\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        const currentSdkScript = getScript();\n        // URL API not supported in IE11, but anchor tags have parsed href properties\n        const location = document.createElement('a');\n        location.href = currentSdkScript.src;\n\n        // Ensure that there are currently no other SDK scripts that might be in the process of destroying this script\n        return arrayFrom(document.querySelectorAll(`script[src*=\"${location.host}/sdk/js\"]`)).some(\n            script =>\n                script !== currentSdkScript &&\n                script.getAttribute(SDK_SETTINGS.NAMESPACE) === currentSdkScript.getAttribute(SDK_SETTINGS.NAMESPACE)\n        );\n    } else {\n        return false;\n    }\n};\n\nexport function getPayPalDomain() {\n    if (getEnv() !== 'production' && getEnv() !== 'sandbox') {\n        const testEnviroment = window.__TEST_ENV__ ?? __MESSAGES__.__TEST_ENV__;\n\n        if (testEnviroment) {\n            return testEnviroment;\n        }\n\n        // eslint-disable-next-line security/detect-unsafe-regex\n        if (window.location.origin.match(/\\.paypal\\.com(:\\d+)?$/)) {\n            return window.location.origin;\n        }\n    }\n\n    if (__MESSAGES__.__TARGET__ === 'SDK') {\n        return getSDKPayPalDomain();\n    } else {\n        const domain = __MESSAGES__.__DOMAIN__[`__${getEnv().toUpperCase()}__`];\n\n        if (domain) {\n            return domain;\n        }\n\n        throw new Error('Missing PayPal Domain');\n    }\n}\n\nexport function getStageTag() {\n    if (__MESSAGES__.__STAGE_TAG__) {\n        if (__MESSAGES__.__STAGE_TAG__ === 'local') {\n            return window.location.origin;\n        } else {\n            return __MESSAGES__.__STAGE_TAG__;\n        }\n    } else {\n        return undefined;\n    }\n}\nexport function getDevTouchpoint() {\n    const devTouchpoint = window.__DEV_TOUCHPOINT__ ?? __MESSAGES__.__DEV_TOUCHPOINT__;\n    if (devTouchpoint && getEnv() !== 'production' && getEnv() !== 'sandbox') {\n        return true;\n    } else {\n        return undefined; // Prevent the zoid query param\n    }\n}\nexport function getFeatures() {\n    if (getDisableSetCookie()) {\n        return 'disable-set-cookie';\n    } else {\n        return undefined;\n    }\n}\n","var isCallable = require('../internals/is-callable');\nvar $documentAll = require('../internals/document-all');\n\nvar documentAll = $documentAll.all;\n\nmodule.exports = $documentAll.IS_HTMLDDA ? function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;\n} : function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","/**\n * Memoize a function based on all arguments\n * @param {Function} fn Function to memoize\n * @returns {Function} Memoized function\n */\nexport function memoize(fn) {\n    const cache = new Map();\n\n    return (...args) => {\n        const cacheKey = JSON.stringify(args);\n\n        if (!cache.has(cacheKey)) {\n            cache.set(cacheKey, fn(...args));\n        }\n\n        return cache.get(cacheKey);\n    };\n}\n\n/**\n * Memoize a unary function that takes has a single object parameter\n * @param {Function} fn Function to memoize\n * @param {Array<string>} props Property names to cache against\n * @returns {Function} Memoized function\n */\nexport function memoizeOnProps(fn, props) {\n    const cache = new Map();\n\n    return (options, ignoreCache = false) => {\n        const cacheKey = JSON.stringify(props.map(key => options[key]));\n\n        if (!cache.has(cacheKey) || ignoreCache) {\n            cache.set(cacheKey, fn(options));\n        }\n\n        return cache.get(cacheKey);\n    };\n}\n\n/**\n * Partially apply a function with specified parameters\n * @param {Function} fn Function to partially apply\n * @param  {...any} intialArgs Arguments to partially apply\n * @returns {Function} Partially applied function\n */\nexport function partial(fn, ...intialArgs) {\n    return (...nextArgs) => fn(...intialArgs, ...nextArgs);\n}\n\n/**\n * Curry a function\n * @param {Function} fn Function to curry\n * @param {Number} arity Number of function parameters\n * @returns {Function} Curried function\n */\nexport function curry(fn, arity = fn.length) {\n    return function curried(...args) {\n        if (args.length < arity) {\n            return (...nextArgs) => curried(...args, ...nextArgs);\n        }\n\n        return fn(...args);\n    };\n}\n\n/**\n * Higher order function to run an effectful function\n * and still pass along the arguments for chaining\n * @param {Function} fn Effectful function\n * @returns {Function} Pass through function\n */\nexport function passThrough(fn) {\n    return arg => {\n        const result = fn(arg);\n        return typeof result === 'object' && result.then ? result.then(() => arg) : arg;\n    };\n}\n\n/**\n * Chain function calls together, starting with an initial value\n * @param  {...Function} args Functions\n * @returns {Function} Function that runs initial value through all passed in functions\n */\nexport function pipe(...args) {\n    return initialValue => args.reduce((accumulator, fn) => fn(accumulator), initialValue);\n}\n\n/**\n * Retrieve a single property from an object\n * @param {String} prop Property to retrieve\n * @param {Object} obj Object to get get property from\n * @returns {Any} Object property value\n */\nexport const pluck = curry((prop, obj) => obj[prop]);\n\n/**\n * Create an object and assign the value to the property\n * @param {String} prop Property name\n * @param {Any} value Property value\n * @returns {Object} New object with property and value\n */\nexport const assignToProp = curry((prop, value) => ({ [prop]: value }));\n","var parent = require('../../es/array/includes');\n\nmodule.exports = parent;\n","var parent = require('../../es/object/entries');\n\nmodule.exports = parent;\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","var parent = require('../../es/array/from');\n\nmodule.exports = parent;\n","var parent = require('../../es/array/find');\n\nmodule.exports = parent;\n","var isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw $TypeError($String(argument) + ' is not an object');\n};\n","/* @flow */\n\nexport function safeIndexOf<T>(collection : $ReadOnlyArray<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function noop(...args : $ReadOnlyArray<mixed>) {\n    // pass\n}\n","/* @flow */\n\nimport { isWindow, isWindowClosed } from '@krakenjs/cross-domain-utils/src';\n\nimport { hasNativeWeakMap } from './native';\nimport { noop, safeIndexOf } from './util';\n\nexport class CrossDomainSafeWeakMap<K : Object, V : mixed> {\n\n    name : string;\n    weakmap : ?WeakMap<K, V>;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    keys : Array<K>;\n    // eslint-disable-next-line flowtype/no-mutable-array\n    values : Array<V>;\n\n    constructor() {\n        // eslint-disable-next-line no-bitwise\n        this.name = `__weakmap_${ Math.random() * 1e9 >>> 0 }__`;\n\n        if (hasNativeWeakMap()) {\n            try {\n                this.weakmap = new WeakMap();\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this.keys  = [];\n        this.values = [];\n    }\n\n    _cleanupClosedWindows() {\n\n        const weakmap = this.weakmap;\n        const keys = this.keys;\n\n        for (let i = 0; i < keys.length; i++) {\n            const value = keys[i];\n\n            if (isWindow(value) && isWindowClosed(value)) {\n\n                if (weakmap) {\n                    try {\n                        weakmap.delete(value);\n                    } catch (err) {\n                        // pass\n                    }\n                }\n\n                keys.splice(i, 1);\n                this.values.splice(i, 1);\n\n                i -= 1;\n            }\n        }\n    }\n\n    isSafeToReadWrite(key : K) : boolean {\n\n        if (isWindow(key)) {\n            return false;\n        }\n\n        try {\n            noop(key && key.self);\n            noop(key && key[this.name]);\n        } catch (err) {\n            return false;\n        }\n\n        return true;\n    }\n\n    set(key : K, value : V) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.set(key, value);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const name = this.name;\n                const entry = key[name];\n\n                if (entry && entry[0] === key) {\n                    entry[1] = value;\n                } else {\n                    Object.defineProperty(key, name, {\n                        value:    [ key, value ],\n                        writable: true\n                    });\n                }\n\n                return;\n\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const values = this.values;\n        const index = safeIndexOf(keys, key);\n\n        if (index === -1) {\n            keys.push(key);\n            values.push(value);\n        } else {\n            values[index] = value;\n        }\n    }\n\n    get(key : K) : V | void {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return weakmap.get(key);\n                }\n\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    return entry[1];\n                }\n\n                return;\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const index = safeIndexOf(keys, key);\n\n        if (index === -1) {\n            return;\n        }\n\n        return this.values[index];\n    }\n\n    delete(key : K) {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                weakmap.delete(key);\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    entry[0] = entry[1] = undefined;\n                }\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const keys = this.keys;\n        const index = safeIndexOf(keys, key);\n\n        if (index !== -1) {\n            keys.splice(index, 1);\n            this.values.splice(index, 1);\n        }\n    }\n\n    has(key : K) : boolean {\n\n        if (!key) {\n            throw new Error(`WeakMap expected key`);\n        }\n\n        const weakmap = this.weakmap;\n\n        if (weakmap) {\n            try {\n                if (weakmap.has(key)) {\n                    return true;\n                }\n            } catch (err) {\n                delete this.weakmap;\n            }\n        }\n\n        if (this.isSafeToReadWrite(key)) {\n            try {\n                const entry = key[this.name];\n\n                if (entry && entry[0] === key) {\n                    return true;\n                }\n\n                return false;\n            } catch (err) {\n                // pass\n            }\n        }\n\n        this._cleanupClosedWindows();\n\n        const index = safeIndexOf(this.keys, key);\n        return index !== -1;\n    }\n\n    getOrSet(key : K, getter : () => V) : V {\n        if (this.has(key)) {\n            // $FlowFixMe\n            return this.get(key);\n        }\n\n        const value = getter();\n        this.set(key, value);\n        return value;\n    }\n}\n","/* @flow */\n\nexport function hasNativeWeakMap() : boolean {\n\n    if (typeof WeakMap === 'undefined') {\n        return false;\n    }\n\n    if (typeof Object.freeze === 'undefined') {\n        return false;\n    }\n\n    try {\n\n        const testWeakMap = new WeakMap();\n        const testKey = {};\n        const testValue = '__testvalue__';\n\n        Object.freeze(testKey);\n\n        testWeakMap.set(testKey, testValue);\n\n        if (testWeakMap.get(testKey) === testValue) {\n            return true;\n        }\n\n        return false;\n\n    } catch (err) {\n\n        return false;\n    }\n}\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = {};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","var uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn;\n","module.exports = {};\n","var isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw $TypeError(tryToString(argument) + ' is not a function');\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (variable) {\n  return isCallable(variable) ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","module.exports = true;\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","/** @jsx node */\nimport arrayFind from 'core-js-pure/stable/array/find';\nimport arrayIncludes from 'core-js-pure/stable/array/includes';\nimport stringIncludes from 'core-js-pure/stable/string/includes';\nimport objectAssign from 'core-js-pure/stable/object/assign';\nimport objectEntries from 'core-js-pure/stable/object/entries';\nimport { node, dom } from '@krakenjs/jsx-pragmatic/src';\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\n\nimport { partial, memoize } from './functional';\nimport { getStorage } from './sdk';\nimport { OFFER } from './constants';\n\n/**\n * Create a state object and pass back a reference and update function\n * @param {Object} initialState Initial object to store in state\n * @returns {[Object, Function]} State object reference and update function\n */\nexport function createState(initialState = {}) {\n    const state = { ...initialState };\n    return [state, partial(objectAssign, state)];\n}\n\nexport function getDataByTag(data, tag) {\n    let selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, tag));\n    if (selected) {\n        return selected[0];\n    }\n\n    if (stringIncludes(tag, '.')) {\n        const [fallbackTag] = tag.split('.', 1);\n        selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, fallbackTag));\n        if (selected) {\n            return selected[0];\n        }\n    }\n\n    selected = arrayFind(data, ([, tags]) => arrayIncludes(tags, 'default'));\n    if (selected) {\n        return selected[0];\n    }\n\n    return '';\n}\n\nexport function request(method, url, { data, headers, withCredentials } = {}) {\n    return new ZalgoPromise((resolve, reject) => {\n        const xhttp = new XMLHttpRequest();\n\n        if (withCredentials) {\n            // Necessary to send cookies with cross-origin requests\n            xhttp.withCredentials = true;\n        }\n\n        // eslint-disable-next-line unicorn/prefer-add-event-listener\n        xhttp.onreadystatechange = () => {\n            if (xhttp.readyState === 4) {\n                const responseHeaders = xhttp\n                    .getAllResponseHeaders()\n                    .trim() // Remove trailing newline characters\n                    .split('\\n')\n                    .reduce((accumulator, header) => {\n                        const [key, val] = header.trim().split(': ');\n                        return {\n                            ...accumulator,\n                            // IE11 uses capitalized header names\n                            [key.toLowerCase()]: val\n                        };\n                    }, {});\n\n                switch (xhttp.status) {\n                    case 200:\n                        resolve({\n                            headers: responseHeaders,\n                            data:\n                                responseHeaders['content-type'] &&\n                                stringIncludes(responseHeaders['content-type'], 'application/json')\n                                    ? JSON.parse(xhttp.responseText)\n                                    : xhttp.responseText\n                        });\n                        break;\n                    case 204:\n                        resolve({ headers: responseHeaders });\n                        break;\n                    default:\n                        reject(new Error('Request failed'));\n                }\n            }\n        };\n\n        xhttp.open(method, url, true);\n\n        if (headers) {\n            objectEntries(headers).forEach(([header, value]) => {\n                xhttp.setRequestHeader(header, value);\n            });\n        }\n\n        xhttp.send(typeof data === 'object' ? JSON.stringify(data) : data);\n    });\n}\n\nexport function parseObjFromEncoding(encodedStr) {\n    // equivalent to JSON.parse(fromBinary(atob(encodedStr))) as in initScript\n    const binary = atob(encodedStr);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < bytes.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    // need to use .apply instead of spread operator so IE can understand\n    const decodedStr = String.fromCharCode.apply(null, new Uint16Array(bytes.buffer));\n    return JSON.parse(decodedStr);\n}\n\nexport function createEvent(name) {\n    if (typeof Event === 'function') {\n        return new Event(name);\n    }\n\n    // IE11 support\n    const event = document.createEvent('Event');\n    event.initEvent(name, true, true);\n\n    return event;\n}\n\nexport const dynamicImport = memoize(url => {\n    return new ZalgoPromise(resolve => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.addEventListener('load', () => {\n            document.body.removeChild(script);\n            resolve();\n        });\n\n        if (document.readyState === 'loading') {\n            window.addEventListener('DOMContentLoaded', () => document.body.appendChild(script));\n        } else {\n            document.body.appendChild(script);\n        }\n    });\n});\n\n// // Date.now() altered on some sites: https://www.hydropool.com\nexport const getCurrentTime = () => new Date().getTime();\n\n// Memoized so that the 2 return functions can be called from different modules\nexport const viewportHijack = memoize(() => {\n    const viewport =\n        document.querySelector('meta[name=\"viewport\"]') ||\n        (<meta name=\"viewport\" content=\"\" />).render(dom({ doc: document }));\n\n    // Ensure a viewport exists in the DOM\n    if (!viewport.parentNode) {\n        document.head.appendChild(viewport);\n    }\n\n    return [\n        // We store state on the DOM elements themselves because we do not want multiple SDK scripts\n        // with their own states causing an error preventing elements from being updated as needed\n        () => {\n            if (viewport.__pp_prev_content__) {\n                // Viewport has already been hijacked - do nothing for now\n                // This can happen when multiple messages are clicked before the modal loads\n                return;\n            }\n\n            viewport.__pp_prev_content__ = viewport.getAttribute('content') ?? '';\n            viewport.setAttribute(\n                'content',\n                'width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui, shrink-to-fit=no'\n            );\n\n            document.body.__pp_prev_overflow__ = document.body.style.overflow ?? '';\n            document.body.__pp_prev_msOverflowStyle__ = document.body.style.msOverflowStyle ?? '';\n            document.body.style.setProperty('overflow', 'hidden');\n            document.body.style.setProperty('-ms-overflow-style', 'scrollbar');\n        },\n        () => {\n            viewport.setAttribute('content', viewport.__pp_prev_content__);\n            delete viewport.__pp_prev_content__;\n\n            document.body.style.setProperty('overflow', document.body.__pp_prev_overflow__);\n            document.body.style.setProperty('-ms-overflow-style', document.body.__pp_prev_msOverflowStyle__);\n            delete document.body.__pp_prev_overflow__;\n            delete document.body.__pp_prev_msOverflowStyle__;\n        }\n    ];\n});\n\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#improving_scrolling_performance_with_passive_listeners\nexport const getEventListenerPassiveOptionIfSupported = () => {\n    let passiveIfSupported = false;\n\n    try {\n        // Create dummy event listener so that if supported, the object will be crawled\n        // for the passive flag telling us that the option is supported in this browser\n        window.addEventListener(\n            '__test__',\n            null,\n            Object.defineProperty({}, 'passive', {\n                // eslint-disable-next-line getter-return\n                get() {\n                    passiveIfSupported = { passive: true };\n                }\n            })\n        );\n    } catch (err) {} // eslint-disable-line no-empty\n\n    return passiveIfSupported;\n};\n\nexport function getStandardProductOffer(offer) {\n    if (typeof offer === 'undefined') {\n        return 'NONE';\n    }\n\n    switch (offer.toUpperCase()) {\n        case 'LT_NQEZ':\n        case 'LT_NQGZ':\n        case 'LT_MQEZ':\n        case 'LT_MQEZ_RB':\n        case 'LT_MQGZ':\n        case 'LT_SQEZ':\n        case 'LT_SQEZ_RB':\n        case 'LT_SQGZ':\n        case OFFER.PAY_LATER_LONG_TERM:\n        case 'GPL:EQZ':\n        case 'GPL:GTZ':\n        case 'GPLQ:EQZ':\n        case 'GPLQ:GTZ':\n        case 'GPL:EQZ:NON-DE':\n        case 'GPL:GTZ:NON-DE':\n        case 'GPLQ:EQZ:NON-DE':\n        case 'GPLQ:GTZ:NON-DE':\n            return OFFER.PAY_LATER_LONG_TERM;\n        case OFFER.PAY_LATER_SHORT_TERM:\n        case 'GPL':\n        case 'GPLQ':\n        case 'GPLNQ':\n        case 'GPLNQ_RANGE':\n        case 'PL':\n        case 'PLQ':\n        case 'SHORT_TERM:Q':\n        case 'SHORT_TERM:NQ':\n        case 'SHORT_TERM:NO_AMOUNT':\n            return OFFER.PAY_LATER_SHORT_TERM;\n        case OFFER.PAY_LATER_PAY_IN_1:\n        case 'PI30':\n        case 'PI30Q':\n        case 'PI30NQ':\n        case 'PI30:NON-DE':\n        case 'PI30Q:NON-DE':\n        case 'PI30NQ:NON-DE':\n            return OFFER.PAY_LATER_PAY_IN_1;\n        case 'EZP':\n        case 'EZP:ANY:EQZ':\n        case 'EZP:ANY:GTZ':\n        case 'PALA:MULTI:EQZ':\n        case 'PALA:MULTI:GTZ':\n        case 'PALA:SINGLE:EQZ':\n        case 'PALA:SINGLE:GTZ':\n        case OFFER.PAYPAL_CREDIT_INSTALLMENTS:\n        case 'INST':\n        case 'INST:ANY:EQZ':\n        case 'INST:ANY:GTZ':\n        case 'PALAQ:ANY:EQZ':\n        case 'PALAQ:ANY:GTZ':\n            return OFFER.PAYPAL_CREDIT_INSTALLMENTS;\n        case OFFER.PAYPAL_CREDIT_NO_INTEREST:\n        case 'NI':\n        case 'NI:NON-US':\n        case 'NIQ':\n        case 'NIQ:NON-US':\n            return OFFER.PAYPAL_CREDIT_NO_INTEREST;\n        default:\n            return undefined;\n    }\n}\n\n/**\n * Get value of cookie name\n * @param name - name of cookie\n * @returns object of cookie value(s)\n */\nexport function getCookieByName(name) {\n    const cookieVal = decodeURIComponent(\n        // decode the cookie value\n        // get all cookies\n        document.cookie\n            .split('; ')\n            // separate the string into an array of cookies\n            // find the cookie by name\n            .find(cookieStr => cookieStr.startsWith(`${name}=`))\n            ?.slice(5) ?? ''\n        // use only the value of the cookie\n    );\n\n    // use URLSearchParams to parse the value string into entries,\n    // and create an object from those entries\n    // disable ESLint rule since we do not support IE anymore\n    // eslint-disable-next-line compat/compat\n    return Object.keys(cookieVal).length === 0 ? null : Object.fromEntries(new URLSearchParams(cookieVal).entries());\n    // check length of cookieVal obj to make sure keys exist.\n}\n\n// get the ts cookie from local storage\nexport function getTsCookieFromStorage() {\n    return getStorage().getState(storage => storage?.ts) ?? getCookieByName('ts_c');\n}\n","import { isZoidComponent } from './sdk';\n/**\n * Messaging debug log. When the query param \"pp_debug\" is used on a page with a message and set to \"true\", a series of logs will appear\n * within the browser's developer tools console.\n * @param {string} message - The name of the parameter you are logging out. Also often times includes the parameter to be logged\n * within a template string.\n * @param {object} debugObj - Optional argument used in cases where the property you wish to log is an object. i.e.\n * an HTML element. ppDebug('Script:', { debugObj: script }).\n * @param {boolean} inZoid - Optional argument. Set inZoid to true if you wish to log inside of the iframe. i.e. ppDebug('Sample message', {inZoid: true}). Not using this\n * argument defaults inZoid to false.\n */\nexport function ppDebug(message, { inZoid, debugObj } = {}) {\n    if (/(\\?|&)pp_debug=true(&|$)/.test(window.location.search) && !!inZoid === isZoidComponent()) {\n        // eslint-disable-next-line no-console\n        console.warn('PayPal Messages Debug:', message, debugObj ?? '');\n    }\n}\n","var parent = require('../../es/string/starts-with');\n\nmodule.exports = parent;\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = function () { /* empty */ };\n","var classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","/* @flow */\n\nexport const LOG_LEVEL = {\n  DEBUG: (\"debug\": \"debug\"),\n  INFO: (\"info\": \"info\"),\n  WARN: (\"warn\": \"warn\"),\n  ERROR: (\"error\": \"error\"),\n};\n\nexport const PROTOCOL = {\n  FILE: \"file:\",\n};\n","/* @flow */\n\nimport { LOG_LEVEL } from \"./constants\";\n\nexport const AUTO_FLUSH_LEVEL = [LOG_LEVEL.WARN, LOG_LEVEL.ERROR];\n\nexport const LOG_LEVEL_PRIORITY = [\n  LOG_LEVEL.ERROR,\n  LOG_LEVEL.WARN,\n  LOG_LEVEL.INFO,\n  LOG_LEVEL.DEBUG,\n];\n\nexport const FLUSH_INTERVAL = 60 * 1000;\n\nexport const DEFAULT_LOG_LEVEL: $Values<typeof LOG_LEVEL> = __DEBUG__\n  ? LOG_LEVEL.DEBUG\n  : LOG_LEVEL.WARN;\n","/* @flow */\n\nimport { type SameDomainWindowType } from \"@krakenjs/cross-domain-utils/src\";\n\nimport type { Payload } from \"./types\";\n\ntype CanUseBeaconOptions = {|\n  headers: { [string]: string },\n  enableSendBeacon: boolean,\n|};\n\nconst canUseSendBeacon = ({\n  headers,\n  enableSendBeacon,\n}: CanUseBeaconOptions): boolean => {\n  const hasHeaders = headers && Object.keys(headers).length;\n  if (\n    window &&\n    window.navigator.sendBeacon &&\n    !hasHeaders &&\n    enableSendBeacon &&\n    window.Blob\n  ) {\n    return true;\n  }\n\n  return false;\n};\n\ntype SendBeaconOptions = {|\n  win: SameDomainWindowType,\n  url: string,\n  data: JSON,\n  useBlob: boolean,\n|};\n\nconst sendBeacon = ({\n  win = window,\n  url,\n  data,\n  useBlob = true,\n}: SendBeaconOptions): boolean => {\n  try {\n    const json = JSON.stringify(data);\n\n    if (!win.navigator.sendBeacon) {\n      throw new Error(`No sendBeacon available`);\n    }\n\n    if (useBlob) {\n      const blob = new Blob([json], { type: \"application/json\" });\n      return win.navigator.sendBeacon(url, blob);\n    }\n\n    return win.navigator.sendBeacon(url, json);\n  } catch (e) {\n    return false;\n  }\n};\n\nconst extendIfDefined = (target: Payload, source: Payload) => {\n  for (const key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n};\n\nexport { canUseSendBeacon, extendIfDefined, sendBeacon };\n","/* @flow */\n\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport {\n  isBrowser,\n  promiseDebounce,\n  noop,\n  safeInterval,\n  objFilter,\n} from \"@krakenjs/belter/src\";\n\nimport {\n  DEFAULT_LOG_LEVEL,\n  LOG_LEVEL_PRIORITY,\n  AUTO_FLUSH_LEVEL,\n  FLUSH_INTERVAL,\n} from \"./config\";\nimport { LOG_LEVEL, PROTOCOL } from \"./constants\";\nimport { extendIfDefined } from \"./util\";\nimport { type Transport, getHTTPTransport } from \"./http\";\nimport type { MetricPayload, Payload } from \"./types\";\n\ntype LoggerOptions = {|\n  url?: string,\n  prefix?: string,\n  logLevel?: $Values<typeof LOG_LEVEL>,\n  transport?: Transport,\n  flushInterval?: number,\n  enableSendBeacon?: boolean,\n|};\n\ntype ClientPayload = Payload;\ntype Log = (name: string, payload?: ClientPayload) => LoggerType; // eslint-disable-line no-use-before-define\ntype Track = (payload: ClientPayload) => LoggerType; // eslint-disable-line no-use-before-define\ntype LogMetric = (payload: MetricPayload) => LoggerType; // eslint-disable-line no-use-before-define\ntype LogEvent = {|\n  level: $Values<typeof LOG_LEVEL>,\n  event: string,\n  payload: Payload,\n|};\n\ntype Builder = (Payload) => ClientPayload;\ntype AddBuilder = (Builder) => LoggerType; // eslint-disable-line no-use-before-define\n\nexport type LoggerType = {|\n  debug: Log,\n  info: Log,\n  warn: Log,\n  error: Log,\n\n  track: Track,\n  metric: LogMetric,\n\n  flush: () => ZalgoPromise<void>,\n  immediateFlush: () => ZalgoPromise<void>,\n\n  addPayloadBuilder: AddBuilder,\n  addMetaBuilder: AddBuilder,\n  addTrackingBuilder: AddBuilder,\n  addHeaderBuilder: AddBuilder,\n\n  setTransport: (Transport) => LoggerType,\n  configure: (LoggerOptions) => LoggerType,\n\n  __buffer__: {|\n    get events(): $ReadOnlyArray<LogEvent>,\n    get tracking(): $ReadOnlyArray<Payload>,\n    get metrics(): $ReadOnlyArray<MetricPayload>,\n  |},\n|};\n\nexport function Logger({\n  url,\n  prefix,\n  logLevel = DEFAULT_LOG_LEVEL,\n  transport = getHTTPTransport(),\n  flushInterval = FLUSH_INTERVAL,\n  enableSendBeacon = false,\n}: LoggerOptions): LoggerType {\n  let events: Array<LogEvent> = [];\n  let tracking: Array<Payload> = [];\n  let metrics: Array<MetricPayload> = [];\n\n  const payloadBuilders: Array<Builder> = [];\n  const metaBuilders: Array<Builder> = [];\n  const trackingBuilders: Array<Builder> = [];\n  const headerBuilders: Array<Builder> = [];\n\n  function print(\n    level: $Values<typeof LOG_LEVEL>,\n    event: string,\n    payload: Payload\n  ) {\n    if (!isBrowser() || !window.console || !window.console.log) {\n      return;\n    }\n\n    if (\n      LOG_LEVEL_PRIORITY.indexOf(level) > LOG_LEVEL_PRIORITY.indexOf(logLevel)\n    ) {\n      return;\n    }\n\n    const args = [event];\n\n    args.push(payload);\n\n    if (payload.error || payload.warning) {\n      args.push(\"\\n\\n\", payload.error || payload.warning);\n    }\n\n    try {\n      if (window.console[level] && window.console[level].apply) {\n        window.console[level].apply(window.console, args);\n      } else if (window.console.log && window.console.log.apply) {\n        window.console.log.apply(window.console, args);\n      }\n    } catch (err) {\n      // pass\n    }\n  }\n\n  function immediateFlush(): ZalgoPromise<void> {\n    return ZalgoPromise.try(() => {\n      if (!isBrowser() || window.location.protocol === PROTOCOL.FILE) {\n        return;\n      }\n\n      if (!events.length && !tracking.length && !metrics.length) {\n        return;\n      }\n\n      const meta = {};\n      for (const builder of metaBuilders) {\n        extendIfDefined(meta, builder(meta));\n      }\n\n      const headers = {};\n      for (const builder of headerBuilders) {\n        extendIfDefined(headers, builder(headers));\n      }\n\n      let res;\n\n      if (url) {\n        res = transport({\n          method: \"POST\",\n          url,\n          headers,\n          json: {\n            events,\n            meta,\n            tracking,\n            metrics,\n          },\n          enableSendBeacon,\n        }).catch(noop);\n      }\n\n      events = [];\n      tracking = [];\n      metrics = [];\n\n      return ZalgoPromise.resolve(res).then(noop);\n    });\n  }\n\n  const flush = promiseDebounce(immediateFlush);\n\n  function enqueue(\n    level: $Values<typeof LOG_LEVEL>,\n    event: string,\n    payload: Payload\n  ) {\n    events.push({\n      level,\n      event,\n      payload,\n    });\n\n    if (AUTO_FLUSH_LEVEL.indexOf(level) !== -1) {\n      flush();\n    }\n  }\n\n  function log(\n    level: $Values<typeof LOG_LEVEL>,\n    event: string,\n    payload = {}\n  ): LoggerType {\n    if (!isBrowser()) {\n      return logger; // eslint-disable-line no-use-before-define\n    }\n\n    if (prefix) {\n      event = `${prefix}_${event}`;\n    }\n\n    const logPayload: Payload = {\n      ...objFilter(payload),\n      timestamp: Date.now().toString(),\n    };\n\n    for (const builder of payloadBuilders) {\n      extendIfDefined(logPayload, builder(logPayload));\n    }\n\n    enqueue(level, event, logPayload);\n    print(level, event, logPayload);\n\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  function addBuilder(builders, builder): LoggerType {\n    builders.push(builder);\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  function addPayloadBuilder(builder): LoggerType {\n    return addBuilder(payloadBuilders, builder);\n  }\n\n  function addMetaBuilder(builder): LoggerType {\n    return addBuilder(metaBuilders, builder);\n  }\n\n  function addTrackingBuilder(builder): LoggerType {\n    return addBuilder(trackingBuilders, builder);\n  }\n\n  function addHeaderBuilder(builder): LoggerType {\n    return addBuilder(headerBuilders, builder);\n  }\n\n  function debug(event, payload): LoggerType {\n    return log(LOG_LEVEL.DEBUG, event, payload);\n  }\n\n  function info(event, payload): LoggerType {\n    return log(LOG_LEVEL.INFO, event, payload);\n  }\n\n  function warn(event, payload): LoggerType {\n    return log(LOG_LEVEL.WARN, event, payload);\n  }\n\n  function error(event, payload): LoggerType {\n    return log(LOG_LEVEL.ERROR, event, payload);\n  }\n\n  function track(payload = {}): LoggerType {\n    if (!isBrowser()) {\n      return logger; // eslint-disable-line no-use-before-define\n    }\n\n    const trackingPayload: Payload = objFilter(payload);\n\n    for (const builder of trackingBuilders) {\n      extendIfDefined(trackingPayload, builder(trackingPayload));\n    }\n\n    print(LOG_LEVEL.DEBUG, \"track\", trackingPayload);\n    tracking.push(trackingPayload);\n\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  function metric(metricPayload: MetricPayload): LoggerType {\n    if (!isBrowser()) {\n      return logger; // eslint-disable-line no-use-before-define\n    }\n\n    print(\n      LOG_LEVEL.DEBUG,\n      `metric.${metricPayload.metricNamespace}`,\n      metricPayload.dimensions || {}\n    );\n\n    metrics.push(metricPayload);\n\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  function setTransport(newTransport: Transport): LoggerType {\n    transport = newTransport;\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  function configure(opts: LoggerOptions): LoggerType {\n    if (opts.url) {\n      url = opts.url;\n    }\n\n    if (opts.prefix) {\n      prefix = opts.prefix;\n    }\n\n    if (opts.logLevel) {\n      logLevel = opts.logLevel;\n    }\n\n    if (opts.transport) {\n      transport = opts.transport;\n    }\n\n    if (opts.flushInterval) {\n      flushInterval = opts.flushInterval;\n    }\n\n    if (opts.enableSendBeacon) {\n      enableSendBeacon = opts.enableSendBeacon;\n    }\n\n    return logger; // eslint-disable-line no-use-before-define\n  }\n\n  if (isBrowser()) {\n    safeInterval(flush, flushInterval);\n  }\n\n  if (typeof window === \"object\") {\n    window.addEventListener(\"beforeunload\", () => {\n      immediateFlush();\n    });\n\n    window.addEventListener(\"unload\", () => {\n      immediateFlush();\n    });\n\n    window.addEventListener(\"pagehide\", () => {\n      immediateFlush();\n    });\n  }\n\n  const logger = {\n    debug,\n    info,\n    warn,\n    error,\n    track,\n    metric,\n    flush,\n    immediateFlush,\n    addPayloadBuilder,\n    addMetaBuilder,\n    addTrackingBuilder,\n    addHeaderBuilder,\n    setTransport,\n    configure,\n\n    // exposed primarily for testing\n    // exposes these buffers as readonly getters only\n    __buffer__: {\n      get events(): $ReadOnlyArray<LogEvent> {\n        return events;\n      },\n      get tracking(): $ReadOnlyArray<Payload> {\n        return tracking;\n      },\n      get metrics(): $ReadOnlyArray<MetricPayload> {\n        return metrics;\n      },\n    },\n  };\n\n  // mark the __buffer__ prop as readonly\n  Object.defineProperty(logger, \"__buffer__\", { writable: false });\n\n  return logger;\n}\n","/* @flow */\n\nimport { ZalgoPromise } from \"@krakenjs/zalgo-promise/src\";\nimport { request, noop } from \"@krakenjs/belter/src\";\nimport {\n  isSameDomain,\n  assertSameDomain,\n  type CrossDomainWindowType,\n} from \"@krakenjs/cross-domain-utils/src\";\n\nimport { canUseSendBeacon, sendBeacon } from \"./util\";\n\nexport type TransportOptions = {|\n  url: string,\n  method: string,\n  headers: { [string]: string },\n  json: Object,\n  enableSendBeacon?: boolean,\n|};\n\nexport type Transport = (TransportOptions) => ZalgoPromise<void>;\n\nexport function getHTTPTransport(httpWin?: CrossDomainWindowType): Transport {\n  return ({\n    url,\n    method,\n    headers,\n    json,\n    enableSendBeacon = false,\n  }: TransportOptions): ZalgoPromise<void> => {\n    return ZalgoPromise.try(() => {\n      const httpWindow = httpWin ? httpWin : window;\n      const win = isSameDomain(httpWindow)\n        ? assertSameDomain(httpWindow)\n        : window;\n      let beaconResult = false;\n\n      if (canUseSendBeacon({ headers, enableSendBeacon })) {\n        beaconResult = sendBeacon({ win, url, data: json, useBlob: true });\n      }\n\n      return beaconResult\n        ? beaconResult\n        : request({ win, url, method, headers, json });\n    }).then(noop);\n  };\n}\n","import arrayFind from 'core-js-pure/stable/array/find';\nimport arrayFrom from 'core-js-pure/stable/array/from';\nimport arrayFlatMap from 'core-js-pure/stable/array/flat-map';\nimport arrayIncludes from 'core-js-pure/stable/array/includes';\nimport stringStartsWith from 'core-js-pure/stable/string/starts-with';\nimport { ZalgoPromise } from '@krakenjs/zalgo-promise/src';\n\nimport { curry } from './functional';\nimport { objectMerge, flattenedToObject } from './objects';\nimport { ppDebug } from './debug';\n\nexport const getWindowFromElement = node => node?.ownerDocument?.defaultView;\n\nexport const getTopWindow = () => {\n    try {\n        // Try to access body which will throw an error if cross domain\n        return window.top.document.body && window.top;\n    } catch (err) {\n        return undefined;\n    }\n};\n\n/**\n * Check if object is an HTMLElement instance\n * @param {HTMLElement} el Element to check\n * @returns {Boolean} Is an HTMLElement\n */\nexport function isElement(el) {\n    return typeof HTMLElement === 'object'\n        ? el instanceof HTMLElement\n        : el && typeof el === 'object' && el !== null && el.nodeType === 1 && typeof el.nodeName === 'string';\n}\n\n/**\n * Return options object from valid container data attributes\n * @param {HTMLElement} container Container element with data attributes\n * @returns {Object} Options object\n */\nexport function getInlineOptions(container) {\n    // Allows for data attributes dependent on camel casing to function properly.\n    const attributeNameOverride = {\n        buyercountry: 'buyerCountry',\n        merchantid: 'merchantId',\n        cspnonce: 'cspNonce',\n        ectoken: 'ecToken',\n        customerid: 'customerId',\n        fontfamily: 'fontFamily',\n        fontsource: 'fontSource',\n        onclick: 'onClick',\n        onapply: 'onApply',\n        onrender: 'onRender',\n        'style-text-fontfamily': 'style-text-fontFamily',\n        'style-text-fontsource': 'style-text-fontSource'\n    };\n\n    const inlineEventHandlers = ['onclick', 'onapply', 'onrender'];\n\n    const getOptionValue = (name, value) => {\n        if (stringStartsWith(value, '[')) {\n            try {\n                return flattenedToObject(name, JSON.parse(value.replace(/'/g, '\"')));\n            } catch (err) {} // eslint-disable-line no-empty\n        }\n        return flattenedToObject(name, value);\n    };\n\n    const dataOptions = arrayFrom(container.attributes)\n        .filter(({ nodeName }) => stringStartsWith(nodeName, 'data-pp-'))\n        .reduce((accumulator, { nodeName, nodeValue }) => {\n            if (nodeValue) {\n                const attributeName = nodeName.replace('data-pp-', '');\n                const value = arrayIncludes(inlineEventHandlers, attributeName)\n                    ? // eslint-disable-next-line no-new-func\n                      new Function(nodeValue)\n                    : nodeValue;\n\n                return objectMerge(\n                    accumulator,\n                    getOptionValue(attributeNameOverride[attributeName] ?? attributeName, value)\n                );\n            }\n\n            return accumulator;\n        }, {});\n\n    if (\n        !container.firstElementChild ||\n        container.firstElementChild.tagName !== 'SCRIPT' ||\n        container.firstElementChild.getAttribute('type') !== 'text/template'\n    ) {\n        return dataOptions;\n    }\n\n    // For custom banners with inline markup\n    const markup = container.firstElementChild.textContent.trim();\n    container.removeChild(container.firstElementChild);\n\n    return objectMerge(dataOptions, { style: { markup } });\n}\n\n/**\n * Search for the first element of specified class name\n * @param {HTMLElement} container Container to search for element\n * @param {String} className Base element class name without prefix\n * @returns {HTMLElement} Matched element\n */\nexport const getElement = curry(\n    (prefix, container, className) => container.getElementsByClassName(`${prefix}__${className}`)[0]\n);\n\n/**\n * Create a new style element and prepend it to the container\n * @param {HTMLElement} container Container element to prepend new style\n * @param {String} text Text content of the style element\n * @returns {void}\n */\nexport const prependStyle = curry((container, text) => {\n    const elem = document.createElement('style');\n    elem.textContent = text;\n    container.insertBefore(elem, container.firstChild);\n});\n\n/**\n * Append text data into the container element\n * @param {HTMLElement} container Container element to append text\n * @param {any} obj Various inputs representing text to be appended\n * @returns {void}\n */\nexport const appendText = curry((container, obj) => {\n    if (Array.isArray(obj)) {\n        obj.forEach(elem => container.appendChild(elem));\n    } else if (obj instanceof HTMLElement) {\n        container.appendChild(obj);\n    } else if (typeof obj === 'string') {\n        const span = document.createElement('span');\n        span.innerHTML = obj;\n        container.appendChild(span);\n    } else if (obj === false) {\n        container.parentNode.removeChild(container);\n    }\n});\n\n/**\n * Append text data into the container element\n * @param {HTMLElement} container Container element to append text\n * @param {any} obj Various inputs representing text to be appended\n * @returns {void}\n */\nexport const prependText = curry((container, obj) => {\n    if (Array.isArray(obj)) {\n        [...obj].reverse().forEach(elem => container.insertBefore(elem, container.firstChild));\n    } else if (obj instanceof HTMLElement) {\n        container.insertBefore(obj, container.firstChild);\n    } else if (typeof obj === 'string') {\n        const span = document.createElement('span');\n        span.innerHTML = obj;\n        container.insertBefore(span, container.firstChild);\n    } else if (obj === false) {\n        container.parentNode.removeChild(container);\n    }\n});\n\n/**\n * Append a new image into the container element\n * @param {HTMLElement} container Container element to append image\n * @param {String} url Image src attribute\n * @param {String} alt Image alt attribute\n * @param {String} srcset Image srcset attribute\n * @returns {void}\n */\nexport const appendImage = curry((container, url, alt = 'PayPal Credit', srcset = '') => {\n    if (Array.isArray(url)) {\n        url.forEach(logo => appendImage(container, logo, alt));\n    } else if (typeof url === 'string') {\n        const logo = new Image();\n        logo.alt = alt;\n        logo.className = 'message__logo';\n        logo.src = url;\n\n        if (srcset) {\n            logo.srcset = srcset;\n        }\n\n        container.appendChild(logo);\n    } else if (typeof url === 'object') {\n        const {\n            src,\n            dimensions: [width, height]\n        } = url;\n\n        const logo = new Image();\n        logo.src = src;\n        logo.alt = alt;\n\n        const svgWrapper = document.createElement('div');\n        svgWrapper.className = 'message__logo message__logo--svg';\n\n        const canvas = document.createElement('canvas');\n        canvas.height = height;\n        canvas.width = width;\n\n        svgWrapper.appendChild(logo);\n        svgWrapper.appendChild(canvas);\n        container.appendChild(svgWrapper);\n    } else {\n        container.parentNode.removeChild(container);\n    }\n}, 2); // Need to manually set curry arity because of default parameters and transpiling\n\n/**\n * Ensure element is ready to be worked with. Necessary since\n * creating an iframe is asynchronous\n * @param {HTMLElement} element HTML Element\n * @returns {Promise<void>} Promise resolves when element is ready\n */\nexport const waitForElementReady = element =>\n    new ZalgoPromise(resolve => {\n        if (element.tagName === 'IFRAME' && element.contentWindow.document.readyState !== 'complete') {\n            element.addEventListener('load', resolve);\n        } else {\n            resolve();\n        }\n    });\n\n/**\n * Check if an element is within the current viewport\n * @param {HTMLElement} container DOM element\n * @returns {boolean} Visible or not visible\n */\nexport function isInViewport(container) {\n    const containerRect = container.getBoundingClientRect();\n    const containerWindow = getWindowFromElement(container);\n\n    const bannerY = (containerRect.top + containerRect.bottom) / 2;\n    const bannerX = (containerRect.left + containerRect.right) / 2;\n\n    if (bannerY > containerWindow.innerHeight || bannerY < 0) {\n        return false;\n    }\n    if (bannerX > containerWindow.innerWidth || bannerX < 0) {\n        return false;\n    }\n\n    return true;\n}\n\n/**\n * Check if an element is visually hidden on a page\n * @param {HTMLElement} container DOM element\n * @returns {boolean} Hidden or not hidden\n */\nexport function isHidden(container) {\n    const containerWindow = getWindowFromElement(container);\n\n    if (typeof containerWindow.getComputedStyle === 'function') {\n        const containerStyles = containerWindow.getComputedStyle(container);\n        if (\n            containerStyles.getPropertyValue('display') === 'none' ||\n            containerStyles.getPropertyValue('visibility') === 'hidden' ||\n            containerStyles.getPropertyValue('clip') !== 'auto'\n        )\n            return true;\n    }\n\n    const containerRect = container.getBoundingClientRect();\n    if (\n        containerRect.left > containerWindow.document.body.scrollWidth ||\n        containerRect.right < 0 ||\n        containerRect.top > containerWindow.document.body.scrollHeight ||\n        containerRect.bottom < 0\n    )\n        return true;\n\n    return container.offsetWidth === 0 || container.offsetHeight === 0;\n}\n\nexport function getAllBySelector(selector) {\n    if (typeof selector === 'string') {\n        return arrayFrom(document.querySelectorAll(selector));\n    }\n\n    if (isElement(selector)) {\n        return [selector];\n    }\n\n    if (Array.isArray(selector) && selector.every(isElement)) {\n        return arrayFlatMap(selector, getAllBySelector);\n    }\n\n    return [];\n}\n\n/**\n * Check if an element is completely within the bounds of another element\n * @param {HTMLElement} parentEl Parent element.\n * @param {HTMLElement} childEl Element to check if inside of parent.\n * @returns {boolean}\n */\nexport const elementContains = (parentEl, childEl) => {\n    if (\n        (parentEl?.nodeType !== Node.ELEMENT_NODE && !(parentEl instanceof Window)) ||\n        childEl?.nodeType !== Node.ELEMENT_NODE\n    ) {\n        return false;\n    }\n\n    const parentBounds =\n        parentEl instanceof Window\n            ? {\n                  top: 0,\n                  left: 0,\n                  bottom: parentEl.innerHeight,\n                  right: parentEl.innerWidth\n              }\n            : parentEl.getBoundingClientRect();\n    const childBounds = childEl.getBoundingClientRect();\n\n    return (\n        parentBounds.top <= childBounds.top &&\n        parentBounds.bottom >= childBounds.bottom &&\n        parentBounds.left <= childBounds.left &&\n        parentBounds.right >= childBounds.right\n    );\n};\n\n/**\n * Check if an element is completely outside the bounds of another element\n * @param {HTMLElement} parentEl Parent element.\n * @param {HTMLElement} childEl Element to check if outside of parent.\n * @returns {boolean}\n */\n\nexport const elementOutside = (parentEl, childEl) => {\n    if (\n        (parentEl?.nodeType !== Node.ELEMENT_NODE && !(parentEl instanceof Window)) ||\n        childEl?.nodeType !== Node.ELEMENT_NODE\n    ) {\n        return false;\n    }\n\n    const parentBounds =\n        parentEl instanceof Window\n            ? {\n                  top: 0,\n                  left: 0,\n                  bottom: parentEl.innerHeight,\n                  right: parentEl.innerWidth\n              }\n            : parentEl.getBoundingClientRect();\n    const childBounds = childEl.getBoundingClientRect();\n\n    return (\n        childBounds.left >= parentBounds.right ||\n        childBounds.right <= parentBounds.left ||\n        childBounds.bottom <= parentBounds.top ||\n        childBounds.top >= parentBounds.bottom\n    );\n};\n\n/**\n * Get the computed page root element that serves as the best wrapping element\n * that encompasses the entire content on the page without overflowing content\n * @param {HTMLElement} baseElement Element from which to create a path to determine the root\n * @returns {HTMLElement}\n */\nexport const getRoot = baseElement => {\n    const elementWindow = getWindowFromElement(baseElement);\n\n    const domPath = [];\n    {\n        let el = baseElement;\n        // Loop up the DOM tree to the root html node\n        while (el?.parentNode.nodeType === Node.ELEMENT_NODE) {\n            // Skip elements that are collapsed due to various CSS rules\n            // which causes an issue with determining the root element\n            if (el.parentNode.offsetHeight !== 0) {\n                domPath.push(el.parentNode);\n            }\n            el = el.parentNode;\n        }\n    }\n\n    domPath.reverse();\n    let biggestEl = domPath[0];\n\n    const computedRoot = arrayFind(domPath, (el, index, elements) => {\n        // We are searching for the element that contains the page scrolling.\n        // Some merchant sites will use height 100% on elements such as html and body\n        // that cause the intersection observer to hide elements below the fold.\n\n        const height = el.offsetHeight;\n        const child = elements[index + 1];\n        // Check if the next element is bigger than the current element and if so, save it and move on to the next element in the array\n        if (child && height <= child.offsetHeight) {\n            biggestEl = child;\n            return false;\n        }\n\n        const biggestElHeight = biggestEl.offsetHeight;\n        // window.innerHeight has a variable value on mobile based on the URL bar so\n        // we are looking for the element that is larger than the window\n        // TODO: This could potentially provide a false positive if a merchant is using height 100vh\n        // we are also checking to see if the height of the element we're currently on is also bigger or equal to\n        // the biggest element's height in the array.\n        if (height > elementWindow.innerHeight && height >= biggestElHeight) {\n            return true;\n        }\n\n        // Use array index instead of parentNode be default because collapsed\n        // elements may have been filtered out and should not be used for calculations\n        const parent = elements[index - 1] ?? el.parentNode; // First element should be <html> and will have a parent of document\n\n        // Ensure that the selected root is the larger of the parent\n        // and contains the child otherwise there may not be a proper page wrapper\n        // e.g. https://www.acwholesalers.com\n        if (child && child.offsetHeight < height && elementContains(parent, el)) {\n            return true;\n        }\n\n        return false;\n    });\n\n    // If the root element is entirely within the viewport then return undefined\n    // so that the viewport is used as the root. This helps with position fixed\n    // containers that may have content outside of the root element.\n    const root = elementContains(elementWindow, computedRoot) ? undefined : computedRoot;\n\n    ppDebug('Root:', {\n        debugObj: root || 'undefined. Viewport is used as the root.'\n    });\n\n    return root;\n};\n","// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","module.exports = {};\n","var parent = require('../../es/object/assign');\n\nmodule.exports = parent;\n","var classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","var toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","var aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","var global = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || defineGlobalProperty(SHARED, {});\n\nmodule.exports = store;\n","var trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var parent = require('../../es/string/includes');\n\nmodule.exports = parent;\n","var $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","var createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (target, key, value, options) {\n  if (options && options.enumerable) target[key] = value;\n  else createNonEnumerableProperty(target, key, value);\n  return target;\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineProperty = require('../internals/object-define-property').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar toString = require('../internals/object-to-string');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC, SET_METHOD) {\n  if (it) {\n    var target = STATIC ? it : it.prototype;\n    if (!hasOwn(target, TO_STRING_TAG)) {\n      defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });\n    }\n    if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {\n      createNonEnumerableProperty(target, 'toString', toString);\n    }\n  }\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar IS_PURE = require('../internals/is-pure');\nvar FunctionName = require('../internals/function-name');\nvar isCallable = require('../internals/is-callable');\nvar createIteratorConstructor = require('../internals/iterator-create-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar PROPER_FUNCTION_NAME = FunctionName.PROPER;\nvar CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {\n          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {\n      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);\n    } else {\n      INCORRECT_VALUES_NAME = true;\n      defaultIterator = function values() { return call(nativeIterator, this); };\n    }\n  }\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });\n  }\n  Iterators[NAME] = defaultIterator;\n\n  return methods;\n};\n","// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","var documentAll = typeof document == 'object' && document.all;\n\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nvar IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;\n\nmodule.exports = {\n  all: documentAll,\n  IS_HTMLDDA: IS_HTMLDDA\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.31.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype != 42;\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var bind = require('../internals/function-bind-context');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = uncurryThis([].push);\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that);\n    var length = lengthOfArrayLike(self);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push(target, value);      // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push(target, value);      // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar classof = require('../internals/classof');\nvar getBuiltIn = require('../internals/get-built-in');\nvar inspectSource = require('../internals/inspect-source');\n\nvar noop = function () { /* empty */ };\nvar empty = [];\nvar construct = getBuiltIn('Reflect', 'construct');\nvar constructorRegExp = /^\\s*(?:class|function)\\b/;\nvar exec = uncurryThis(constructorRegExp.exec);\nvar INCORRECT_TO_STRING = !constructorRegExp.exec(noop);\n\nvar isConstructorModern = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  try {\n    construct(noop, empty, argument);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n\nvar isConstructorLegacy = function isConstructor(argument) {\n  if (!isCallable(argument)) return false;\n  switch (classof(argument)) {\n    case 'AsyncFunction':\n    case 'GeneratorFunction':\n    case 'AsyncGeneratorFunction': return false;\n  }\n  try {\n    // we can't check .prototype since constructors produced by .bind haven't it\n    // `Function#toString` throws on some built-it function in some legacy engines\n    // (for example, `DOMQuad` and similar in FF41-)\n    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));\n  } catch (error) {\n    return true;\n  }\n};\n\nisConstructorLegacy.sham = true;\n\n// `IsConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-isconstructor\nmodule.exports = !construct || fails(function () {\n  var called;\n  return isConstructorModern(isConstructorModern.call)\n    || !isConstructorModern(Object)\n    || !isConstructorModern(function () { called = true; })\n    || called;\n}) ? isConstructorLegacy : isConstructorModern;\n","var isRegExp = require('../internals/is-regexp');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw $TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var parent = require('../../es/array/flat-map');\n\nmodule.exports = parent;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","var toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar toString = require('../internals/to-string');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/iterator-define');\nvar createIterResultObject = require('../internals/create-iter-result-object');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: toString(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return createIterResultObject(undefined, true);\n  point = charAt(string, index);\n  state.index += point.length;\n  return createIterResultObject(point, false);\n});\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + ' is not iterable');\n};\n","require('../../modules/es.object.assign');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.assign;\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","var call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","var call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw $TypeError(\"Can't convert object to primitive value\");\n};\n","var global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","require('../../modules/es.array.find');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'find');\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\n// eslint-disable-next-line es/no-array-prototype-find -- testing\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar $Array = Array;\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? $Array : C;\n};\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","require('../../modules/es.array.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar fails = require('../internals/fails');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// FF99+ bug\nvar BROKEN_ON_SPARSE = fails(function () {\n  // eslint-disable-next-line es/no-array-prototype-includes -- detection\n  return !Array(1).includes();\n});\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: BROKEN_ON_SPARSE }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","require('../../modules/es.string.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\nvar stringIndexOf = uncurryThis(''.indexOf);\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~stringIndexOf(\n      toString(requireObjectCoercible(this)),\n      toString(notARegExp(searchString)),\n      arguments.length > 1 ? arguments[1] : undefined\n    );\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar objectGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\nvar propertyIsEnumerable = uncurryThis($propertyIsEnumerable);\nvar push = uncurryThis([].push);\n\n// in some IE versions, `propertyIsEnumerable` returns incorrect result on integer keys\n// of `null` prototype objects\nvar IE_BUG = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-create -- safe\n  var O = Object.create(null);\n  O[2] = 2;\n  return !propertyIsEnumerable(O, 2);\n});\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var IE_WORKAROUND = IE_BUG && objectGetPrototypeOf(O) === null;\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || (IE_WORKAROUND ? key in O : propertyIsEnumerable(O, key))) {\n        push(result, TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","require('../../modules/es.string.iterator');\nrequire('../../modules/es.array.from');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Array.from;\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar charAt = uncurryThis(''.charAt);\nvar charCodeAt = uncurryThis(''.charCodeAt);\nvar stringSlice = uncurryThis(''.slice);\n\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = toString(requireObjectCoercible($this));\n    var position = toIntegerOrInfinity(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = charCodeAt(S, position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING\n          ? charAt(S, position)\n          : first\n        : CONVERT_TO_STRING\n          ? stringSlice(S, position, position + 2)\n          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","var DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","/* eslint-disable no-proto -- safe */\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');\n    setter(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","var isCallable = require('../internals/is-callable');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument) {\n  if (typeof argument == 'object' || isCallable(argument)) return argument;\n  throw $TypeError(\"Can't set \" + $String(argument) + ' as a prototype');\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar isConstructor = require('../internals/is-constructor');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $Array = Array;\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var IS_CONSTRUCTOR = isConstructor(this);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = getIterator(O, iteratorMethod);\n    next = iterator.next;\n    result = IS_CONSTRUCTOR ? new this() : [];\n    for (;!(step = call(next, iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = lengthOfArrayLike(O);\n    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","require('../../modules/es.string.starts-with');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'startsWith');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar nativeStartsWith = uncurryThis(''.startsWith);\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith(that, search, index)\n      : stringSlice(that, index, index + search.length) === search;\n  }\n});\n","require('../../modules/es.array.flat-map');\nrequire('../../modules/es.array.unscopables.flat-map');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'flatMap');\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-array.prototype.flatmap\n$({ target: 'Array', proto: true }, {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen = lengthOfArrayLike(O);\n    var A;\n    aCallable(callbackfn);\n    A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    return A;\n  }\n});\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg) : false;\n  var element, elementLen;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        elementLen = lengthOfArrayLike(element);\n        targetIndex = flattenIntoArray(target, original, element, elementLen, targetIndex, depth - 1) - 1;\n      } else {\n        doesNotExceedSafeInteger(targetIndex + 1);\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flatMap');\n","import arrayFind from 'core-js-pure/stable/array/find';\nimport arrayFrom from 'core-js-pure/stable/array/from';\n\nimport { getWindowFromElement } from './elements';\n\n// Map class name of visible element to size tag.\nconst toTagSize = classList => {\n    const sizes = ['xsmall', 'small', 'medium', 'large', 'xlarge'];\n\n    // Match on first tag contained in classList, ignoring other values.\n    const tag = arrayFind(sizes, size => classList.contains(`tag--${size}`)) || 'NONE';\n\n    return tag.toUpperCase();\n};\n\nconst getTagSize = node => {\n    // Provide NONE as value for section in payload if not shown\n    if (!node) {\n        return 'NONE';\n    }\n\n    const visibleElement = arrayFind(\n        arrayFrom(node.children),\n        element => getWindowFromElement(node).getComputedStyle(element).getPropertyValue('display') !== 'none'\n    );\n\n    if (!visibleElement) {\n        return 'NONE';\n    }\n\n    // Get the tag size of the element shown\n    return toTagSize(visibleElement.classList);\n};\n\nexport function getActiveTags(container) {\n    if (!container) {\n        return `headline:NONE::subheadline:NONE::disclaimer:NONE`;\n    }\n\n    const [headline, subHeadline, disclaimer] = [\n        container.querySelector('.message__headline'),\n        container.querySelector('.message__subheadline'),\n        container.querySelector('.message__disclaimer')\n    ];\n\n    return `headline:${getTagSize(headline)}::subheadline:${getTagSize(subHeadline)}::disclaimer:${getTagSize(\n        disclaimer\n    )}`;\n}\n","import { getPerformance, isIE } from '@krakenjs/belter/src';\n\nconst namespaced = name => `__paypal_messaging_performance__${name}`;\n\nexport const performance = getPerformance();\n\nexport const PERFORMANCE_MEASURE_KEYS = {\n    // the duration of time between beginning the first message render,\n    // to when zoid fires its Ready event\n    FIRST_RENDER_DELAY: 'firstRenderDelay',\n    // the duration of time between beginning the first modal render,\n    // to when zoid fires its Ready event\n    FIRST_MODAL_RENDER_DELAY: 'firstModalRenderDelay',\n\n    // the duration of time between beginning setup of messages & modals on\n    // the parent page, to when zoid fires its Ready event\n    SCRIPT_LOAD_DELAY: 'scriptLoadDelay',\n\n    // (PerformanceTiming.domContentLoadedEventStart is DEPRECATED, PerformanceNavigationTiming.domContentLoadedEventStart is not)\n    // the timestamp before the DOMContentLoaded event for the parent page\n    DOM_CONTENT_LOADED_EVENT_START: 'domContentLoadedEventStart',\n    // (PerformanceTiming.loadEventStart is DEPRECATED, PerformanceNavigationTiming.loadEventStart is not)\n    // when the load event was sent for the parent page\n    LOAD_EVENT_START: 'loadEventStart'\n};\n\nexport function getRequestDuration() {\n    // determine how long it took the iframe to load the banner message content\n    if (typeof performance?.getEntries !== 'function') {\n        return -1;\n    }\n\n    const validateMetric = metric => typeof metric === 'number' && metric > 0;\n\n    const requests = performance\n        .getEntries()\n        .filter(\n            ({ name, entryType }) =>\n                (entryType === 'navigation' || entryType === 'resource') &&\n                `${name}`.indexOf('/credit-presentment/smart/message') > -1\n        );\n\n    const [{ requestStart, responseStart }] = [...requests.slice(-1), {}];\n    // This measures the \"Waiting (Time To First Byte)\" for the request;\n    // how long we've spent waiting for a response after sending the request\n    return validateMetric(requestStart) && validateMetric(responseStart) ? responseStart - requestStart : -1;\n    // NOTE: PerformanceNavigationTiming.requestStart and PerformanceNavigationTiming.responseStart are DEPRECATED\n    // A suitable alternative that measures the value found in the Network tab of Dev Tools could not be found.\n    // https://w3c.github.io/navigation-timing/timestamp-diagram.svg\n}\n\nexport function getPerformanceMeasure(name) {\n    return performance?.getEntriesByName(namespaced(name))[0]?.duration ?? -1;\n}\n\nexport function getNavigationTiming(name) {\n    const entry = performance?.getEntriesByType('navigation')[0];\n\n    return entry?.[name] ?? -1;\n}\n\nexport function clearPerformance() {\n    if (performance) {\n        Object.values(PERFORMANCE_MEASURE_KEYS).forEach(name => {\n            performance.clearMarks(namespaced(name));\n            performance.clearMeasures(namespaced(name));\n        });\n    }\n}\n\nexport function addPerformanceMeasure(name, { startMark, endMark, repeat } = {}) {\n    if (performance) {\n        const existing = getPerformanceMeasure(name);\n\n        // Do not track additional values for existing marks\n        if (existing !== -1) {\n            if (!repeat) {\n                return;\n            }\n\n            performance.clearMeasures(namespaced(name));\n            performance.clearMarks(namespaced(name));\n        }\n\n        /* eslint-disable no-unused-expressions, flowtype/no-unused-expressions */\n        isIE()\n            ? performance.measure(namespaced(name))\n            : performance.measure(\n                  namespaced(name),\n                  startMark ? namespaced(startMark) : undefined,\n                  endMark ? namespaced(endMark) : undefined\n              );\n        /* eslint-enable no-unused-expressions, flowtype/no-unused-expressions */\n        performance.mark(namespaced(name));\n    }\n}\n","import createMessage from './Message';\n\nexport function setupMessage({ markup, meta, parentStyles, warnings }) {\n    const message = createMessage({ markup, meta, parentStyles, warnings });\n    document.body.appendChild(message);\n}\n","import objectEntries from 'core-js-pure/stable/object/entries';\nimport { uniqueID } from '@krakenjs/belter/src';\n\nimport {\n    request,\n    getActiveTags,\n    ppDebug,\n    createState,\n    parseObjFromEncoding,\n    getRequestDuration,\n    getTsCookieFromStorage,\n    getOrCreateDeviceID\n} from '../../utils';\n\nconst Message = function ({ markup, meta, parentStyles, warnings }) {\n    const { onClick, onReady, onHover, onMarkup, onProps, resize, messageRequestId } = window.xprops;\n\n    const dimensionsRef = { current: { width: 0, height: 0 } };\n\n    const [props, setProps] = createState({\n        amount: window.xprops.amount ?? null,\n        currency: window.xprops.currency ?? null,\n        buyerCountry: window.xprops.buyerCountry ?? null,\n        ignoreCache: window.xprops.ignoreCache ?? null,\n        style: window.xprops.style,\n        offer: window.xprops.offer ?? null,\n        payerId: window.xprops.payerId ?? null,\n        clientId: window.xprops.clientId ?? null,\n        merchantId: window.xprops.merchantId ?? null,\n        merchantConfigHash: window.xprops.merchantConfigHash ?? null,\n        disableSetCookie: window.xprops.disableSetCookie ?? null,\n        features: window.xprops.features ?? null\n    });\n\n    const [serverData, setServerData] = createState({\n        parentStyles,\n        warnings,\n        markup,\n        meta\n    });\n\n    const handleClick = () => {\n        if (typeof onClick === 'function') {\n            onClick({ meta: serverData.meta });\n        }\n    };\n\n    const handleHover = () => {\n        if (typeof onHover === 'function') {\n            onHover({ meta: serverData.meta });\n        }\n    };\n\n    // if there is a button reuse that instead of making a new one\n    const button = document.createElement('button');\n\n    button.setAttribute('type', 'button');\n\n    button.addEventListener('click', handleClick);\n    button.addEventListener('mouseover', handleHover);\n    button.addEventListener('focus', handleHover);\n\n    button.style.display = 'block';\n    button.style.background = 'transparent';\n    button.style.padding = 0;\n    button.style.border = 'none';\n    button.style.outline = 'none';\n    button.style.textAlign = window.xprops.style?.text?.align || 'left';\n    button.style.fontFamily = 'inherit';\n    button.style.fontSize = 'inherit';\n    button.innerHTML = markup ?? '';\n\n    onReady({\n        meta: serverData.meta,\n        activeTags: getActiveTags(button),\n        messageRequestId,\n        // Utility will create iframe ts_cookie values if it doesn't exist.\n        ts: getTsCookieFromStorage(),\n        // getRequestDuration runs in the child component (iframe/banner message),\n        // passing a value to onReady and up to the parent component to go out with\n        // the other stats\n        requestDuration: getRequestDuration()\n    });\n\n    onMarkup({\n        meta: serverData.meta,\n        styles: serverData.parentStyles,\n        warnings: serverData.warnings\n    });\n\n    window.addEventListener('focus', () => {\n        button.focus();\n    });\n\n    if (typeof onProps === 'function') {\n        onProps(xprops => {\n            const shouldRerender = Object.keys(props).some(key => {\n                // check to see if both x/props values are undefined or null\n                if (\n                    (typeof props[key] === 'undefined' || props[key] === null) &&\n                    (typeof xprops[key] === 'undefined' || xprops[key] === null)\n                ) {\n                    // x/props values are undefined or null carry on\n                    return false;\n                }\n\n                return typeof props[key] !== 'object'\n                    ? props[key] !== xprops[key]\n                    : JSON.stringify(props[key]) !== JSON.stringify(xprops[key]);\n            });\n\n            if (shouldRerender) {\n                const {\n                    amount,\n                    currency,\n                    buyerCountry,\n                    ignoreCache,\n                    offer,\n                    payerId,\n                    clientId,\n                    merchantId,\n                    version,\n                    env,\n                    stageTag,\n                    style,\n                    merchantConfigHash,\n                    channel,\n                    treatmentsHash,\n                    disableSetCookie,\n                    features\n                } = xprops;\n\n                setProps({\n                    amount,\n                    currency,\n                    buyerCountry,\n                    ignoreCache,\n                    style,\n                    offer,\n                    payerId,\n                    clientId,\n                    merchantId,\n                    merchantConfigHash,\n                    channel,\n                    disableSetCookie,\n                    features\n                });\n\n                // Generate new MRID on message update.\n                const newMessageRequestId = uniqueID();\n\n                const query = objectEntries({\n                    message_request_id: newMessageRequestId,\n                    amount,\n                    currency,\n                    buyer_country: buyerCountry,\n                    ignore_cache: ignoreCache,\n                    style,\n                    credit_type: offer,\n                    payer_id: payerId,\n                    client_id: clientId,\n                    merchant_id: merchantId,\n                    version,\n                    env,\n                    stageTag,\n                    merchant_config: merchantConfigHash,\n                    channel,\n                    deviceID: getOrCreateDeviceID(),\n                    treatments: treatmentsHash,\n                    disableSetCookie,\n                    features\n                })\n                    .filter(([, val]) => Boolean(val))\n                    .reduce(\n                        (acc, [key, val]) =>\n                            `${acc}&${key}=${encodeURIComponent(typeof val === 'object' ? JSON.stringify(val) : val)}`,\n                        ''\n                    )\n                    .slice(1);\n\n                ppDebug('Updating message with new props...', { inZoid: true });\n\n                request('GET', `${window.location.origin}/credit-presentment/smart/message?${query}`).then(\n                    ({ data: resData }) => {\n                        const encodedData = resData.slice(resData.indexOf('<!--') + 4, resData.indexOf('-->'));\n                        const data = parseObjFromEncoding(encodedData);\n                        button.innerHTML = data.markup ?? markup ?? '';\n                        const buttonWidth = button.offsetWidth;\n                        const buttonHeight = button.offsetHeight;\n                        // Zoid will not fire a resize event if the markup has the same dimensions meaning the render event\n                        // in the overflow observer will not fire. This forces the resize event to fire for every render\n                        // so that the render complete logs will always fire\n                        if (\n                            dimensionsRef.current.width === buttonWidth &&\n                            dimensionsRef.current.height === buttonHeight\n                        ) {\n                            // resizes the iframe\n                            resize({ width: buttonWidth, height: buttonHeight });\n                        } else {\n                            dimensionsRef.current = { width: buttonWidth, height: buttonHeight };\n                        }\n\n                        if (typeof onReady === 'function') {\n                            // currency, amount, payerId, clientId, merchantId, buyerCountry\n                            onReady({\n                                meta: data.meta ?? serverData.meta,\n                                activeTags: getActiveTags(button),\n                                messageRequestId: newMessageRequestId,\n                                // Utility will create iframe ts cookie if it doesn't exist.\n                                ts: getTsCookieFromStorage(),\n                                // getRequestDuration runs in the child component (iframe/banner message),\n                                // passing a value to onReady and up to the parent component to go out with\n                                // the other stats\n                                requestDuration: getRequestDuration()\n                            });\n                        }\n\n                        if (typeof onMarkup === 'function') {\n                            if (\n                                serverData.parentStyles !== (data.parentStyles ?? parentStyles) ||\n                                serverData.warnings !== (data.warnings ?? warnings) ||\n                                serverData.markup !== (data.markup ?? markup)\n                            ) {\n                                // resizes the parent message div\n                                onMarkup({\n                                    meta: data.meta ?? serverData.meta,\n                                    styles: data.parentStyles ?? serverData.parentStyles,\n                                    warnings: data.warnings ?? serverData.warnings\n                                });\n                            }\n                        }\n\n                        setServerData({\n                            parentStyles: data.parentStyles ?? serverData.parentStyles,\n                            warnings: data.warnings ?? serverData.warnings,\n                            markup: data.markup ?? serverData.markup,\n                            meta: data.meta ?? serverData.meta\n                        });\n                    }\n                );\n            }\n        });\n    }\n\n    return button;\n};\n\nexport default Message;\n"],"sourceRoot":""}