/* version: 1.16.0 */
window.crc=function(e){function t(t){for(var r,o,c=t[0],u=t[1],l=t[2],f=0,d=[];f<c.length;f++)({}).hasOwnProperty.call(i,o=c[f])&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)({}).hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++)0!==i[n[c]]&&(r=!1);r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={1:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return{}.hasOwnProperty.call(e,t)},o.p="";var c=("undefined"!=typeof self?self:this).webpackJsonpcrc=("undefined"!=typeof self?self:this).webpackJsonpcrc||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;return a.push([153,0]),n()}({153:function(e,t,n){"use strict";n.r(t),n.d(t,"setupMessage",(function(){return O}));var r=n(1),i=n(29),a=n(38),o=n(12),c=n.n(o),u=n(3),l=n(10),s=n.n(l),f=n(36),d=n.n(f),p=(n(85),n(47),n(37),n(13));n(2),n(16),Object(p.a)((function(e,t,n){return t.getElementsByClassName(e+"__"+n)[0]})),Object(p.a)((function(e,t){var n=document.createElement("style");n.textContent=t,e.insertBefore(n,e.firstChild)})),Object(p.a)((function(e,t){if(Array.isArray(t))t.forEach((function(t){return e.appendChild(t)}));else if(t instanceof HTMLElement)e.appendChild(t);else if("string"==typeof t){var n=document.createElement("span");n.innerHTML=t,e.appendChild(n)}else!1===t&&e.parentNode.removeChild(e)})),Object(p.a)((function(e,t){if(Array.isArray(t))[].concat(t).reverse().forEach((function(t){return e.insertBefore(t,e.firstChild)}));else if(t instanceof HTMLElement)e.insertBefore(t,e.firstChild);else if("string"==typeof t){var n=document.createElement("span");n.innerHTML=t,e.insertBefore(n,e.firstChild)}else!1===t&&e.parentNode.removeChild(e)}));var m=Object(p.a)((function(e,t,n,r){if(void 0===n&&(n="PayPal Credit"),void 0===r&&(r=""),Array.isArray(t))t.forEach((function(t){return m(e,t,n)}));else if("string"==typeof t){var i=new Image;i.alt=n,i.className="message__logo",i.src=t,r&&(i.srcset=r),e.appendChild(i)}else if("object"==typeof t){var a=t.src,o=t.dimensions,c=o[0],u=o[1],l=new Image;l.src=a,l.alt=n;var s=document.createElement("div");s.className="message__logo message__logo--svg";var f=document.createElement("canvas");f.height=u,f.width=c,s.appendChild(l),s.appendChild(f),e.appendChild(s)}else e.parentNode.removeChild(e)}),2),y=function(e){if(!e)return"NONE";var t,n=s()(d()(e.children),(function(t){return"none"!==function(e){var t;return null==e||null==(t=e.ownerDocument)?void 0:t.defaultView}(e).getComputedStyle(t).getPropertyValue("display")}));return n?(t=n.classList,(s()(["xsmall","small","medium","large","xlarge"],(function(e){return t.contains("tag--"+e)}))||"NONE").toUpperCase()):"NONE"};function h(e){if(!e)return"headline:NONE::subheadline:NONE::disclaimer:NONE";var t=[e.querySelector(".message__headline"),e.querySelector(".message__subheadline"),e.querySelector(".message__disclaimer")],n=t[1],r=t[2];return"headline:"+y(t[0])+"::subheadline:"+y(n)+"::disclaimer:"+y(r)}var g=n(156),b=n(160),v=function(){var e=Object(i.b)(),t=e.amount,n=e.currency,o=e.buyerCountry,l=e.style,s=e.offer,f=e.payerId,d=e.clientId,p=e.merchantId,m=e.onClick,y=e.onReady,v=e.onHover,O=e.onMarkup,j=e.resize,_=Object(a.b)(),w=_.markup,C=_.meta,N=_.parentStyles,E=_.warnings,S=_.setServerData,M=Object(u.i)({width:0,height:0}),k=Object(u.i)(),P=function(){"function"==typeof v&&v({meta:C})};return Object(u.f)((function(){"function"==typeof O&&O({meta:C,styles:N,warnings:E})}),[N,E,w]),Object(u.f)((function(){"function"==typeof y&&y({meta:C,activeTags:h(k.current)})}),[C.messageRequestId]),Object(b.b)((function(){var e=k.current.offsetWidth,t=k.current.offsetHeight;M.current.width===e&&M.current.height===t?j({width:e,height:t}):M.current={width:e,height:t}})),Object(b.a)((function(){var e=c()({message_request_id:C.messageRequestId,amount:t,currency:n,buyer_country:o,style:l,credit_type:s,payer_id:f,client_id:d,merchant_id:p}).filter((function(e){return Boolean(e[1])})).reduce((function(e,t){var n=t[1];return e+"&"+t[0]+"="+encodeURIComponent("object"==typeof n?JSON.stringify(n):n)}),"").slice(1);Object(g.b)("GET",window.location.origin+"/credit-presentment/renderMessage?"+e).then((function(e){var t,n,r,i,a=e.data;S({markup:null!=(t=a.markup)?t:w,meta:null!=(n=a.meta)?n:C,parentStyles:null!=(r=a.parentStyles)?r:N,warnings:null!=(i=a.warnings)?i:E})}))}),[t,n,o,JSON.stringify(l),s,f,d,p]),Object(r.g)("button",{type:"button",ref:k,onClick:function(){"function"==typeof m&&m({meta:C})},onMouseOver:P,onFocus:P,"aria-label":"PayPal Credit Message",style:{display:"block",background:"transparent",padding:0,border:"none",outline:"none",textAlign:"left",fontFamily:"inherit",fontSize:"inherit"},innerHTML:w})};function O(e){var t=e.markup,n=e.meta,o=e.parentStyles,c=e.warnings;Object(r.j)(Object(r.g)(i.a,null,Object(r.g)(a.a,{data:{markup:t,meta:n,parentStyles:o,warnings:c}},Object(r.g)(v,null))),document.body)}}});
//# sourceMappingURL=smart-credit-message.js.map